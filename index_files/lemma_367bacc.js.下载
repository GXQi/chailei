;/*!wiki-m-lemma:static/base/base.js*/
define("wiki-m-lemma:static/base/base",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog","wiki-m-common:widget/component/sf/sf","wiki-m-common:widget/component/swan/swan.min","wiki-m-common:widget/component/swan/swanUtil"],function(t,e){function a(){var t={},e=location.search.slice(1);return e&&o.each(e.split("&"),function(e,a){var n=a.split("=");t[n[0]]=decodeURIComponent(n[1])}),t}function n(t,e){var a="//www.baidu.com/nocache/fesplg/s.gif",n=a+"?"+o.param(t),i=null,r=Date.now(),l=window[r+"sf_baike"]=new Image;l.onload=l.onerror=l.onabort=function(){window[r+"sf_baike"]=null,i&&(clearTimeout(i),i=null,e())},l.src=n,"function"==typeof e&&(i=setTimeout(function(){i=null,e()},500))}function i(t){var e=o(document.head),a=e.find('[rel="apple-touch-icon-precomposed"]'),n=e.find('[rel="apple-touch-startup-image"]');a.length>0&&a.attr("href",t||o("#apple_touch_icon_precomposed").val()),n.length>0&&n.attr("href",t||o("#apple_touch_startup_image").val())}var o=t("wiki-m-common:widget/lib/zepto/zepto"),r=t("wiki-m-common:widget/util/nslog"),l=t("wiki-m-common:widget/component/sf/sf"),m=t("wiki-m-common:widget/component/swan/swan.min"),c=t("wiki-m-common:widget/component/swan/swanUtil"),d=function(t){var e=a(),i=e.sample,r=o.extend({type:"baike",log_type:"sf"},t);("sf_baike_C"===i||"sf_baike_D"===i)&&(r.sample=i,n(r))};o(".quickNav-item").on("tap",function(){r.qAll("quickNavClick",["lemmaId="+o("#J-vars").attr("data-newLemmaId")])}),o(".J-inlink-title").live("click",function(t){t.preventDefault(),r.q("inlinkUseTitle"),r.qAll("inlinkUse",["newLemmaId="+o("#J-vars").attr("data-newLemmaId"),"toLemmaTitle="+o(this).parent().attr("data-title"),"toLemmaId="+o(this).parent().attr("data-lemmaId")]),page.inSf?o("#chain").hide():window.open(o(this).attr("href"))}),o(".J-inlink-img").live("click",function(t){t.preventDefault(),r.q("inlinkUseImg"),r.qAll("inlinkUse",["newLemmaId="+o("#J-vars").attr("data-newLemmaId"),"toLemmaTitle="+o(this).parent().attr("data-title"),"toLemmaId="+o(this).parent().attr("data-lemmaId")]),page.inSf?o("#chain").hide():window.open(o(this).attr("href"))}),o(".J-inlink-summary").live("click",function(t){t.preventDefault(),r.q("inlinkUseSummary"),r.qAll("inlinkUse",["newLemmaId="+o("#J-vars").attr("data-newLemmaId"),"toLemmaTitle="+o(this).parent().attr("data-title"),"toLemmaId="+o(this).parent().attr("data-lemmaId")]),page.inSf?o("#chain").hide():window.open(o(this).attr("href"))}),o(".J-inlink-bottom").live("click",function(t){t.preventDefault(),r.q("inlinkUseBottom"),r.qAll("inlinkUse",["newLemmaId="+o("#J-vars").attr("data-newLemmaId"),"toLemmaTitle="+o(this).prev().attr("data-title"),"toLemmaId="+o(this).prev().attr("data-lemmaId")]),page.inSf?o("#chain").hide():window.open(o(this).attr("href"))}),o("a").live("tap",function(){var t=o(this),e=t.attr("href");!t.hasClass("no-inlink")&&e&&e.search(/\/item\//)>-1&&(o(".go-baidu-search").length>0&&r.qAll("20014103"),o("#J-other-se").length>0&&r.qAll("20014203"))}),o(window).on("load",function(){if(document.referrer.indexOf("m.baidu.com")>-1&&window.performance&&window.performance.timing){var t=window.performance.timing;r.q2("33000004",["domInteractiveTime="+(t.domInteractive-t.navigationStart)])}});var s=!1;e.init=function(t){var e=new l,a=o("#J-lemma");if(e.$view[0].addEventListener("rt.attached",function(){if(i(),s){var t=e.$view[0].ralltiir;if(t&&t.performance){var a;a=t.performance.requestStart?["beforeRequestStart="+(t.performance.requestStart-t.performance.navigationStart),"beforeDomLoading="+(t.performance.domLoading-t.performance.navigationStart),"headInteractive="+(t.performance.headInteractive-t.performance.navigationStart),"domContentLoaded="+(t.performance.domContentLoaded-t.performance.navigationStart),"domInteractive="+(t.performance.domInteractive-t.performance.navigationStart)]:["domInteractive="+(t.performance.domInteractive-t.performance.navigationStart)],a.push("lemmaId="+o("#J-vars").attr("data-newLemmaId")),r.q2("33000001",a),location.search.indexOf("rid=")>-1&&r.q2("33000003",["domInteractiveTime="+(t.performance.domInteractive-t.performance.navigationStart)])}}}),e.$view[0].addEventListener("rt.willDetach",function(){i("")}),!t.inSmartprogram&&t.lemmaTitle&&(document.title=t.lemmaTitle+"_百度百科"),t.summary&&o('meta[name="description"]').attr("content",t.summary),t.inSmartprogram){m.setNavigationBarTitle({title:"百度百科"}),a.on("click",".J-inlink",function(){c.navigateTo("/pages/white/white",o(this).attr("href"))});var n="#ffffff",f="#000000";a.on("webViewChange",function(t,e){"videoFlow"===e?(m.setNavigationBarTitle({title:"秒懂百科"}),m.setNavigationBarColor({frontColor:n,backgroundColor:f})):"brandStory"===e?(m.setNavigationBarTitle({title:"品牌故事"}),m.setNavigationBarColor({frontColor:f,backgroundColor:n})):(m.setNavigationBarTitle({title:"百度百科"}),m.setNavigationBarColor({frontColor:f,backgroundColor:n}))}),m.setNavigationBarColor({frontColor:f,backgroundColor:n})}a.on("click",".content-img-link",function(){r.q("contentImgClick"),r.q("allImgClick"),o(".go-baidu-search").length>0&&r.qAll("20014104"),o("#J-other-se").length>0&&r.qAll("20014204"),o(this).attr("data-sf-href")||(window.location.href=o(this).attr("data-href"))}),a.on("click",".role-image",function(){r.q("roleImgClick"),r.q("allImgClick"),o(this).attr("data-sf-href")||(window.location.href=o(this).attr("data-href"))}),a.on("click",".content-album-link",function(){r.q("contentAlbumClick"),r.q("allImgClick"),o(this).hasClass("album1")?r.qAll("20000107"):o(this).hasClass("album2")?r.qAll("20000108"):o(this).hasClass("album3")&&r.qAll("20000109"),o(this).attr("data-sf-href")||(window.location.href=o(this).attr("data-href"))}),o(".summary-link").on("click",function(){r.q("summaryImgClick"),r.q("summaryImgNewClick"),r.q("allImgClick");var t=o(this).attr("data-href");o(this).attr("data-sf-href")||!c.inSmartprogram&&t&&(window.location.href=t)}),o("#J-gotoAlbum").on("click",function(){o(this).attr("data-sf-href")||(window.location.href=o(this).attr("data-href"))}),o("#J-quickNav").length>0&&r.qAll("quickNavShow",["lemmaId="+o("#J-vars").attr("data-newLemmaId")]),o(".newsCard").length>0&&r.q("newsShow"),o("#J-flower").length>0&&r.q("flowerShow"),r.q("totalPV"),d({extra:"sf_bk_pageNum_0"}),r.qArray("totalFirstPV",["time="+o("#J-vars").data("time")]),r.q(window.location.href.indexOf("bk_fr=chain")>-1?"fScreenInlink":"fScreen"),o("#J-feedback").click(function(){r.q("feedbackBottomClick")}),o("#J-gotoPC-top").click(function(){r.q("gotoPcTopClick")}),o(".layout-icons_new-sound1").length>0&&r.qAll(20013073),o(".layout-icons_new-sound1").length>0&&o(".layout-icons_new-sound1").tap(function(){r.qAll(20013075)});var w=(new Date).getTime();if(e.inSf){var h=e.$view[0];h.addEventListener("rt.attached",function(){w=(new Date).getTime()}),h.addEventListener("rt.willDetach",function(){var t=o("#J-vars").attr("data-newLemmaId"),e=(new Date).getTime()-w;r.qArray("onlineDurationWifi",["newLemmaId="+t,"time="+e,"pageType=lemma"])})}else o(window).on("unload",function(){var t=o("#J-vars").attr("data-newLemmaId"),e=(new Date).getTime()-w;r.qArray("onlineDurationWifi",["newLemmaId="+t,"time="+e,"pageType=lemma"])});var u=Math.floor(o(window).scrollTop()/o(window).height())+1;o(window).on("scroll",function(){if(!e.inSf||e.isActive()){if("none"===o("#J-lemma").css("display"))return;var t=Math.floor(o(window).scrollTop()/o(window).height())+1,a=(new Date).getTime()-w;t!==u&&(r.qAll("20013107",["lemmaId="+o("#J-vars").attr("data-newLemmaId"),"screen="+u,"time="+a]),u=t,w=(new Date).getTime())}}),c.inSmartprogram&&e.$view.children(".rt-body").on("click","a",function(t){var e=o(this),a=e.attr("href");if(!(!e.hasClass("no-inlink")&&a&&a.search(/\/item\//)>-1)){var n=o.trim(e.attr("data-sf-href")||e.attr("data-href")||a);!e.hasClass("J-inlink")&&n&&-1===n.indexOf("javascript")&&(t.preventDefault(),t.stopPropagation(),c.navigateTo(n))}}),s=!0}});
;/*!wiki-m-lemma:widget/additionalContent-n/promotion/mix.js*/
define("wiki-m-lemma:widget/additionalContent-n/promotion/mix",["require","exports","module"],function(e,t,i){var n=function(){var e={},t={},i=0,n=0,r=this,a=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q"];a=a.concat(["r","s","t","u","v","w","x","y","z"]),a=a.concat(["A","B","C","D","E","F","G","H","I","J","K"]),a=a.concat(["L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]),this.mixed=function(){},this.getKey=function(t){return e[t]},this.mixedStyle=function(e){r.parseStyle(e)},this.insertStyle=function(e){var t=document.createElement("style");t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)},this.mixedHtml=function(e){return e=e.replace(/class=[\'\"](.[^\'\"]*)[\'\"]/gi,function(e,t){return'class="'+r.encodeString(t)+'"'}),e=e.replace(/id=[\'\"](.[^\'\"]*)[\'\"]/gi,function(e,t){return'id="'+r.encodeString(t)+'"'}),e=e.replace(/href=[\'\"](.[^\'\"]*)[\'\"]/gi,function(e,n){t[i++]=n;var r="page";return'onclick="'+r+".Mixedor.mixedOpen(this,"+(i-1)+')"'})},this.mixedOpen=function(e,i){e.getAttribute("target")&&"_blank"===e.getAttribute("target")?window.open(t[i]):window.location.href=t[i]},this.encode=function(t){return e[t]||(e[t]=o(t)),e[t]};var o=function(e){for(var t=e.length,i=[],r=0;t>r;r++)i.push(a[Math.floor(54*Math.random())]);return i.join("")+n++};this.encodeString=function(e){var t=null;if(e.indexOf(":")>-1){var i=e.split(":")[1];t=e.split(":")[0].split(" ")}else t=e.split(" ");for(var n="",r=0;r<t.length;r++){var a=t[r],o=a.indexOf(".")>-1?".":a.indexOf("#")>-1?"#":"";a=a.replace(o,"");var d=this.encode(a);n+=o+d,r<t.length-1&&(n+=" ")}return e.indexOf(":")>-1&&(n+=":"+i),n},this.parseStyle=function(e){var t=[],i={},n=0,a=0,o=!1,d=function(e,d){var s=e,p=new Image;p.src=s;var l=function(){if(p.width>0||p.height>0){if(i[d]="padding-top:"+p.height/p.width*100+"%",n++,o&&a===n){for(var e=0;a>e;e++)t=t.replace("adapt-img"+e,i[e]);r.insertStyle(t)}}else setTimeout(l,40)};l()};for(var s in e){for(var p=s.split(" "),l="",c=0;c<p.length;c++)l+=p[c].indexOf(".")>-1||p[c].indexOf("#")>-1?this.encodeString(p[c]):p[c],l+=" ";t.push(l+"{");for(var u in e[s])"adapt-img"===u?(t.push("display: block;"),t.push("background-image:url("+e[s][u]+");"),t.push("background-size: cover;"),t.push("background-repeat: no-repeat;"),t.push("adapt-img"+a++ +";"),d(e[s][u],a-1)):"display"===u&&"flex"===e[s][u]?(t.push("display:-webkit-box;"),t.push("display:-moz-box;"),t.push("display:-webkit-flex;"),t.push("display:flex;")):t.push(e[s][u].indexOf("}")>-1?u+":"+e[s][u].split("}")[0]+";}":u+":"+e[s][u]+";");t.push("}")}if(t=t.join(""),o=!0,a===n){for(var c=0;a>c;c++)t=t.replace("adapt-img"+c,i[c]);r.insertStyle(t)}}};page.Mixedor=new n,i.exports=page.Mixedor});
;/*!wiki-m-lemma:widget/content-n/content/content.js*/
define("wiki-m-lemma:widget/content-n/content/content",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/lib/iscroll/iscroll.min","wiki-m-common:widget/util/nslog","wiki-m-common:widget/util/cookie","wiki-m-lemma:widget/tools/getUrlParameterByName/getUrlParameterByName","wiki-m-lemma:widget/tools/openBoxEid/openBoxEid","wiki-m-lemma:widget/tools/bkclick/bkclick.es","wiki-m-lemma:widget/lemmaedit/lemmaedit.es","wiki-m-common:widget/component/sf/sf","wiki-m-lemma:widget/additionalContent-n/promotion/mix","wiki-m-common:widget/util/baidubox","wiki-m-common:widget/component/swan/swanUtil"],function(e,t){function a(e,t){var a="//www.baidu.com/nocache/fesplg/s.gif",o=a+"?"+h.param(e),n=null,i=Date.now(),s=window[i+"sf_baike"]=new Image;s.onload=s.onerror=s.onabort=function(){window[i+"sf_baike"]=null,n&&(clearTimeout(n),n=null,t())},s.src=o,"function"==typeof t&&(n=setTimeout(function(){n=null,t()},500))}function o(e){this.init(e)}function n(){var e={},t=location.search.slice(1);return t&&h.each(t.split("&"),function(t,a){var o=a.split("=");e[o[0]]=decodeURIComponent(o[1])}),e}function i(){var e=n(),t=201,a="A B C D".split(" "),o="201 202 203 205".split(" "),i="sf_baike_",s={};return h.each(a,function(e,t){s[i+t]=o[e]}),e.sample&&(t=s[e.sample]),t}function s(){h(".lazy-img").imglazyload()}function l(e){if("del"===e)h("#loading").remove();else{var t=document.createElement("div");t.id="loading",t.innerHTML='<div class="icon_load"></div> 加载中...',h("#sfr-app > .rt-view > .rt-body").append(t),h("#loading").css({left:h(window).width()/2-25,top:h(window).height()/2-25+window.pageYOffset}),h("#loading").on("orientationchange",function(){h("#loading").css({left:h(window).width()/2-25,top:h(window).height()/2-25+window.pageYOffset})})}}function r(e){var t=h("#yx_load_more"),a=t.find(".yx-load-moreContenting"),o=t.find(".yx-load-moreContent");"del"===e?(a.hide(),o.show(),m.q2("20001523")):(a.show(),o.hide())}function c(e){var t=h(window).scrollTop();e!==t&&setTimeout(function(){window.scrollTo(0,e)},300)}function d(e,t){var a,o,n,i,s=0,l=function(){s=new Date,n=null,i=e.apply(a,o)};return function(){var r=new Date,c=t-(r-s);return a=this,o=arguments,0>=c?(clearTimeout(n),n=null,s=r,i=e.apply(a,o)):n||(n=setTimeout(l,c)),i}}var h=e("wiki-m-common:widget/lib/zepto/zepto"),p=e("wiki-m-common:widget/lib/iscroll/iscroll.min"),m=e("wiki-m-common:widget/util/nslog"),u=e("wiki-m-common:widget/util/cookie"),g=e("wiki-m-lemma:widget/tools/getUrlParameterByName/getUrlParameterByName"),f=(e("wiki-m-lemma:widget/tools/openBoxEid/openBoxEid"),e("wiki-m-lemma:widget/tools/bkclick/bkclick.es")),w=e("wiki-m-lemma:widget/lemmaedit/lemmaedit.es"),v=e("wiki-m-common:widget/component/sf/sf");e("wiki-m-lemma:widget/additionalContent-n/promotion/mix"),e("wiki-m-common:widget/util/baidubox");var b=e("wiki-m-common:widget/component/swan/swanUtil"),y=function(e){var t=n(),o=t.sample,i=h.extend({type:"baike",log_type:"sf"},e);("sf_baike_C"===o||"sf_baike_D"===o)&&(i.sample=o,a(i))};o.prototype.init=function(e){this.sf=new v,this.isYxShow=0,this.anchorOffsetTop=46,this.tableNum=0,this.tableScroll=[],this.lemmaTitle=e.lemmaTitle||"",this.lemmaUrl=window.location.href.split("?")[0].split("#")[0];var t=h("#J-vars").attr("data-newlemmaid");this.sf.inSf&&(this.lemmaUrl=this.sf.baseUrl+"/item/"+encodeURIComponent(this.lemmaTitle)+"/"+t),this.MBK={lemmaUrl:this.lemmaUrl},this.isLoadAll=!1,this.isGoCatalog=!1,this.oCatalog=null,this.eventsNameSpace="content"+t,this.adManager=e.adManager||{},this.tashuoServiceStatus=e.tashuoServiceStatus||0,this.lemmaDesc=e.lemmaDesc||"",this.baikeAppData=e.baikeAppData,this.extendContentMemorial=e.extendContentMemorial||0,this.eid=e.eid,e.baikeAppData&&(this.isYxShow=2);var a=this;this.lemmaFeatureType="normal",this.fixedTitle={el:"",init:function(){var e=h("#J-lemma").find(".BK-body-wrapper > .BK-before-content-wrapper");e.children(".J-feature-restaurant-paragraph").length>0?a.lemmaFeatureType="restaurant":(h("#member_enterprisePgc").length>0||h("#member_enterprisePgc_cases").length>0)&&(a.lemmaFeatureType="member"),this.el=h("#J-brand-enterpriseInfo").length>0?"#brand-enterprisePgc .title":h("#J-cardEnterprise").length>0?"#pgc-content .title":h(".buildingPgc").length>0?".buildingPgc .title":".BK-main-content h2",("normal"!==a.lemmaFeatureType||0!==h(this.el).length)&&this.bind()},topbarHeight:function(){return h("#topbar").height()},bind:function(){var e=this,t=function(){e.get(),e.set()},a=d(t,200);h(window).on("touchmove."+e.eventsNameSpace+" scroll."+e.eventsNameSpace+"fixedTitle load."+e.eventsNameSpace,function(e){h(e.target).hasClass("catalog-item")||a()}),h(document).on("scrollStop."+e.eventsNameSpace,a)},k:[],v:[],get:function(){var e=this;if(e.k=[0],e.v=["百科名片"],"restaurant"===a.lemmaFeatureType){var t=h("#J-lemma").find(".BK-body-wrapper > .BK-before-content-wrapper"),o=t.children(".J-feature-restaurant-paragraph");o.each(function(){var t=h(this).children(".title");e.k.push(t.offset().top-60),e.v.push(t.text())})}else"member"===a.lemmaFeatureType&&h("#member_enterprisePgc .title, #member_enterprisePgc_cases .title").each(function(){var t=h(this);e.k.push(t.offset().top-60),e.v.push(t.text())});if("#pgc-content .title"===e.el){var n=h("#J-enterpriseInfo .title").offset().top-60;e.k.push(n),e.v.push("工商注册信息")}else if(".buildingPgc .title"===e.el){var n=h(".basicInfo").offset().top-60;e.k.push(n),e.v.push("基本信息")}if(h(e.el).each(function(){var t=h(this),a=t[0].firstChild.nodeValue,o=t.offset().top-e.topbarHeight()-60;if(e.k.push(o),e.v.push(a),".BK-main-content h2"===e.el){var n=t.prev().attr("name");if(h('li[data-anchor="'+n+'"]').next().hasClass("level2"))for(var i=h('li[data-anchor="'+n+'"]').next();i.hasClass("level2");){var s=h('a[name="'+i.data("anchor")+'"]');if(!(s.next().length>0))break;var l=s.next().offset().top-e.topbarHeight()-60;e.k.push(l),e.v.push(i[0].firstChild.nodeValue),i=i.next()}}}),"#brand-enterprisePgc .title"===e.el){var n=h("#J-brand-enterpriseInfo .title").offset().top-60;e.k.push(n),e.v.push("商标注册信息")}if("normal"===a.lemmaFeatureType&&".BK-main-content h2"!==e.el){var n=h(".BK-main-content").offset().top-60;e.k.push(n),e.v.push("更多信息")}var i=[];b.inSmartprogram&&h.each(e.k,function(e,t){var a=t-44;i.push(a>0?a:0)}),e.k=i},set:function(){var e=h(window).scrollTop(),t=this;if(0!==t.v.length){e+=t.topbarHeight();for(var a=0,o=t.k.length,n=0;o>n;n++)(e>t.k[n]&&e<t.k[n+1]||e>t.k[o-1])&&(a=n);var i=t.v[a];h("#J-catalog-content li").removeClass("current"),h("#J-catalog-content li").each(function(){var e=h(this);return h.trim(e.text())===h.trim(i)?(e.addClass("current"),void(e.prev().prev().length>0?t.catalogScroll.scrollToElement(e.prev().prev()[0],1,0,0):e.prev().length>0?t.catalogScroll.scrollToElement(e.prev()[0],1,0,0):t.catalogScroll.scrollToElement(e[0],1,0,0))):void 0})}}},this.sf.$view[0].addEventListener("rt.attached",function(){s()}),a.$yxLoadMore=h("#yx_load_more_flow"),Box.isBox?a.inAutoLoadMore=!0:a.inOnceLoadMore=!0,a.$uiRefreshDown=h("#ui_refresh_down"),a.$headerWrapper=h("#header_wrapper"),a.$beforeContentWrapper=h("#BK_before_content_wrapper"),a.$contentWrapper=h("#BK_content_wrapper"),a.initTable(),a.tableShowAll(),a.tableToggle(),a.initLoadMore(),a.initQuickNav(),h("#J-catalog-content").length>0&&a.initCatalog({tashuoStyle:e.tashuoStyle}),a.fixedTitle.init();var o=h(".BK-main-content");setTimeout(function(){o.trigger("mainContentLoaded",{contentHtml:o.children(),MBK:a.MBK})},0)},o.prototype.loadYxData=function(){var e=this,t=h("#J-vars").attr("data-subLemmas"),a=202,o=this.lemmaTitle;if("1"===t&&(o+=this.lemmaDesc),"undefined"!=typeof this.adManager.wapBaiduYouxuan||0!==this.extendContentMemorial)return h(window).off("scroll."+this.eventsNameSpace).on("scroll."+this.eventsNameSpace,this.loadMore.bind(this)),this.MBK.page<this.MBK.total-1&&(e.$uiRefreshDown.show(),this.$yxLoadMore.hide()),void(this.isYxShow=2);m.q("youxuanLoad"),f.bklog("wap_youxuan_request");var n=g("eid");n&&(a=n);var i=u.read("H_WISE_SIDS");b.inSmartprogram?a=2e3:i.indexOf("128346")>-1?a=3e3:i.indexOf("123018")>-1||i.indexOf("124593")>-1?a=205:(i.indexOf("123019")>-1||i.indexOf("124594")>-1)&&(a=207),"0"!==this.eid&&(a=this.eid),h.ajax({type:"GET",url:page.baseUrl+"/api/wapui/getyouxuan?lemma_title="+o+"&sublemmas="+t,data:{eid:a,url:[location.protocol,page.baseUrl,"/item/",o].join("")},success:function(t){f.bklog("wap_youxuan_success"),m.q("youxuanLoadSuccess"),t=t.youxuan,t&&t.ad_place_list&&t.ad_place_list.length>0?(h("#qtqy_container").prepend(t.ad_place_list[0].ad_place_data),h("#qtqy_container").show().trigger("toggleShow"),h("#J-yx-margin").show(),e.isYxShow=1,m.q2("20001514",["eid="+a]),f.bklog("wap_youxuan_view"),y({extra:"sf_bk_ad_youxuanShow_all"}),h(".ec-sublink-container").on("click","a",function(){m.q2("30000410"),f.bklog("wap_youxuan_click"),y({extra:"sf_bk_ad_youxuanClick"})}),e.MBK.total<=5&&m.q("youxuanShowPVNoLoad"),e.MBK.page>=e.MBK.total-1&&(m.q("youxuanLastScreenPV"),y({extra:"sf_bk_ad_youxuanShow_lastpage"}),h("#qtqy_container").css("margin-bottom",0)),"none"===h(".BK-after-content-wrapper").css("display")&&h(".BK-after-content-wrapper").show().trigger("toggleShow")):(e.MBK.page>=5&&m.qAll("20001521"),h(window).off("scroll."+e.eventsNameSpace).on("scroll."+e.eventsNameSpace,e.loadMore.bind(e)),e.MBK.page<e.MBK.total-1&&(e.$uiRefreshDown.show(),e.$yxLoadMore.hide()),e.isYxShow=2,y({extra:"sf_bk_youxuanError_nodata"}))},error:function(){m.q("youxuanLoadError"),f.bklog("wap_youxuan_fail"),h(window).off("scroll."+e.eventsNameSpace).on("scroll."+e.eventsNameSpace,e.loadMore.bind(e)),e.MBK.page<e.MBK.total-1&&(e.$uiRefreshDown.show(),e.$yxLoadMore.hide()),e.isYxShow=2,y({extra:"sf_bk_youxuanError_ajaxError"})}})},o.prototype.initTable=function(){var e=this,t=0,a=0,o='<div class="table-show-all"><span>展开全部</span>';o+='<em class="layout-icons layout-icons_down-arrow"></em></div>',h(".table-container").each(function(){if(!h(this).hasClass("tableScroll")){if(h("tbody tr",h(this)).length>3){for(var n=3;n<h("tbody tr",h(this)).length;n++)h(h("tbody tr",h(this))[n]).addClass("tr-hide").addClass("J-toggle");h(this).append(o)}e.tableNum++,h(this).attr("id","table"+e.tableNum),e.tableScroll[e.tableNum]=new p("#table"+e.tableNum,{scrollX:!0,scrollY:!1,preventDefault:!1}),h(this).on("touchstart",function(e){t=e.touches[0].pageX,a=e.touches[0].pageY}),h(this).on("touchmove",function(e){var o=e.touches[0].pageX-t;t=e.touches[0].pageX;var n=e.touches[0].pageY-a;a=e.touches[0].pageY,Math.abs(o)>=Math.abs(n)&&e.preventDefault()}),h(this).addClass("tableScroll")}})},o.prototype.tableShowAll=function(){var e=this;h("#J-lemma").on("click",".table-container .table-show-all",function(){if(h(this).children("em").hasClass("layout-icons_down-arrow"))h(".J-toggle",h(this).parent()).removeClass("tr-hide"),h(this).children("em").removeClass("layout-icons_down-arrow").addClass("layout-icons_up-arrow"),h(this).children("span").text("收起");else{h(".J-toggle",h(this).parent()).addClass("tr-hide"),h(this).children("em").removeClass("layout-icons_up-arrow").addClass("layout-icons_down-arrow"),h(this).children("span").text("展开全部");var t=h(this).offset().top-240;h(window).scrollTop()>t&&window.scrollTo(0,t)}h(".tr-submodule").each(function(){"none"===h(h(this).children("td")[0]).css("display")&&h(this).hide()}),e.tableScroll[h(this).parent().attr("id").split("table")[1]].refresh()})},o.prototype.tableToggle=function(){var e=this;h("#J-lemma").on("tap",".table-toggle-button",function(){h(h(this).children("em")[0]).hasClass("layout-icons_down-arrow")?(h(h(this).children("em")[0]).addClass("layout-icons_up-arrow").removeClass("layout-icons_down-arrow"),h(h(this).parent().next().children("td")).show(),h(h(this).parent().next()).show()):h(h(this).children("em")[0]).hasClass("layout-icons_up-arrow")&&(h(h(this).children("em")[0]).addClass("layout-icons_down-arrow").removeClass("layout-icons_up-arrow"),h(h(this).parent().next().children("td")).hide(),h(h(this).parent().next()).hide()),e.tableScroll[h(this).parent().parent().parent().parent().attr("id").split("table")[1]].refresh()}).on("touchstart",".table-toggle-button",function(e){e.preventDefault()})},o.prototype.initLoadMore=function(){function e(){var e=w.offset().top-a.anchorOffsetTop;window.scrollTo(0,e)}function t(){var e=v.offset().top-a.anchorOffsetTop;window.scrollTo(0,e)}var a=this,o=a.$uiRefreshDown,n=h('<span class="ui-loading"></span>'),i=h('<span class="ui-refresh-label loadmore-off">点击加载更多</span>'),s=h('<span class="ui-refresh-label loadmore-on">正在加载</span>'),l='<span class="retry">重试</span>',r=h('<span class="ui-refresh-label loadmore-error">加载失败, 请稍候'+l+"</span>"),c=h('<span class="ui-refresh-label loadmore-offline">网络出错,请检查后'+l+"</span>");if(o.append(n).append(i).append(s).append(r).append(c),a.MBK.page=o.data("page")||0,a.MBK.page>9999&&(a.MBK.page=parseInt(a.MBK.page/1e4,10)),a.MBK.total=o.data("total"),a.MBK.newLemmaId=o.attr("data-newLemmaId"),h.os.ios&&parseInt(h.os.version,10)>5&&(h("html").hasClass("ios6")||(document.documentElement.className+=" ios6")),a.MBK.page<a.MBK.total-1){if(h.os.ios){var d=!1;window.addEventListener("touchstart",function(){a.MBK.scrollFlag&&(h(window).off("scroll."+a.eventsNameSpace).on("scroll."+a.eventsNameSpace,a.loadMore.bind(a)),a.MBK.scrollFlag=!1,d=!0)},!1),setTimeout(function(){d||1===a.isYxShow||(h(window).off("scroll."+a.eventsNameSpace).on("scroll."+a.eventsNameSpace,a.loadMore.bind(a)),a.MBK.scrollFlag=!1,d=!0)},600)}else h(window).on("scroll."+a.eventsNameSpace,a.loadMore.bind(a));a.$uiRefreshDown.tap(function(){h(this).hasClass("show-loading")||a.MBK.page<a.MBK.total-1&&a.lemmaAjax(a.MBK.page+1)}).on("touchstart",function(e){e.preventDefault()}),a.inOnceLoadMore&&a.$yxLoadMore.find(".J-yx-load-moreContent").tap(function(){a.$yxLoadMore.hide(),a.$uiRefreshDown.show(),a.yxLoadMoreTaped=!0,h(window).on("scroll."+a.eventsNameSpace,a.loadMore.bind(a)),a.loadMore("load"),m.q2("20019001")})}else{if(a.$uiRefreshDown.remove(),"none"===h(".BK-after-content-wrapper").css("display")&&setTimeout(function(){h(".BK-after-content-wrapper").show().trigger("toggleShow")}),a.$yxLoadMore.hide(),0===a.isYxShow&&this.loadYxData(),h("#J-other-content").show().trigger("toggleShow"),window.collegeTableNum)for(var p=1;p<=window.collegeTableNum;p++)window.collegeTableScroll[p].refresh();m.q("lastScreenPV"),1===a.isYxShow&&(m.q("youxuanLastScreenPV"),h("#qtqy_container").css("margin-bottom",0)),h("#J-car-relate").length>0&&m.qAll("20005501"),setTimeout(function(){if(h("#J-attach-bottom").length<=0){var e=page.Mixedor;h("."+e.getKey("pdirect-txt")+" li a").each(function(){m.q2(h(this).data("vlog"))})}},2e3)}var u=g("anchor"),f=window.location.href.split("#")[1];if(u&&new RegExp("^[A-Za-z0-9_-]+$","g").test(u)){var w=h("#anchor-"+u);w.length>0&&setTimeout(e,500)}else if(f&&!new RegExp('"',"g").test(f)){var v=h('[name="'+f+'"]');v.length>0&&setTimeout(t,500)}},o.prototype.loadMore=function(e){if(this.sf.inSf&&!this.sf.isActive())return!1;if(this.MBK.isLock)return!1;if("none"!==h(".BK-body-wrapper").css("display")&&"none"!==h(".BK-content-wrapper").css("display")&&"none"!==h("#J-lemma").css("display")){var t=this.$headerWrapper.height()+this.$beforeContentWrapper.height()+this.$contentWrapper.height(),a=h(window).height();if(t>a){var o=t-a-h(window).scrollTop();("load"===e||parseInt(o,10)<300)&&this.MBK.page<this.MBK.total-1&&this.lemmaAjax(this.MBK.page+1)}}},o.prototype.lemmaAjax=function(e,t,a,o){var n=this;if(this.sf.inSf&&!this.sf.isActive())return!1;if(n.MBK.isLock)return!1;n.MBK.isLock=!0,a&&l(),n.$uiRefreshDown[0].className="ui-refresh-down show-loading","session"!==o&&(window.location.href.indexOf("bk_fr=chain")>-1?m.q("turnPageInlink"):(m.q("turnPage"),m.qAll(20013042)),h(".go-baidu-search").length>0&&m.qAll("20014102"),h("#J-other-se").length>0&&m.qAll("20014202"));var i=3;n.baikeAppData&&(i=4);var c=n.MBK.lemmaUrl+"?wpf="+i+"&ldr=1&page="+e;"session"===o&&(c+="&turn_page=session"),c+="&insf=1",h.ajax({type:"GET",url:c,timeout:15e3,cache:!1,success:function(o,i,c){a&&l("del"),n.$uiRefreshDown[0].className="ui-refresh-down show-normal",c.onreadystatechange=null,e>9999&&(e=parseInt(e/1e4,10)),n.MBK.page=e;var d=h(h(o).filter(".BK-main-content").html()),p=h("#BK_content_wrapper").children(".BK-main-content");p.append(d).trigger("mainContentLoaded",{contentHtml:d,isLastScreen:n.MBK.page>=n.MBK.total-1,MBK:n.MBK});var u=navigator.userAgent;if((/H8/.test(u)||/H8S/.test(u)||/S2/.test(u)||/S1/.test(u)||/H9/.test(u)||/H10/.test(u)||/Kids/.test(u)||/Coolpad 5200S/.test(u)||/S10_JTYL/.test(u)||/HUAWEI G750-T20/.test(u)||/HUAWEI G750-T01/.test(u)||/GT-N7102/.test(u)||/vivo Y22L/.test(u)||/vivo X3L/.test(u)||/SM-N7506V/.test(u)||/Lenovo A788t/.test(u)||/HUAWEI G521-L076/.test(u)||/GT-I9158V/.test(u)||/EBEN T7/.test(u))&&h(".audio-play").hide(),n.inAutoLoadMore||n.yxLoadMoreTaped?n.inAutoLoadMore&&n.MBK.page>=n.MBK.total-1&&n.loadYxData():1===n.isYxShow?(h(window).off("scroll."+n.eventsNameSpace),r("del")):0===n.isYxShow&&(n.MBK.total>5&&n.MBK.page>3?(n.$uiRefreshDown.hide(),r("del"),n.$yxLoadMore.show(),m.q2("20019000"),h(window).off("scroll."+n.eventsNameSpace),n.loadYxData()):n.MBK.total<=5&&n.MBK.page>=n.MBK.total-1&&n.loadYxData()),n.MBK.page>=n.MBK.total-1){if(n.$uiRefreshDown.hide(),h("#J-other-content").show().trigger("toggleShow"),window.collegeTableNum)for(var g=1;g<=window.collegeTableNum;g++)window.collegeTableScroll[g].refresh();"none"===h(".BK-after-content-wrapper").css("display")&&"none"!==h(".BK-content-wrapper").css("display")&&h(".BK-after-content-wrapper").show().trigger("toggleShow"),n.$yxLoadMore.hide(),m.q("lastScreenPV"),1===n.isYxShow&&(m.q("youxuanLastScreenPV"),h("#J-attach-yx-image").remove(),h("#qtqy_container").css("margin-bottom",0)),h("#J-car-relate").length>0&&m.qAll("20005501")}s(),n.initTable(),n.MBK.isLock=!1,t&&"function"==typeof t&&t();var u=navigator.userAgent.toLowerCase();(u.indexOf("baiduboxapp")>-1||u.indexOf("baidubrowser")>-1)&&(setTimeout(page.initAlbumBorder,0),setTimeout(page.initImgBorder,0)),m.q(window.location.href.indexOf("bk_fr=chain")>-1?"turnPageInlinkSuccess":"turnPageSuccess"),y({extra:"sf_bk_pageNum_"+n.MBK.page}),m.q("totalPV"),h("#J-sub-menu-anchor").length>0&&m.q("moviePV"),h("#J-trip-img").length>0&&m.q("tripPV"),p.trigger("mainContentLoadedAndRendered",{contentApp:n})},error:function(){n.$uiRefreshDown[0].className=navigator.onLine?"ui-refresh-down show-error":"ui-refresh-down show-offline",n.MBK.isLock=!1,y({extra:"sf_bk_pageAjaxError_"+e})}})},o.prototype.initQuickNav=function(){var e=this;h(".quickNav-item").on("tap",function(t){e.gotoCatalog(h(this)),e.oCatalog=h(this),t.preventDefault()})},o.prototype.initCatalog=function(e){var t=this,a=new p("#J-catalog-content",{scrollX:!1,scrollY:!0,preventDefault:!1});t.fixedTitle.catalogScroll=a;var e=e||{},o=h(".catalog"),n=h(".model"),i=h(".personal-catalog"),s=h(".personal-wrapper"),l=h(".micro-catalog"),r=h(".micro-wrapper"),c="show",d="hide",u=h(".catalog .new").length,g="topLeft"===e.tashuoStyle||"topRight"===e.tashuoStyle;g&&(o.addClass("catelog-tashuo-style"),c="tashuo-style-show",d="tashuo-style-hide",h("#J-catalog-tip").addClass("catalog-tip-tashuo-style"));var f={catalogShow:20012105,catalogClick:20012106,catalogItemClick:20012107};"test"===e.tashuoStyle&&(f={catalogShow:20012303,catalogClick:20012304,catalogItemClick:20012305}),("topRight"===e.tashuoStyle||"test"===e.tashuoStyle)&&m.q2(f.catalogShow),h("#J-catalog-button, #J-catalog-button-fixed").on("tap",function(){h(document.body).css("overflow","hidden"),n.addClass("show"),n.hasClass("show")&&(m.qAll(20013016),u>0&&m.qAll(20014606)),h("#J-catalog-tip").css("display","block"),setTimeout(function(){h("#J-catalog-tip").addClass("show"),w.insertEditToCatalog()},200),s.length&&"block"===s.css("display")?i.show().removeClass(d).addClass(c):r.length&&"block"===r.css("display")?l.show().removeClass(d).addClass(c):o.show().removeClass(d).addClass(c),m.q("catalogBtnClick"),h("#J-trip-img").length>0&&m.q("tripCatalogBtnClick"),("topRight"===e.tashuoStyle||"test"===e.tashuoStyle)&&m.q2(f.catalogClick)}),h("#J-catalog-tip").on("tap",function(){h(document.body).css("overflow","visible"),n.removeClass("show"),h("#J-catalog-tip").removeClass("show").hide(),s.length&&"block"===s.css("display")?i.removeClass(c).addClass(d):r.length&&"block"===r.css("display")?l.removeClass(c).addClass(d):o.removeClass(c).addClass(d)}),h(".catalog-item").on("tap",function(a){if(!(h(a.target).find(".J-edit-icon").length>0||a.target.className.indexOf("J-edit-icon")>-1)){m.qAll(20013017);var o=h(this);h("#J-catalog-tip").trigger("tap"),t.gotoCatalog(h(this)),t.oCatalog=h(this),m.q("catalogUse"),h("#J-catalog-button-fixed").hasClass("left")?m.qAll("20013607"):h("#J-catalog-button-fixed").hasClass("right")&&m.qAll("20013608");var n=o.text();switch(n){case"演职员表":m.qAll("20001106");break;case"演员表":m.qAll("20001107");break;case"职员表":m.qAll("20001108");break;case"角色介绍":m.qAll("20001109")}h("#J-trip-img").length>0&&m.q(h(this).attr("data-anchor").indexOf("trip")>-1?"tripPgcCatalogUse":"tripUgcCatalogUse"),h(this).hasClass("new")&&m.qAll("20014607"),("topRight"===e.tashuoStyle||"test"===e.tashuoStyle)&&m.q2(f.catalogItemClick)}}),n.on("tap",function(){h("#J-catalog-tip").trigger("tap")}),h(".catalog, .personal-catalog, .model, #J-catalog-button, #J-catalog-tip").on("touchstart",function(e){e.preventDefault()}),h(".micro-catalog").on("touchstart",function(e){e.preventDefault()})},o.prototype.gotoCatalog=function(e){var t=this,a=parseInt(e.data("page"),10),o=e.data("anchor");t.MBK.page=parseInt(t.MBK.page,10);var n=function(){if(h('a[name="'+o+'"]').length>0){var e=h('a[name="'+o+'"]').offset().top-t.anchorOffsetTop;h("#J-sub-menu").length>0&&(e-=45),c(e),h.os.ios&&setTimeout(function(){document.documentElement.style.width=h(window).width()+1+"px",setTimeout(function(){document.documentElement.style.width="100%"},1)},1)}};if(0===o&&c(0),"-1"===a)return void(h('a[name="'+o+'"]').length>0&&n());if(a<=t.MBK.page)return n(),!1;if(a>t.MBK.page+1){if(t.MBK.isLock)return!1;a=1e4*parseInt(a,10)+(t.MBK.page+1)}h(".load-remainder-wrapper").length>0&&"block"===h(".load-remainder-wrapper").css("display")&&h(".load-remainder").trigger("tap"),t.isGoCatalog=!0,t.lemmaAjax(a,function(){h('a[name="'+o+'"]').length>0&&n()},!0)},t.init=function(e){return new o(e)},t.smoothScroll=c,t.throttle=d,t.getFengChaoEid=i});
;/*!wiki-m-lemma:widget/content-n/moduleCommonContent/music/album/album.js*/
define("wiki-m-lemma:widget/content-n/moduleCommonContent/music/album/album",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog"],function(a,t){var s=a("wiki-m-common:widget/lib/zepto/zepto"),i=a("wiki-m-common:widget/util/nslog");t.init=function(){function a(){"block"===s("#J-audio-control").css("display")&&s("#J-audio-close").trigger("tap")}s("#J-music-album .album-desc").height(s("#J-music-album .album-intro .album-image").eq(0).width()),s("#J-music-album").on("tap",".icon-expand",function(){{var a=s(s(this).parent());s(s(this).children(".layout-icons")[0])}if(a.hasClass("collapsed"))i.qAll("20004704"),a.removeClass("collapsed").addClass("expanded"),s(s(this).children(".expand-text")[0]).text("收起");else{a.removeClass("expanded").addClass("collapsed"),s(s(this).children(".expand-text")[0]).text("展开");var t=s(this).offset().top-240;window.scrollTo(0,t)}}),s("#J-music-album .icon-expand").on("touchstart",function(a){a.preventDefault()});var t=Math.ceil((parseInt(s(".album-num").data("page"),10)-10)/50),e=0;s("#J-album-expand").length>0&&i.qAll("20004705"),s("#J-album-expand").on("tap",function(){if(s(this).children("em").hasClass("layout-icons_down-arrow"))i.qAll("20004706"),1===t||e>=t-1?(s(".album-item.hide").removeClass("hide").addClass("show"),s(this).children("em").removeClass("layout-icons_down-arrow").addClass("layout-icons_up-arrow"),s(this).children("span").text("收起")):(e++,s('.album-item[data-page="'+e+'"]').removeClass("hide").addClass("show"),s(this).children("span").text("收起"));else{s(".album-item.show").removeClass("show").addClass("hide"),s(this).children("em").removeClass("layout-icons_up-arrow").addClass("layout-icons_down-arrow"),s(this).children("span").text("查看更多"),e=0;var a=s(this).offset().top-240;window.scrollTo(0,a)}}).on("touchstart",function(a){a.preventDefault()}),s("#J-music-album").on("tap",".J-listen-btn",function(){i.qAll("20004713");var t=s(s(this).parents(".album-item")),e=t.find(".expand-text"),l=s(t.find(".canplay")[0]),o=s(t.find(".canplay"));t.hasClass("collapsed")&&(t.removeClass("collapsed").addClass("expanded"),e.text("收起")),a();var n=0,d=o.length;s("#J-music-audio")[0].pause(),s("#J-cur-music").attr("id","").removeClass("isplaying").removeClass("ispausing"),s("#J-music-name").text(l.attr("data-title")),s("#J-music-playing").fadeIn(),s("#J-music-auto-audio").attr("src",l.attr("data-url")),s("#J-music-auto-audio")[0].play(),l.attr("id","J-cur-music").addClass("isplaying"),s("#J-music-auto-audio").on("ended",function(){if(n>=d-1)s("#J-music-close").trigger("tap");else{var a=s(o[++n]);s("#J-cur-music").attr("id","").removeClass("isplaying").removeClass("ispausing"),s("#J-music-auto-audio").attr("src",a.attr("data-url")),s("#J-music-auto-audio")[0].play(),a.attr("id","J-cur-music").addClass("isplaying")}a&&(s("#J-music-name").text(a.attr("data-title")),s("#J-music-playing").fadeIn())})}),s(".J-listen-btn").length>0&&i.qAll("20004712")}});
;/*!wiki-m-lemma:widget/content-n/moduleCommonContent/music/createSong/createSong.js*/
define("wiki-m-lemma:widget/content-n/moduleCommonContent/music/createSong/createSong",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog"],function(e,o){var t=e("wiki-m-common:widget/lib/zepto/zepto"),a=e("wiki-m-common:widget/util/nslog");o.init=function(){var e=Math.ceil((parseInt(t(".create-num").data("page"),10)-10)/50),o=0;t("#J-create-expand").length>0&&a.qAll("20004709"),t("#J-create-expand").on("tap",function(){if(t(this).children("em").hasClass("layout-icons_down-arrow"))a.qAll("20004710"),1===e||o>=e-1?(t(".create-item.hide").removeClass("hide").addClass("show"),t(this).children("em").removeClass("layout-icons_down-arrow").addClass("layout-icons_up-arrow"),t(this).children("span").text("收起")):(o++,t('.create-item[data-page="'+o+'"]').removeClass("hide").addClass("show"));else{t(".create-item.show").removeClass("show").addClass("hide"),t(this).children("em").removeClass("layout-icons_up-arrow").addClass("layout-icons_down-arrow"),t(this).children("span").text("查看更多"),o=0;var i=t(this).offset().top-240;window.scrollTo(0,i)}}).on("touchstart",function(e){e.preventDefault()})}});
;/*!wiki-m-lemma:widget/content-n/moduleCommonContent/music/music.js*/
define("wiki-m-lemma:widget/content-n/moduleCommonContent/music/music",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog","wiki-m-common:widget/component/swan/swanUtil"],function(i,a){var t=i("wiki-m-common:widget/lib/zepto/zepto"),s=i("wiki-m-common:widget/util/nslog"),u=i("wiki-m-common:widget/component/swan/swanUtil");a.init=function(){function i(){"block"===t("#J-audio-control").css("display")&&t("#J-audio-close").trigger("tap")}if(t("#J-music-audio").length>0&&s.qAll("20004701"),t("#baike_app_identifier").length>0&&t("dl.music-module").find(".layout-icons_music-play").hide(),t(".canplay").on("tap",function(){t("#J-music-auto-audio")[0].pause(),t("#J-cur-music").length>0?"J-cur-music"===t(this).attr("id")?(s.qAll("20004703"),t("#J-music-playing").fadeOut(),t("#J-music-audio")[0].pause(),t("#J-cur-music").attr("id","").removeClass("isplaying").removeClass("ispausing")):(s.qAll("20004702"),i(),t("#J-cur-music").attr("id","").removeClass("isplaying").removeClass("ispausing"),t("#J-music-audio")[0].pause(),t("#J-music-name").text(t(this).attr("data-title")),t("#J-music-audio").attr("src",t(this).attr("data-url")),t("#J-music-audio")[0].play(),t(this).attr("id","J-cur-music").addClass("isplaying")):(s.qAll("20004702"),i(),t("#J-music-name").text(t(this).attr("data-title")),t("#J-music-playing").fadeIn(),t("#J-music-audio").attr("src",t(this).attr("data-url")),t("#J-music-audio")[0].play(),t(this).attr("id","J-cur-music").addClass("isplaying"))}),t("#J-music-close").on("tap",function(){s.qAll("20004711"),t("#J-music-playing").fadeOut(),t("#J-music-audio")[0].pause(),t("#J-music-auto-audio")[0].pause(),t("#J-cur-music").attr("id","").removeClass("isplaying").removeClass("ispausing")}).on("touchstart",function(i){i.preventDefault()}),t("#J-music-audio").on("ended",function(){t("#J-music-playing").fadeOut(),t("#J-music-audio")[0].pause(),t("#J-cur-music").attr("id","").removeClass("isplaying").removeClass("ispausing")}),u.inSmartprogram){var a=t("#J-music-playing"),o=t("#spTopbar_wrapper").height();t("#J-lemma").on("spTopbarStateChange",function(i,t){var s=0;"fixed"===t&&(s=o),a.css("top",s+"px")})}}});
;/*!wiki-m-lemma:widget/content-n/moduleCommonContent/music/single/single.js*/
define("wiki-m-lemma:widget/content-n/moduleCommonContent/music/single/single",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog"],function(e,i){var o=e("wiki-m-common:widget/lib/zepto/zepto"),s=e("wiki-m-common:widget/util/nslog");i.init=function(){var e=Math.ceil((parseInt(o(".single-num").data("page"),10)-10)/50),i=0;o("#J-single-expand").length>0&&s.qAll("20004707"),o("#J-single-expand").on("tap",function(){if(o(this).children("em").hasClass("layout-icons_down-arrow"))s.qAll("20004708"),1===e||i>=e-1?(o(".single-item.hide").removeClass("hide").addClass("show"),o(this).children("em").removeClass("layout-icons_down-arrow").addClass("layout-icons_up-arrow"),o(this).children("span").text("收起")):(i++,o('.single-item[data-page="'+i+'"]').removeClass("hide").addClass("show"));else{o(".single-item.show").removeClass("show").addClass("hide"),o(this).children("em").removeClass("layout-icons_up-arrow").addClass("layout-icons_down-arrow"),o(this).children("span").text("查看更多"),i=0;var n=o(this).offset().top-240;window.scrollTo(0,n)}}).on("touchstart",function(e){e.preventDefault()})}});
;/*!wiki-m-lemma:widget/content-n/moduleCommonContent/role/role.js*/
define("wiki-m-lemma:widget/content-n/moduleCommonContent/role/role",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog"],function(e,o,t){var l=e("wiki-m-common:widget/lib/zepto/zepto"),i=e("wiki-m-common:widget/util/nslog"),s=function(){l(".role-dec-normal").each(function(){l(this).removeClass("role-dec"),l(this).height()>72&&l(this).next().removeClass("hide"),l(this).addClass("role-dec")}),l(".js-colpase").on("tap",function(){var e=l(this).prev();e.hasClass("role-dec")?(e.removeClass("role-dec"),l(l(this).children(".colpase-text")[0]).text("收起"),l(l(this).children("em")[0]).removeClass("layout-icons_down-arrow").addClass("layout-icons_up-arrow")):(e.addClass("role-dec"),l(l(this).children(".colpase-text")[0]).text("展开"),l(l(this).children("em")[0]).removeClass("layout-icons_up-arrow").addClass("layout-icons_down-arrow"))}).on("touchstart",function(e){e.preventDefault()}),l("#J-role-show-all").tap(function(){var e=l(this);e.siblings(".role-list").children().show(),e.remove(),l(".role-dec-normal").each(function(){l(this).removeClass("role-dec"),l(this).height()>72&&l(this).next().removeClass("hide"),l(this).addClass("role-dec")})}).on("touchstart",function(e){e.preventDefault()}),l('.part-audio-play[data-title="角色介绍"]').length>0&&i.qAll("20004414"),l(".role-relation").length>0&&(i.qAll("20016301"),l(".role-relation-box").on("tap",function(){i.qAll("20016302")}))};t.exports=s});
;/*!wiki-m-lemma:widget/content-n/moduleCommonContent/series/series.js*/
define("wiki-m-lemma:widget/content-n/moduleCommonContent/series/series",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog","wiki-m-common:widget/lib/iscroll/iscroll.min"],function(e,s,o){var t=e("wiki-m-common:widget/lib/zepto/zepto"),i=e("wiki-m-common:widget/util/nslog"),r=e("wiki-m-common:widget/lib/iscroll/iscroll.min"),a=function(e){function s(){var s=17;t("#J-navEpisode li").each(function(){s+=t(this).width()+20}),t("#J-navEpisode ul").width(s);var d=(new r("#J-navEpisode",{scrollX:!0,scrollY:!0,preventDefault:!1}),0),p=0;t("#J-navEpisode").on("touchstart",function(e){d=e.touches[0].pageX,p=e.touches[0].pageY}),t("#J-navEpisode").on("touchmove",function(e){var s=e.touches[0].pageX-d;d=e.touches[0].pageX;var o=e.touches[0].pageY-p;p=e.touches[0].pageY,Math.abs(s)>=Math.abs(o)&&e.preventDefault()}),t("#J-series .nav").on("tap",function(e){var s=e.target,r=t(s).data("page");s&&"LI"===s.tagName.toUpperCase()&&(o(r),i.q("seriesSelect"))}),t("#J-series #J-moreEpisode").on("tap",function(){var e=t("#J-series #J-moreEpisode").data("page-current");o(e),i.q("seriesNext")}),t("#J-choseEpisode, #J-choseEpisodeFoot, #J-moreEpisode, #J-series .nav").on("touchstart",function(e){e.preventDefault()}),a(),t("#J-lemma").on("tap",".series-section-colpase",function(){var e=t(this).prev();if(e.hasClass("ellipsis"))i.q2("20000507"),e.removeClass("ellipsis"),t(t(this).children("em")[0]).removeClass("layout-icons_down-arrow").addClass("layout-icons_up-arrow");else{i.q2("20000508"),e.addClass("ellipsis"),t(t(this).children("em")[0]).removeClass("layout-icons_up-arrow").addClass("layout-icons_down-arrow");var s=t(this).parent().offset().top-46;t(window).scrollTop()>s&&window.scrollTo(0,s)}}).on("touchstart",".series-section-colpase",function(e){e.preventDefault()}),t(window).off(".series").on("touchstart.series touchmove.series touchend.series scroll.series load.series",n),t(document).off(".series").on("scrollStop.series",function(){n()});new r("#J-series-fix-list-con",{scrollX:!1,scrollY:!0,preventDefault:!1});t("#J-series-fix-list-con").on("touchstart",function(e){e.preventDefault()}),t("#J-series-fix-button").on("tap",function(){t("#J-series-mask").addClass("show"),t("#J-series-fix-list-con").removeClass("series-fix-list-hide").addClass("series-fix-list-show"),i.q2("20000505")}).on("touchstart",function(e){e.preventDefault()}),t("#J-series-mask, #J-series-fix-close-btn").on("tap",function(){t("#J-series-mask").removeClass("show"),t("#J-series-fix-list-con").removeClass("series-fix-list-show").addClass("series-fix-list-hide")}).on("touchstart",function(e){e.preventDefault()});var u=e.count;t("#J-series-fix-list-con li").on("tap",function(){if(i.q2("20000506"),t("#J-series-mask").removeClass("show"),t("#J-series-fix-list-con").removeClass("series-fix-list-show").addClass("series-fix-list-hide"),c=t(this).attr("data-index"),c>=l&&l+5>c){var e=t("#J-sections .section").eq(c-l).offset().top-50;window.scrollTo(0,e),c=0}else if(c%5===0)o(c-4+"_"+c);else{var s=5*Math.floor(c/5)+1;o(s===u?u:s+5>u?s+"_"+u:s+"_"+(s+4))}}).on("touchstart",function(e){e.preventDefault()}),t('.part-audio-play[data-title="分集剧情"]').length>0&&i.qAll("20004416")}function o(s){s=s.toString();var o=page.baseUrl+"/api/wapui/getseries?lemmaid="+e.lemmaId+"&from="+(parseInt(s.split("_")[0])-1)+"&length=5";t("#J-series .nav ul li").removeClass("active"),t('#J-navEpisode [data-page="'+s+'"]').addClass("active"),t('#J-navEpisodeFoot [data-page="'+s+'"]').addClass("active");var i=t("#J-series").prev().offset().top-46;t(window).scrollTop()>i&&window.scrollTo(0,i),t.ajax({type:"GET",url:o,success:function(o){t("#J-series #J-sections").html(o);var i=e.count,r=navigator.userAgent;if((/H8/.test(r)||/H8S/.test(r)||/S2/.test(r)||/S1/.test(r)||/H9/.test(r)||/H10/.test(r)||/Kids/.test(r)||/Coolpad 5200S/.test(r)||/S10_JTYL/.test(r)||/HUAWEI G750-T20/.test(r)||/HUAWEI G750-T01/.test(r)||/GT-N7102/.test(r)||/vivo Y22L/.test(r)||/vivo X3L/.test(r)||/SM-N7506V/.test(r)||/Lenovo A788t/.test(r)||/HUAWEI G521-L076/.test(r)||/GT-I9158V/.test(r)||/EBEN T7/.test(r))&&t(".audio-play").hide(),-1!==s.indexOf("_")){var n=parseInt(s.split("_")[1],10);i>=n+5?(t("#J-series #J-moreEpisode").html("继续看"+(n+1)+"-"+(n+5)+"集"),t("#J-series #J-moreEpisode").show(),t("#J-series #J-moreEpisode").data("page-current",n+1+"_"+(n+5))):n==i?t("#J-series #J-moreEpisode").hide():n+1==i?(t("#J-series #J-moreEpisode").html("继续看"+(n+1)+"集"),t("#J-series #J-moreEpisode").show(),t("#J-series #J-moreEpisode").data("page-current",n+1)):(t("#J-series #J-moreEpisode").html("继续看"+(n+1)+"-"+i+"集"),t("#J-series #J-moreEpisode").show(),t("#J-series #J-moreEpisode").data("page-current",n+1+"_"+i))}else t("#J-series #J-moreEpisode").hide();if(a(),l=Math.floor(s.split("_")[0]),c>0){var d=t("#J-sections .section").eq(c-l).offset().top-50;window.scrollTo(0,d),c=0}}})}function a(){t("#J-sections .contents").each(function(){t(this).removeClass("ellipsis"),t(this).height()>120&&t(this).next().removeClass("hide"),t(this).addClass("ellipsis")})}function n(){var e=t("#J-series");if(e.length>0){var s=e.offset().top,o=e.height();t(window).scrollTop()>s&&t(window).scrollTop()<s+o?t("#J-series-fix-button").addClass("show"):t("#J-series-fix-button").removeClass("show")}}var l=1,c=0;s()};o.exports=a});
;/*!wiki-m-lemma:widget/content-n/moduleContent/magazineNew/magazineNew.js*/
define("wiki-m-lemma:widget/content-n/moduleContent/magazineNew/magazineNew",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog"],function(i,e,n){function o(i){var e=i.find(".magazine .magazine-item").width(),n=Math.round(148*e/109);i.find(".magazine-item .pic").css("height",n+"px")}var t=i("wiki-m-common:widget/lib/zepto/zepto"),a=(i("wiki-m-common:widget/util/nslog"),function(){var i=t("#magazine_module_el");o(i),i.find(".show-all-magazine").length>0&&i.find(".show-all-magazine").on("tap",function(){if(t(this).children("em").hasClass("layout-icons_down-arrow"))t(this).siblings(".magazine-list").children(".J-toggle").removeClass("hide"),t(this).children("span").text("收起"),t(this).children("em").removeClass("layout-icons_down-arrow").addClass("layout-icons_up-arrow");else{t(this).siblings(".magazine-list").children(".J-toggle").addClass("hide"),t(this).children("span").text("全部展开"),t(this).children("em").removeClass("layout-icons_up-arrow").addClass("layout-icons_down-arrow");var i=t(this).offset().top-240;window.scrollTo(0,i)}}).on("touchstart",function(i){i.preventDefault()}),i.find(".magazine-list").on("orientationchange",function(){o()})});n.exports=a});
;/*!wiki-m-lemma:widget/content-n/moduleContent/map/BMAP.min.js*/
define("wiki-m-lemma:widget/content-n/moduleContent/map/BMAP.min",["require","exports","module"],function(require,exports,module){window.HOST_TYPE="2",window.TILE_VERSION={ditu:{normal:{version:"088",updateDate:"20181018"},satellite:{version:"009",updateDate:"20181018"},normalTraffic:{version:"081",updateDate:"20181018"},satelliteTraffic:{version:"083",updateDate:"20181018"},mapJS:{version:"104",updateDate:"20181018"},satelliteStreet:{version:"083",updateDate:"20181018"},panoClick:{version:"1033",updateDate:"20181018"},panoUdt:{version:"20181018",updateDate:"20181018"},panoSwfAPI:{version:"20150123",updateDate:"20150123"},panoSwfPlace:{version:"20141112",updateDate:"20141112"},earthVector:{version:"001",updateDate:"20181018"}},webapp:{high_normal:{version:"001",updateDate:"20181018"},lower_normal:{version:"002",updateDate:"20181018"}},api_for_mobile:{vector:{version:"002",updateDate:"20181018"},vectorIcon:{version:"002",updateDate:"20181018"}}},window.BMAP_AUTHENTIC_KEY="2366113ce0b57527403e73a98f157a8e",function(){function ba(t){throw t}function s(){return function(){}}function ca(t){return function(e){this[t]=e}}function u(t){return function(){return this[t]}}function da(t){return function(){return t}}function ga(t){return function(){return fa[t].apply(this,arguments)}}function ha(t,e){return fa[t]=e}function la(t,e){if(t.domEvent=e=window.event||e,t.clientX=e.clientX||e.pageX,t.clientY=e.clientY||e.pageY,t.offsetX=e.offsetX||e.layerX,t.offsetY=e.offsetY||e.layerY,t.screenX=e.screenX,t.screenY=e.screenY,t.ctrlKey=e.ctrlKey||e.metaKey,t.shiftKey=e.shiftKey,t.altKey=e.altKey,e.touches){t.touches=[];for(var i=0;i<e.touches.length;i++)t.touches.push({clientX:e.touches[i].clientX,clientY:e.touches[i].clientY,screenX:e.touches[i].screenX,screenY:e.touches[i].screenY,pageX:e.touches[i].pageX,pageY:e.touches[i].pageY,target:e.touches[i].target,identifier:e.touches[i].identifier})}if(e.changedTouches)for(t.changedTouches=[],i=0;i<e.changedTouches.length;i++)t.changedTouches.push({clientX:e.changedTouches[i].clientX,clientY:e.changedTouches[i].clientY,screenX:e.changedTouches[i].screenX,screenY:e.changedTouches[i].screenY,pageX:e.changedTouches[i].pageX,pageY:e.changedTouches[i].pageY,target:e.changedTouches[i].target,identifier:e.changedTouches[i].identifier});if(e.targetTouches)for(t.targetTouches=[],i=0;i<e.targetTouches.length;i++)t.targetTouches.push({clientX:e.targetTouches[i].clientX,clientY:e.targetTouches[i].clientY,screenX:e.targetTouches[i].screenX,screenY:e.targetTouches[i].screenY,pageX:e.targetTouches[i].pageX,pageY:e.targetTouches[i].pageY,target:e.targetTouches[i].target,identifier:e.targetTouches[i].identifier});return t.rotation=e.rotation,t.scale=e.scale,t}function Ka(t,e){if(t=x.$(t)){var i=this;x.lang.Ca.call(i),e=e||{},i.D={rk:e.fixedZoomCenter||q,kC:200,Hb:o,bx:q,gD:o,Ro:o,So:e.enableWheelZoom||q,TK:o,iD:o,om:o,Js:o,pm:o,Po:e.enable3DBuilding||q,Gc:25,q0:240,LU:450,Yb:F.Yb,Fd:F.Fd,Ox:!!e.Ox,gc:Math.round(e.minZoom)||1,$b:Math.round(e.maxZoom)||19,Jb:e.mapType||La,c4:q,OK:e.drawer||Ia,ax:o,Zw:500,xW:e.enableHighResolution!==q,lj:e.enableMapClick!==q,devicePixelRatio:e.devicePixelRatio||window.devicePixelRatio||1,TF:99,xe:e.mapStyle||p,EY:e.logoControl===q?q:o,dV:[],Aw:e.beforeClickIcon||p},i.D.xe&&(this.fY(i.D.xe.controls),this.aM(i.D.xe.geotableId)),i.D.xe&&i.D.xe.styleId&&i.V2(i.D.xe.styleId),i.D.gm={dark:{backColor:"#2D2D2D",textColor:"#bfbfbf",iconUrl:"dicons"},normal:{backColor:"#F3F1EC",textColor:"#c61b1b",iconUrl:"icons"},light:{backColor:"#EBF8FC",textColor:"#017fb4",iconUrl:"licons"}},e.enableAutoResize&&(i.D.Js=e.enableAutoResize),e.enableStreetEntrance===q&&(i.D.pm=e.enableStreetEntrance),e.enableDeepZoom===q&&(i.D.TK=e.enableDeepZoom);var n=i.D.dV;if(G())for(var s=0,a=n.length;a>s;s++)if(x.da[n[s]]){i.D.devicePixelRatio=1;break}for(n=-1<navigator.userAgent.toLowerCase().indexOf("android"),s=-1<navigator.userAgent.toLowerCase().indexOf("mqqbrowser"),(-1<navigator.userAgent.toLowerCase().indexOf("UCBrowser")||n&&s)&&(i.D.TF=99),i.Va=t,i.yB(t),t.unselectable="on",t.innerHTML="",t.appendChild(i.va()),e.size&&this.Ae(e.size),n=i.Bb(),i.width=n.width,i.height=n.height,i.offsetX=0,i.offsetY=0,i.platform=t.firstChild,i.ye=i.platform.firstChild,i.ye.style.width=i.width+"px",i.ye.style.height=i.height+"px",i.Wd={},i.Oe=new H(0,0),i.mc=new H(0,0),i.Oa=3,i.Lc=0,i.CC=p,i.BC=p,i.Xb="",i.Hw="",i.Oh={},i.Oh.custom={},i.Ta=0,e.useWebGL===q&&Ma(q),i.P=new Na(t,{Pf:"api",PS:o}),i.P.U(),i.P.tF(i),e=e||{},n=i.Jb=i.D.Jb,i.ie=n.ep(),n===Pa&&Qa(va),n===Sa&&Qa(wa),n=i.D,n.MO=Math.round(e.minZoom),n.LO=Math.round(e.maxZoom),i.Vu(),i.R={Hc:q,lc:0,up:0,sM:0,p3:0,cC:q,aF:-1,Qe:[]},i.platform.style.cursor=i.D.Yb,s=0;s<z.Gr.length;s++)z.Gr[s](i);i.R.aF=s,i.ca(),I.load("map",function(){i.yb()}),i.D.lj&&(setTimeout(function(){Qa(xa)},1e3),I.load("mapclick",function(){window.MPC_Mgr=window.MPC_Mgr||{},window.MPC_Mgr[i.ba]=new Ta(i)},o)),Ua()&&I.load("oppc",function(){i.tz()}),G()&&I.load("opmb",function(){i.tz()}),t=p,i.MB=[]}}function Qa(t,e){if(t){var i,e=e||{},n="";for(i in e)n=n+"&"+i+"="+encodeURIComponent(e[i]);var s=function(t){t&&(mb=o,setTimeout(function(){nb.src=z.wc+"images/blank.gif?"+t.src},50))},a=function(){var t=ob.shift();t&&s(t)};i=(1e8*Math.random()).toFixed(0),mb?ob.push({src:"product=jsapi&sub_product=jsapi&v="+z.version+"&sub_product_v="+z.version+"&t="+i+"&code="+t+"&da_src="+t+n}):s({src:"product=jsapi&sub_product=jsapi&v="+z.version+"&sub_product_v="+z.version+"&t="+i+"&code="+t+"&da_src="+t+n}),pb||(x.M(nb,"load",function(){mb=q,a()}),x.M(nb,"error",function(){mb=q,a()}),pb=o)}}function qb(t){var e={duration:1e3,Gc:30,Lo:0,jc:rb.AM,Et:s()};if(this.Zf=[],t)for(var i in t)e[i]=t[i];if(this.k=e,Wa(e.Lo)){var n=this;setTimeout(function(){n.start()},e.Lo)}else e.Lo!=sb&&this.start()}function tb(t){var e=$a();e>=t.Yz?(Xa(t.k.va)&&t.k.va(t.k.jc(1)),Xa(t.k.finish)&&t.k.finish(),0<t.Zf.length&&(e=t.Zf[0],e.Zf=[].concat(t.Zf.slice(1)),e.start())):(t.xy=t.k.jc((e-t.Nu)/t.k.duration),Xa(t.k.va)&&t.k.va(t.xy),t.FF||(t.Xr=setTimeout(function(){tb(t)},1e3/t.k.Gc)))}function ub(t,e){var i=t.style;i.left=e[0]+"px",i.top=e[1]+"px"}function vb(t){0<x.da.la?t.unselectable="on":t.style.MozUserSelect="none"}function wb(t){return t&&t.parentNode&&11!==t.parentNode.nodeType}function xb(t,e){return x.K.Lx(t,"beforeEnd",e),t.lastChild}function yb(t){for(var e={left:0,top:0};t&&t.offsetParent;)e.left+=t.offsetLeft,e.top+=t.offsetTop,t=t.offsetParent;return e}function ma(t){t=window.event||t,t.stopPropagation?t.stopPropagation():t.cancelBubble=o}function zb(t){return t=window.event||t,t.preventDefault?t.preventDefault():t.returnValue=q,q}function na(t){return ma(t),zb(t)}function Ab(){var t=document.documentElement,e=document.body;return t&&(t.scrollTop||t.scrollLeft)?[t.scrollTop,t.scrollLeft]:e?[e.scrollTop,e.scrollLeft]:[0,0]}function Bb(t,e){return t&&e?Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))):void 0}function Cb(t,e){var i,n=[],e=e||function(t){return t};for(i in t)n.push(i+"="+e(t[i]));return n.join("&")}function K(t,e,i){var n=document.createElement(t);return i&&(n=document.createElementNS(i,t)),x.K.pF(n,e||{})}function Va(t){return t.currentStyle?t.currentStyle:t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,p):void 0}function Xa(t){return"function"==typeof t}function Wa(t){return"number"==typeof t}function Za(t){return"string"==typeof t}function Db(t){return"undefined"!=typeof t}function Eb(t){return"object"==typeof t}function Hb(t){var e,i,n,o="",s="",a="",h=0;if(n=/[^A-Za-z0-9\+\/\=]/g,!t||n.exec(t))return t;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do e=Gb.indexOf(t.charAt(h++)),i=Gb.indexOf(t.charAt(h++)),n=Gb.indexOf(t.charAt(h++)),a=Gb.indexOf(t.charAt(h++)),e=e<<2|i>>4,i=(15&i)<<4|n>>2,s=(3&n)<<6|a,o+=String.fromCharCode(e),64!=n&&(o+=String.fromCharCode(i)),64!=a&&(o+=String.fromCharCode(s));while(h<t.length);return o}function G(){return!(!x.platform.oE&&!x.platform.qY&&!x.platform.Km)}function Ua(){return!(!x.platform.oM&&!x.platform.gM&&!x.platform.wY)}function $a(){return(new Date).getTime()}function Ib(){var t=document.body.appendChild(K("div"));t.innerHTML='<v:shape id="vml_tester1" adj="1" />';var e=t.firstChild;return e.style?(e.style.behavior="url(#default#VML)",e=e?"object"==typeof e.adj:o,t.parentNode.removeChild(t),e):q}function Jb(){return!!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Shape","1.1")}function Kb(){return!!K("canvas").getContext}function Nb(t){return t*Math.PI/180}function Ob(t,e,i){e.Pm||(e.Pm=[],e.handle={}),e.Pm.push({filter:i,qm:t}),e.addEventListener||(e.addEventListener=function(t,i){e.attachEvent("on"+t,i)}),e.handle.click||(e.addEventListener("click",function(t){for(var i=t.target||t.srcElement;i!=e;)Pb(e.Pm,function(e,n){RegExp(n.filter).test(i.getAttribute("filter"))&&n.qm.call(i,t,i.getAttribute("filter"))}),i=i.parentNode},q),e.handle.click=o)}function Pb(t,e){for(var i=0,n=t.length;n>i;i++)e(i,t[i])}function Qb(t){var e=window.TILE_VERSION,i="20170927";return e&&e.ditu&&(e=e.ditu,e[t]&&e[t].updateDate&&(i=e[t].updateDate)),i}function oa(t,e){if(e){var i=(1e5*Math.random()).toFixed(0);z._rd["_cbk"+i]=function(t){e&&e(t),delete z._rd["_cbk"+i]},t+="&callback=BMap._rd._cbk"+i}var n=K("script",{type:"text/javascript"});n.charset="utf-8",n.src=t,n.addEventListener?n.addEventListener("load",function(t){t=t.target,t.parentNode.removeChild(t)},q):n.attachEvent&&n.attachEvent("onreadystatechange",function(){var t=window.event.srcElement;t&&("loaded"==t.readyState||"complete"==t.readyState)&&t.parentNode.removeChild(t)}),setTimeout(function(){document.getElementsByTagName("head")[0].appendChild(n),n=p},1)}function I(){}function R(t,e){this.x=t||0,this.y=e||0,this.x=this.x,this.y=this.y}function L(t,e){this.width=t||0,this.height=e||0}function gb(t,e){t&&(this.Mb=t,this.ba="spot"+gb.ba++,e=e||{},this.Tg=e.text||"",this.zv=e.offsets?e.offsets.slice(0):[5,5,5,5],this.uJ=e.userData||p,this.Qh=e.minZoom||p,this.Ff=e.maxZoom||p)}function Sb(){this.C=p,this.Nb="control",this.Qa=this.ZJ=o}function hb(t){Sb.call(this),t=t||{},this.k={zg:q,BF:t.showZoomInfo||o,anchor:t.anchor,za:t.offset,type:t.type,wW:t.enableGeolocation||q},this.defaultAnchor=G()?3:Tb,this.defaultOffset=new L(10,10),this.qc(t.anchor),this.kn(t.type),this.Ce()}function Wb(t){Sb.call(this),t=t||{},this.k={anchor:t.anchor||Vb,za:t.offset||new L(10,30),l_:t.showAddressBar!==q,c2:t.enableAutoLocation||q,HM:t.locationIcon||p};var e=this;this.xz=1200,e.$_=[],this.oe=[],I.load("geoctrl",function(){!function t(){if(0!==e.oe.length){var i=e.oe.shift();e[i.method].apply(e,i.arguments),t()}}(),e.ZP()}),Qa(Ha)}function Xb(t){Sb.call(this),t=t||{},this.k={zg:q,anchor:t.anchor,za:t.offset},this.dc=[],this.defaultAnchor=Vb,this.defaultOffset=new L(5,2),this.qc(t.anchor),this.ZJ=q,this.Ce()}function jb(t){Sb.call(this),t=t||{},this.k={zg:q,size:t.size||new L(150,150),padding:5,Wa:t.isOpen===o?o:q,o0:4,za:t.offset,anchor:t.anchor},this.defaultAnchor=3,this.defaultOffset=new L(0,0),this.Cq=this.Dq=13,this.qc(t.anchor),this.Ae(this.k.size),this.Ce()}function Yb(t){Sb.call(this),t=t||{},this.defaultAnchor=Tb,this.sV=t.canCheckSize===q?q:o,this.ej="",this.defaultOffset=new L(10,10),this.onChangeBefore=[],this.onChangeAfter=[],this.onChangeSuccess=[],this.k={zg:q,za:t.offset||this.defaultOffset,anchor:t.anchor||this.defaultAnchor,expand:!!t.expand},t.onChangeBefore&&Xa(t.onChangeBefore)&&this.onChangeBefore.push(t.onChangeBefore),t.onChangeAfter&&Xa(t.onChangeAfter)&&this.onChangeAfter.push(t.onChangeAfter),t.onChangeSuccess&&Xa(t.onChangeSuccess)&&this.onChangeSuccess.push(t.onChangeSuccess),this.qc(t.anchor),this.Ce()}function ib(t){Sb.call(this),t=t||{},this.k={zg:q,color:"black",cd:"metric",za:t.offset},this.defaultAnchor=Vb,this.defaultOffset=new L(81,18),this.qc(t.anchor),this.Zh={metric:{name:"metric",nK:1,$L:1e3,FO:"米",GO:"公里"},us:{name:"us",nK:3.2808,$L:5280,FO:"英尺",GO:"英里"}},this.Zh[this.k.cd]||(this.k.cd="metric"),this.TI=p,this.sI={},this.Ce()}function kb(t){Sb.call(this),t=t||{},this.defaultAnchor=Ub,this.defaultOffset=new L(10,10),this.k={zg:q,nh:[La,Ya,Sa,Pa],$V:["B_DIMENSIONAL_MAP","B_SATELLITE_MAP","B_NORMAL_MAP"],type:t.type||Zb,za:t.offset||this.defaultOffset,AW:o},this.qc(t.anchor),"[object Array]"==Object.prototype.toString.call(t.mapTypes)&&(this.k.nh=t.mapTypes.slice(0)),this.Ce()}function $b(t){Sb.call(this),t=t||{},this.k={zg:q,za:t.offset,anchor:t.anchor},this.Qi=q,this.Xv=p,this.BI=new ac({Pf:"api"}),this.CI=new bc(p,{Pf:"api"}),this.defaultAnchor=Ub,this.defaultOffset=new L(10,10),this.qc(t.anchor),this.Ce(),Qa(ua)}function cc(t){x.lang.Ca.call(this),this.k={Va:p,cursor:"default"},this.k=x.extend(this.k,t),this.Nb="contextmenu",this.C=p,this.ya=[],this.If=[],this.Ee=[],this.Tw=this.ls=p,this.Ph=q;var e=this;I.load("menu",function(){e.yb()})}function fc(t,e,i){if(t&&Xa(e)){x.lang.Ca.call(this),this.k={width:100,id:"",Hm:""},i=i||{},this.k.width=1*i.width?i.width:100,this.k.id=i.id?i.id:"",this.k.Hm=i.iconUrl?i.iconUrl:"",this.Tg=t+"",this.Az=e,this.C=p,this.Nb="menuitem",this.Vr=this.ov=this.B=this.Hh=p,this.Lh=o;var n=this;I.load("menu",function(){n.yb()})}}function db(t,e){t&&!e&&(e=t),this.He=this.Vd=this.Le=this.Xd=this.Ol=this.xl=p,t&&(this.Ol=new H(t.lng,t.lat),this.xl=new H(e.lng,e.lat),this.Le=t.lng,this.Xd=t.lat,this.He=e.lng,this.Vd=e.lat)}function H(t,e){isNaN(t)&&(t=Hb(t),t=isNaN(t)?0:t),Za(t)&&(t=parseFloat(t)),isNaN(e)&&(e=Hb(e),e=isNaN(e)?0:e),Za(e)&&(e=parseFloat(e)),this.lng=t,this.lat=e}function gc(){}function hc(){}function ic(){this.Pa=[];var t=this;I.load("convertor",function(){t.XP()})}function S(){}function fb(){this.ej="bj"}function jc(){this.Nb="overlay"}function eb(){x.lang.Ca.call(this),jc.call(this),this.map=p,this.Qa=o,this.Cb=p,this.gH=0}function kc(){this.map=p,this.wa={},this.De=[]}function lc(t){eb.call(this),t=t||{},this.z={strokeColor:t.strokeColor||"#3a6bdb",nc:t.strokeWeight||5,rd:t.strokeOpacity||.65,strokeStyle:t.strokeStyle||"solid",mj:t.enableMassClear===q?q:o,wk:p,xm:p,mf:t.enableEditing===o?o:q,UM:5,Z_:q,jf:t.enableClicking===q?q:o,ni:t.icons&&0<t.icons.length?t.icons:p},0>=this.z.nc&&(this.z.nc=5),(0>this.z.rd||1<this.z.rd)&&(this.z.rd=.65),(0>this.z.qg||1<this.z.qg)&&(this.z.qg=.65),"solid"!=this.z.strokeStyle&&"dashed"!=this.z.strokeStyle&&(this.z.strokeStyle="solid"),this.V=p,this.Ou=new db(0,0),this.gf=[],this.oc=[],this.Ra={}}function oc(t){eb.call(this),this.V=this.map=p,this.z={width:0,height:0,za:new L(0,0),opacity:1,background:"transparent",Tx:1,yM:"#000",BY:"solid",point:p},this.RN(t),this.point=this.z.point}function pc(t,e,i){t&&e&&(this.imageUrl=t,this.size=e,t=new L(Math.floor(e.width/2),Math.floor(e.height/2)),i=i||{},t=i.anchor||t,e=i.imageOffset||new L(0,0),this.imageSize=i.imageSize,this.anchor=t,this.imageOffset=e,this.infoWindowAnchor=i.infoWindowAnchor||this.anchor,this.printImageUrl=i.printImageUrl||"")}function qc(t,e){if(t){e=e||{},this.style={anchor:e.anchor||new L(0,0),fillColor:e.fillColor||"#000",qg:e.fillOpacity||0,scale:e.scale||1,rotation:e.rotation||0,strokeColor:e.strokeColor||"#000",rd:e.strokeOpacity||1,nc:e.strokeWeight},this.Nb="number"==typeof t?t:"UserDefined",this.Hi=this.style.anchor,this.tr=new L(0,0),this.anchor=p,this.lB=t;var i=this;I.load("symbol",function(){i.Ln()},o)}}function rc(t,e,i,n){t&&(this.Ev={},this.cL=n?!!n:q,this.Uc=[],this.z_=t instanceof qc?t:p,this.HI=e===j?o:!!(e.indexOf("%")+1),this.Zj=isNaN(parseFloat(e))?1:this.HI?parseFloat(e)/100:parseFloat(e),this.II=!!(i.indexOf("%")+1),this.repeat=i!=j?this.II?parseFloat(i)/100:parseFloat(i):0)}function sc(t,e){x.lang.Ca.call(this),this.content=t,this.map=p,e=e||{},this.z={width:e.width||0,height:e.height||0,maxWidth:e.maxWidth||730,za:e.offset||new L(0,0),title:e.title||"",HE:e.maxContent||"",ah:e.enableMaximize||q,Is:e.enableAutoPan===q?q:o,eD:e.enableCloseOnClick===q?q:o,margin:e.margin||[10,10,40,10],mC:e.collisions||[[10,10],[10,10],[10,10],[10,10]],aY:q,WY:e.onClosing||da(o),UK:q,jD:e.enableParano===o?o:q,message:e.message,lD:e.enableSearchTool===o?o:q,Ex:e.headerContent||"",fD:e.enableContentScroll||q},0!=this.z.width&&(220>this.z.width&&(this.z.width=220),730<this.z.width)&&(this.z.width=730),0!=this.z.height&&(60>this.z.height&&(this.z.height=60),650<this.z.height)&&(this.z.height=650),0!=this.z.maxWidth&&(220>this.z.maxWidth&&(this.z.maxWidth=220),730<this.z.maxWidth)&&(this.z.maxWidth=730),this.de=q,this.Di=F.qa,this.bb=p;var i=this;I.load("infowindow",function(){i.yb()})}function tc(t,e){eb.call(this),this.content=t,this.V=this.map=p,e=e||{},this.z={width:0,za:e.offset||new L(0,0),Xp:{backgroundColor:"#fff",border:"1px solid #f00",padding:"1px",whiteSpace:"nowrap",font:"12px "+F.fontFamily,zIndex:"80",MozUserSelect:"none"},position:e.position||p,mj:e.enableMassClear===q?q:o,jf:o},0>this.z.width&&(this.z.width=0),Db(e.enableClicking)&&(this.z.jf=e.enableClicking),this.point=this.z.position;var i=this;I.load("marker",function(){i.yb()})}function uc(t,e){if(0!==arguments.length){eb.apply(this,arguments),e=e||{},this.z={$a:t,opacity:e.opacity||1,np:e.imageURL||"",ys:e.displayOnMinLevel||1,mj:e.enableMassClear===q?q:o,xs:e.displayOnMaxLevel||19,t_:e.stretch||q},0===e.opacity&&(this.z.opacity=0);var i=this;I.load("groundoverlay",function(){i.yb()})}}function xc(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))}function yc(t,e){var i=this;xc()&&(t===j&&ba(Error("没有传入points数据")),"[object Array]"!==Object.prototype.toString.call(t)&&ba(Error("points数据不是数组")),e=e||{},eb.apply(i,arguments),i.ea={ia:t},i.z={shape:e.shape||vc,size:e.size||wc,color:e.color||"#fa937e",mj:o},this.iB=[],this.oe=[],I.load("pointcollection",function(){for(var t,e=0;t=i.iB[e];e++)i[t.method].apply(i,t.arguments);for(e=0;t=i.oe[e];e++)i[t.method].apply(i,t.arguments)}))}function U(t,e){eb.call(this),e=e||{},this.point=t,this.yq=this.map=p,this.z={za:e.offset||new L(0,0),uj:e.icon||zc,Ok:Ac,title:e.title||"",label:p,YJ:e.baseZIndex||0,jf:o,R4:q,tE:q,mj:e.enableMassClear===q?q:o,Hb:q,BN:e.raiseOnDrag===o?o:q,IN:q,Fd:e.draggingCursor||F.Fd,rotation:e.rotation||0},e.icon&&!e.shadow&&(this.z.Ok=p),e.enableDragging&&(this.z.Hb=e.enableDragging),Db(e.enableClicking)&&(this.z.jf=e.enableClicking);var i=this;I.load("marker",function(){i.yb()})}function Bc(t,e){lc.call(this,e),e=e||{},this.z.qg=e.fillOpacity?e.fillOpacity:.65,this.z.fillColor=""==e.fillColor?"":e.fillColor?e.fillColor:"#fff",this.ke(t);var i=this;I.load("poly",function(){i.yb()})}function Cc(t,e){lc.call(this,e),this.Nr(t);var i=this;I.load("poly",function(){i.yb()})}function Dc(t,e,i){this.point=t,this.xa=Math.abs(e),Bc.call(this,[],i)}function Fc(t){this.map=t,this.Nm=[],this.Xf=[],this.Cg=[],this.oV=300,this.$E=0,this.vg={},this.dj={},this.qh=0,this.nE=o,this.yK={},this.co=this.On(1),this.ld=this.On(2),this.yl=this.On(3),t.platform.appendChild(this.co),t.platform.appendChild(this.ld),t.platform.appendChild(this.yl);var e=256*Math.pow(2,15),i=3*e,t=S.zb(new H(180,0)).lng,i=i-t,e=-3*e,n=S.zb(new H(-180,0)).lng;this.kI=t,this.lI=n,this.PA=i+(n-e),this.mI=t-n}function Kc(t,e,i,n,s){this.Qm=t,this.position=i,this.Tu=[],this.name=t.XD(n,s),this.info=n,this.rJ=s.vt(),n=K("img"),vb(n),n.gL=q;var a=n.style,t=t.map.oa();a.position="absolute",a.border="none",a.width=t.k.Qb+"px",a.height=t.k.Qb+"px",a.left=i[0]+"px",a.top=i[1]+"px",a.maxWidth="none",this.Ib=n,this.src=e,Mc&&(this.Ib.style.opacity=0);var h=this;this.Ib.onload=function(){if(z.DY.KQ(),h.loaded=o,h.Qm){var t=h.Qm,e=t.dj;e[h.name]||(t.$E++,e[h.name]=h),h.Ib&&!wb(h.Ib)&&s.Rb&&(s.Rb.appendChild(h.Ib),x.da.la<=6&&x.da.la>0&&h.rJ&&(h.Ib.style.cssText=h.Ib.style.cssText+(';filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+h.src+'",sizingMethod=scale);')));var i,n=t.$E-t.oV;for(i in e){if(0>=n)break;if(!t.vg[i]){e[i].Qm=p;var a=e[i].Ib;a&&a.parentNode&&(a.parentNode.removeChild(a),Lc(a)),a=p,e[i].Ib=p,delete e[i],t.$E--,n--}}Mc&&new qb({Gc:20,duration:200,va:function(t){h.Ib&&h.Ib.style&&(h.Ib.style.opacity=1*t)},finish:function(){h.Ib&&h.Ib.style&&delete h.Ib.style.opacity}}),Hc(h)}},this.Ib.onerror=function(){if(Hc(h),h.Qm){var t=h.Qm.map.oa();t.k.mD&&(h.error=o,h.Ib.src=t.k.mD,h.Ib&&!wb(h.Ib)&&s.Rb.appendChild(h.Ib))}},n=p}function Jc(t,e){t.Tu.push(e)}function Hc(t){for(var e=0;e<t.Tu.length;e++)t.Tu[e]();t.Tu.length=0}function Lc(t){if(t){t.onload=t.onerror=p;var e,i,n,o=t.attributes;if(o)for(i=o.length,e=0;i>e;e+=1)n=o[e].name,Xa(t[n])&&(t[n]=p);if(o=t.children)for(i=o.length,e=0;i>e;e+=1)Lc(t.children[e])}}function Ic(t,e){t.src=e,t.bo()}function Gc(t){this.rh=t||{},this.LV=this.rh.copyright||p,this.V_=this.rh.transparentPng||q,this.zw=this.rh.baseLayer||q,this.zIndex=this.rh.zIndex||0,this.ba=Gc.yS++}function Oc(t,e){Eb(t)?e=t||{}:(e=e||{},e.databoxId=t),this.k={zK:e.databoxId,dh:e.geotableId,Zm:e.q||"",ju:e.tags||"",filter:e.filter||"",Jy:e.sortby||"",u_:e.styleId||"",Vl:e.ak||pa,ww:e.age||36e5,zIndex:11,zY:"VectorCloudLayer",Bk:e.hotspotName||"vector_md_"+(1e5*Math.random()).toFixed(0),WU:"LBS云麻点层"},this.rp=o,Gc.call(this,this.k),this.dW=z.wc+"geosearch/detail/",this.eW=z.wc+"geosearch/v2/detail/",this.lp={}}function Pc(t){t=t||{},this.k=x.extend(t,{zIndex:1,zY:"VectorTrafficLayer",WU:"矢量路况层"}),this.rp=o,Gc.call(this,this.k),this.R_=z.url.proto+z.url.domain.vector_traffic+"/gvd/?qt=lgvd&styles=pl&layers=tf",this.Fb={0:[2,1354709503,2,2,0,[],0,0],1:[2,1354709503,3,2,0,[],0,0],10:[2,-231722753,2,2,0,[],0,0],11:[2,-231722753,3,2,0,[],0,0],12:[2,-231722753,4,2,0,[],0,0],13:[2,-231722753,5,2,0,[],0,0],14:[2,-231722753,6,2,0,[],0,0],15:[2,-1,4,0,0,[],0,0],16:[2,-1,5.5,0,0,[],0,0],17:[2,-1,7,0,0,[],0,0],18:[2,-1,8.5,0,0,[],0,0],19:[2,-1,10,0,0,[],0,0],2:[2,1354709503,4,2,0,[],0,0],3:[2,1354709503,5,2,0,[],0,0],4:[2,1354709503,6,2,0,[],0,0],5:[2,-6350337,2,2,0,[],0,0],6:[2,-6350337,3,2,0,[],0,0],7:[2,-6350337,4,2,0,[],0,0],8:[2,-6350337,5,2,0,[],0,0],9:[2,-6350337,6,2,0,[],0,0]}}function bb(t){this.pV=[z.url.proto+z.url.domain.TILE_ONLINE_URLS[1]+"/gvd/?",z.url.proto+z.url.domain.TILE_ONLINE_URLS[2]+"/gvd/?",z.url.proto+z.url.domain.TILE_ONLINE_URLS[3]+"/gvd/?",z.url.proto+z.url.domain.TILE_ONLINE_URLS[4]+"/gvd/?"],this.k={bL:q};for(var e in t)this.k[e]=t[e];this.Yh=this.Ih=this.Xa=this.B=this.C=p,this.rM=0;var i=this;I.load("vector",function(){i.Ce()})}function Qc(t){Gc.call(this,t),this.k=t||{},this.mM=o,this.k.predictDate&&((1>this.k.predictDate.weekday||7<this.k.predictDate.weekday)&&(this.k.predictDate=1),(0>this.k.predictDate.hour||23<this.k.predictDate.hour)&&(this.k.predictDate.hour=0)),this.zU=z.url.proto+z.url.domain.traffic+"/traffic/"}function lb(t,e){Gc.call(this);var i=this;this.mM=o;var n=q;try{document.createElement("canvas").getContext("2d"),n=o}catch(s){n=q}n&&(this.Ch=new Oc(t,e),this.Ch.IF=this),Eb(t)?e=t||{}:(i.Rn=t,e=e||{}),e.geotableId&&(i.Af=e.geotableId),e.databoxId&&(i.Rn=e.databoxId),n=z.wc+"geosearch",i.pc={wN:e.pointDensity||Tc,YX:n+"/detail/",ZX:n+"/v2/detail/",ww:e.age||36e5,Zm:e.q||"",E_:"png",e3:[5,5,5,5],yY:{backgroundColor:"#FFFFD5",borderColor:"#808080"},Vl:e.ak||pa,ju:e.tags||"",filter:e.filter||"",Jy:e.sortby||"",Bk:e.hotspotName||"tile_md_"+(1e5*Math.random()).toFixed(0),RF:o},I.load("clayer",function(){i.Qd()})}function Uc(t,e,i){this.ff=t,this.or=e instanceof Gc?[e]:e.slice(0),i=i||{},this.k={F_:i.tips||"",zE:"",gc:i.minZoom||3,$b:i.maxZoom||18,d3:i.minZoom||3,c3:i.maxZoom||18,Qb:256,GF:i.textColor||"black",mD:i.errorImageUrl||"",$a:new db(new H(-21364736,-16023552),new H(23855104,19431424)),ie:i.projection||new S},1<=this.or.length&&(this.or[0].zw=o),x.extend(this.k,i)}function W(t,e){x.lang.Ca.call(this),this.yd={},this.hn(t),e=e||{},e.ka=e.renderOptions||{},this.k={ka:{Ia:e.ka.panel||p,map:e.ka.map||p,Xg:e.ka.autoViewport||o,Ot:e.ka.selectFirstResult,gt:e.ka.highlightMode,Hb:e.ka.enableDragging||q},fy:e.onSearchComplete||s(),iN:e.onMarkersSet||s(),hN:e.onInfoHtmlSet||s(),kN:e.onResultsHtmlSet||s(),gN:e.onGetBusListComplete||s(),fN:e.onGetBusLineComplete||s(),dN:e.onBusListHtmlSet||s(),cN:e.onBusLineHtmlSet||s(),NE:e.onPolylinesSet||s(),Gp:e.reqFrom||""},this.k.ka.Xg="undefined"!=typeof e&&"undefined"!=typeof e.renderOptions&&"undefined"!=typeof e.renderOptions.autoViewport?e.renderOptions.autoViewport:o,this.k.ka.Ia=x.Dc(this.k.ka.Ia)}function td(t,e,i){if(x.lang.Ca.call(this),t){this.Va="object"==typeof t?t:x.Dc(t),this.page=1,this.Jd=100,this.UJ="pg",this.Vf=4,this.bK=e,this.update=o,t={page:1,Ye:100,Jd:100,Vf:4,UJ:"pg",update:o},i||(i=t);for(var n in i)"undefined"!=typeof i[n]&&(this[n]=i[n]);this.va()}}function ab(t,e){W.call(this,t,e),e=e||{},e.renderOptions=e.renderOptions||{},this.Qp(e.pageCapacity),"undefined"==typeof e.renderOptions.selectFirstResult||e.renderOptions.selectFirstResult?this.hD():this.LC(),this.wa=[],this.wf=[],this.kb=-1,this.Pa=[];var i=this;I.load("local",function(){i.Dz()},o)}function vd(t,e){W.call(this,t,e)}function wd(t,e){W.call(this,t,e),e=e||{},this.Wt(e.policy),this.Qp(e.pageCapacity),this.ud=jd,this.Fu=od,this.Gu=bd,this.wa=[],this.kb=-1,this.k.ed=e.enableTraffic||q,this.Pa=[];var i=this;I.load("route",function(){i.Qd()})}function yd(t,e){W.call(this,t,e),this.wa=[],this.kb=-1,this.Pa=[];var i=this,n=this.k.ka;1!==n.gt&&2!==n.gt&&(n.gt=1),this.Xz=this.k.ka.Hb?o:q,I.load("route",function(){i.Qd()}),this.kE&&this.kE()}function zd(t,e){yd.call(this,t,e),e=e||{},this.k.ed=e.enableTraffic||q,this.Wt(e.policy),this.ud=kd,this.Fu=rd,this.Gu=ed}function Ad(t,e){yd.call(this,t,e),this.ud=ld,this.Fu=sd,this.Gu=dd,this.Xz=q}function Bd(t,e){x.lang.Ca.call(this),this.Tf=[],this.Wm=[],this.k=e,this.fc=t,this.map=this.k.ka.map||p,this.wy=this.k.wy,this.Cb=p,this.fj=0,this.Ky="",this.ce=1,this.dx="",this.Hp=[0,0,0,0,0,0,0],this.CE=[],this.ks=[1,1,1,1,1,1,1],this.zO=[1,1,1,1,1,1,1],this.Mt=[0,0,0,0,0,0,0],this.Ip=[0,0,0,0,0,0,0],this.Na=[{o:"",Cd:0,vn:0,x:0,y:0,pa:-1},{o:"",Cd:0,vn:0,x:0,y:0,pa:-1},{o:"",Cd:0,vn:0,x:0,y:0,pa:-1},{o:"",Cd:0,vn:0,x:0,y:0,pa:-1},{o:"",Cd:0,vn:0,x:0,y:0,pa:-1},{o:"",Cd:0,vn:0,x:0,y:0,pa:-1},{o:"",Cd:0,vn:0,x:0,y:0,pa:-1}],this.fi=-1,this.lu=[],this.mu=[],I.load("route",s())}function Ed(t){this.rh=t||{}}function Fd(t){this.k={},x.extend(this.k,t),this.Pa=[];var e=this;I.load("othersearch",function(){e.Qd()})}function Geolocation(t){t=t||{},this.D={timeout:t.timeout||1e4,maximumAge:t.maximumAge||6e5,bl:q},this.oe=[];var e=this;I.load("othersearch",function(){for(var t,i=0;t=e.oe[i];i++)e[t.method].apply(e,t.arguments)})}function Hd(t){t=t||{},t.ka=t.renderOptions||{},this.k={ka:{map:t.ka.map||p}},this.Pa=[];var e=this;I.load("othersearch",function(){e.Qd()})}function Id(){this.Pa=[];var t=this;I.load("othersearch",function(){t.Qd()})}function Jd(t,e){W.call(this,t,e),this.zP=md,this.BP=pd,this.yP=nd,this.AP=qd,this.Pa=[];var i=this;I.load("buslinesearch",function(){i.Qd()})}function Kd(t){W.call(this,t),t=t||{},this.pc={input:t.input||p,XB:t.baseDom||p,types:t.types||[],fy:t.onSearchComplete||s()},this.yd.src=t.location||"全国",this.$i="",this.mg=p,this.YH="",this.Pi(),Qa(Ga);var e=this;I.load("autocomplete",function(){e.Qd()})}function Na(t,e){function i(){a.k.visible?("inter"===a.Je&&a.k.haveBreakId&&a.k.indoorExitControl===o?x.K.show(a.wA):x.K.U(a.wA),this.k.closeControl&&this.zf&&this.C&&this.C.La()===this.B?x.K.show(a.zf):x.K.U(a.zf),this.k.forceCloseControl&&x.K.show(a.zf)):(x.K.U(a.zf),x.K.U(a.wA))}this.B="string"==typeof t?x.$(t):t,this.ba=Ld++,this.k={enableScrollWheelZoom:o,panoramaRenderer:"flash",swfSrc:z.sg("main_domain_nocdn","res/swf/")+"APILoader.swf",visible:o,indoorExitControl:o,indoorFloorControl:q,linksControl:o,clickOnRoad:o,navigationControl:o,closeControl:o,indoorSceneSwitchControl:o,albumsControl:q,albumsControlOptions:{},copyrightControlOptions:{},forceCloseControl:q,haveBreakId:q};var n,e=e||{};for(n in e)this.k[n]=e[n];e.closeControl===o&&(this.k.forceCloseControl=o),e.useWebGL===q&&Ma(q),this.Da={heading:0,pitch:0},this.ao=[],this.Mb=this.Ya=p,this.ck=this.er(),this.wa=[],this.Jc=1,this.Je=this.bT=this.gl="",this.Ie={},this.Mf=p,this.Pg=[],this.zr=[],"cvsRender"==this.ck||Ma()?(this.Vj=90,this.Xj=-90):"cssRender"==this.ck&&(this.Vj=45,this.Xj=-45),this.Dr=q;var a=this;this.bo=function(){"flashRender"===this.ck?I.load("panoramaflash",function(){a.Pi()},o):I.load("panorama",function(){a.yb()},o),Qa("api"==e.Pf?Ca:Da),this.bo=s()},this.k.PS!==o&&(this.bo(),z.En("cus.fire","count","z_loadpanoramacount")),this.FT(this.B),this.addEventListener("id_changed",function(){Qa(Ba,{from:e.Pf})}),this.TP(),this.addEventListener("indoorexit_options_changed",i),this.addEventListener("scene_type_changed",i),this.addEventListener("onclose_options_changed",i),this.addEventListener("onvisible_changed",i)}function Pd(){x.lang.Ca.call(this),this.hd="PanoramaOverlay_"+this.ba,this.P=p,this.Qa=o}function Qd(t,e){Pd.call(this);var i,n={position:p,altitude:2,displayDistance:o},e=e||{};for(i in e)n[i]=e[i];this.Mb=n.position,this.Lj=t,this.xq=n.altitude,this.eR=n.displayDistance,this.GF=n.color,this.TL=n.hoverColor,this.backgroundColor=n.backgroundColor,this.WJ=n.backgroundHoverColor,this.borderColor=n.borderColor,this.$J=n.borderHoverColor,this.fontSize=n.fontSize,this.padding=n.padding,this.fE=n.imageUrl,this.size=n.size,this.we=n.image,this.width=n.width,this.height=n.height,this.bY=n.imageData,this.borderWidth=n.borderWidth}function Td(t,e){Pd.call(this);var i,n={icon:"",title:"",panoInfo:p,altitude:2},e=e||{};for(i in e)n[i]=e[i];this.Mb=t,this.TH=n.icon,this.pJ=n.title,this.xq=n.altitude,this.sT=n.panoInfo,this.Da={heading:0,pitch:0}}function Rd(t,e){var i=0;if(0!==t&&0!==e){var i=180*(Math.atan(t/e)/Math.PI),n=0;t>0&&0>e&&(n=90),0>t&&0>e&&(n=180),0>t&&e>0&&(n=270),i=(i+90)%90+n}else 0===t?i=0>e?180:0:0===e&&(i=t>0?90:270);return Math.round(i)}function Ma(t){if("boolean"==typeof Vd)return Vd;if(t===q||!window.WebGLRenderingContext)return Vd=q;if(x.platform.Km){t=0;try{t=navigator.userAgent.split("Android ")[1].charAt(0)}catch(e){}if(5>t)return Vd=q}var t=document.createElement("canvas"),i=p;try{i=t.getContext("webgl")}catch(n){Vd=q}return Vd=i===p?q:o}function Wd(){if("boolean"==typeof Xd)return Xd;if(Xd=o,x.platform.oE)return o;var t=navigator.userAgent;return-1<t.indexOf("Chrome")||-1<t.indexOf("SAMSUNG-GT-I9508")?o:Xd=q}function bc(t,e){this.P=t||p;var i=this;i.P&&i.ca(),I.load("pservice",function(){i.xQ()}),Qa("api"==(e||{}).Pf?Ea:Fa),this.vd={getPanoramaById:[],getPanoramaByLocation:[],getVisiblePOIs:[],getRecommendPanosById:[],getPanoramaVersions:[],checkPanoSupportByCityCode:[],getPanoramaByPOIId:[],getCopyrightProviders:[]}}function ac(t){Gc.call(this),Qa("api"==(t||{}).Pf?ya:za)}function Zd(){}function Me(t,e){var i,n=this;n.yn="object"==typeof t?t:be.getElementById(t),n.yn.style.overflow="hidden",n.Pb=n.yn.children[0],n.options={kp:o,wn:o,x:0,y:0,Eo:o,lV:q,Yx:o,DE:o,Vk:o,Ai:q,I_:0,Fw:q,Cx:o,mi:o,Bi:o,rD:Dd,Gx:xe,GW:xe&&ze,kF:"",zoom:q,Xk:1,bq:4,nW:2,WO:"scroll",du:q,Iy:1,jN:p,bN:function(t){t.preventDefault()},mN:p,aN:p,lN:p,$M:p,ey:p,nN:p,eN:p,Bp:p,oN:p,Ap:p};for(i in e)n.options[i]=e[i];n.x=n.options.x,n.y=n.options.y,n.options.Vk=Be&&n.options.Vk,n.options.mi=n.options.kp&&n.options.mi,n.options.Bi=n.options.wn&&n.options.Bi,n.options.zoom=n.options.Vk&&n.options.zoom,n.options.Ai=Ce&&n.options.Ai,n.options.zoom&&Dd&&(Le=""),n.Pb.style[ne]=n.options.Vk?je+"transform":"top left",n.Pb.style[oe]="0",n.Pb.style[pe]="0 0",n.options.Ai&&(n.Pb.style[ve]="cubic-bezier(0.33,0.66,0.66,1)"),n.options.Vk?n.Pb.style[le]="translate("+n.x+"px,"+n.y+"px)"+Le:n.Pb.style.cssText+=";position:absolute;top:"+n.y+"px;left:"+n.x+"px",n.options.Ai&&(n.options.rD=o),n.refresh(),n.ca(De,window),n.ca(Ee),!Ae&&"none"!=n.options.WO&&(n.ca("DOMMouseScroll"),n.ca("mousewheel")),n.options.Fw&&(n.wV=setInterval(function(){n.uQ()},500)),this.options.Cx&&(Event.prototype.stopImmediatePropagation||(document.body.removeEventListener=function(t,e,i){var n=Node.prototype.removeEventListener;"click"===t?n.call(document.body,t,e.RL||e,i):n.call(document.body,t,e,i)
},document.body.addEventListener=function(t,e,i){var n=Node.prototype.addEventListener;"click"===t?n.call(document.body,t,e.RL||(e.RL=function(t){t.mZ||e(t)}),i):n.call(document.body,t,e,i)}),n.ca("click",document.body,o))}function ke(t){return""===ee?t:(t=t.charAt(0).toUpperCase()+t.substr(1),ee+t)}function Ne(t){this.k={anchor:Vb,offset:new L(0,0),maxWidth:"100%",imageHeight:80};var e,t=t||{};for(e in t)this.k[e]=t[e];this.Kl=new bc(p,{Pf:"api"}),this.$j=[],this.P=p,this.eg={height:this.k.imageHeight,width:this.k.imageHeight*Oe},this.Oc=this.rB=this.cm=this.Xc=p}function Re(t){this.B=t,this.Sg=t.children[0],this.Qr=p,this.Ei=20,this.offsetLeft=0,this.ra()}function T(t,e){for(var i in e)t[i]=e[i]}var j=void 0,o=!0,p=null,q=!1,ea,fa=[],ia,x=ia=x||{version:"1.3.4"};x.ba="$BAIDU$",window[x.ba]=window[x.ba]||{},x.object=x.object||{},x.extend=x.object.extend=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},x.K=x.K||{},x.K.$=function(t){return"string"==typeof t||t instanceof String?document.getElementById(t):t&&t.nodeName&&(1==t.nodeType||9==t.nodeType)?t:p},x.$=x.Dc=x.K.$,x.K.U=function(t){return t=x.K.$(t),t===p?t:(t.style.display="none",t)},x.U=x.K.U,x.lang=x.lang||{},x.lang.tg=function(t){return"[object String]"==Object.prototype.toString.call(t)},x.tg=x.lang.tg,x.K.Pj=function(t){return x.lang.tg(t)?document.getElementById(t):t},x.Pj=x.K.Pj,x.K.getElementsByClassName=function(t,e){var i;if(t.getElementsByClassName)i=t.getElementsByClassName(e);else{var n=t;n==p&&(n=document),i=[];var o,s,n=n.getElementsByTagName("*"),a=n.length,h=RegExp("(^|\\s)"+e+"(\\s|$)");for(s=o=0;a>o;o++)h.test(n[o].className)&&(i[s]=n[o],s++)}return i},x.getElementsByClassName=x.K.getElementsByClassName,x.K.contains=function(t,e){var i=x.K.Pj,t=i(t),e=i(e);return t.contains?t!=e&&t.contains(e):!!(16&t.compareDocumentPosition(e))},x.da=x.da||{},/msie (\d+\.\d)/i.test(navigator.userAgent)&&(x.da.la=x.la=document.documentMode||+RegExp.$1);var ja={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder"};8>x.da.la?(ja["for"]="htmlFor",ja["class"]="className"):(ja.htmlFor="for",ja.className="class"),x.K.CG=ja,x.K.oF=function(t,e,i){return t=x.K.$(t),t===p?t:("style"==e?t.style.cssText=i:(e=x.K.CG[e]||e,t.setAttribute(e,i)),t)},x.oF=x.K.oF,x.K.pF=function(t,e){if(t=x.K.$(t),t===p)return t;for(var i in e)x.K.oF(t,i,e[i]);return t},x.pF=x.K.pF,x.Tk=x.Tk||{},function(){var t=RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");x.Tk.trim=function(e){return(""+e).replace(t,"")}}(),x.trim=x.Tk.trim,x.Tk.Uo=function(t,e){var t=""+t,i=Array.prototype.slice.call(arguments,1),n=Object.prototype.toString;return i.length?(i=1==i.length&&e!==p&&/\[object Array\]|\[object Object\]/.test(n.call(e))?e:i,t.replace(/#\{(.+?)\}/g,function(t,e){var o=i[e];return"[object Function]"==n.call(o)&&(o=o(e)),"undefined"==typeof o?"":o})):t},x.Uo=x.Tk.Uo,x.K.Tb=function(t,e){if(t=x.K.$(t),t===p)return t;for(var i,n,o=t.className.split(/\s+/),s=e.split(/\s+/),a=s.length,h=0;a>h;++h)for(n=0,i=o.length;i>n;++n)if(o[n]==s[h]){o.splice(n,1);break}return t.className=o.join(" "),t},x.Tb=x.K.Tb,x.K.Lx=function(t,e,i){if(t=x.K.$(t),t===p)return t;var n;return t.insertAdjacentHTML?t.insertAdjacentHTML(e,i):(n=t.ownerDocument.createRange(),e=e.toUpperCase(),"AFTERBEGIN"==e||"BEFOREEND"==e?(n.selectNodeContents(t),n.collapse("AFTERBEGIN"==e)):(e="BEFOREBEGIN"==e,n[e?"setStartBefore":"setEndAfter"](t),n.collapse(e)),n.insertNode(n.createContextualFragment(i))),t},x.Lx=x.K.Lx,x.K.show=function(t){return t=x.K.$(t),t===p?t:(t.style.display="",t)},x.show=x.K.show,x.K.GD=function(t){return t=x.K.$(t),t===p?t:9==t.nodeType?t:t.ownerDocument||t.document},x.K.Ua=function(t,e){if(t=x.K.$(t),t===p)return t;for(var i=e.split(/\s+/),n=t.className,o=" "+n+" ",s=0,a=i.length;a>s;s++)o.indexOf(" "+i[s]+" ")<0&&(n+=" "+i[s]);return t.className=n,t},x.Ua=x.K.Ua,x.K.FB=x.K.FB||{},x.K.Nl=x.K.Nl||[],x.K.Nl.filter=function(t,e,i){for(var n,o=0,s=x.K.Nl;n=s[o];o++)(n=n[i])&&(e=n(t,e));return e},x.Tk.uO=function(t){return t.indexOf("-")<0&&t.indexOf("_")<0?t:t.replace(/[-_][^-_]/g,function(t){return t.charAt(1).toUpperCase()})},x.K.H_=function(t){x.K.dt(t,"expand")?x.K.Tb(t,"expand"):x.K.Ua(t,"expand")},x.K.dt=function(t){if(arguments.length<=0||"function"==typeof t)return this;if(this.size()<=0)return q;var e,t=t.replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," "),i=t.split(" ");return x.forEach(this,function(t){for(var t=t.className,n=0;n<i.length;n++)if(!~(" "+t+" ").indexOf(" "+i[n]+" "))return void(e=q);e!==q&&(e=o)}),e},x.K.sj=function(t,e){var i=x.K,t=i.$(t);if(t===p)return t;var e=x.Tk.uO(e),n=t.style[e];if(!n)var o=i.FB[e],n=t.currentStyle||(x.da.la?t.style:getComputedStyle(t,p)),n=o&&o.get?o.get(t,n):n[o||e];return(o=i.Nl)&&(n=o.filter(e,n,"get")),n},x.sj=x.K.sj,/opera\/(\d+\.\d)/i.test(navigator.userAgent)&&(x.da.opera=+RegExp.$1),x.da.nM=/webkit/i.test(navigator.userAgent),x.da.oY=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent),x.da.sE="CSS1Compat"==document.compatMode,x.K.ha=function(t){if(t=x.K.$(t),t===p)return t;var e=x.K.GD(t),i=x.da,n=x.K.sj;i.oY>0&&e.getBoxObjectFor&&n(t,"position");var o,s={left:0,top:0};if(t==(i.la&&!i.sE?e.body:e.documentElement))return s;if(t.getBoundingClientRect)t=t.getBoundingClientRect(),s.left=Math.floor(t.left)+Math.max(e.documentElement.scrollLeft,e.body.scrollLeft),s.top=Math.floor(t.top)+Math.max(e.documentElement.scrollTop,e.body.scrollTop),s.left=s.left-e.documentElement.clientLeft,s.top=s.top-e.documentElement.clientTop,t=e.body,e=parseInt(n(t,"borderLeftWidth")),n=parseInt(n(t,"borderTopWidth")),i.la&&!i.sE&&(s.left=s.left-(isNaN(e)?2:e),s.top=s.top-(isNaN(n)?2:n));else{o=t;do{if(s.left=s.left+o.offsetLeft,s.top=s.top+o.offsetTop,i.nM>0&&"fixed"==n(o,"position")){s.left=s.left+e.body.scrollLeft,s.top=s.top+e.body.scrollTop;break}o=o.offsetParent}while(o&&o!=t);for((i.opera>0||i.nM>0&&"absolute"==n(t,"position"))&&(s.top=s.top-e.body.offsetTop),o=t.offsetParent;o&&o!=e.body;)s.left=s.left-o.scrollLeft,i.opera&&"TR"==o.tagName||(s.top=s.top-o.scrollTop),o=o.offsetParent}return s},/firefox\/(\d+\.\d)/i.test(navigator.userAgent)&&(x.da.Se=+RegExp.$1),/BIDUBrowser/i.test(navigator.userAgent)&&(x.da.y1=o);var ka=navigator.userAgent;/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(ka)&&!/chrome/i.test(ka)&&(x.da.iF=+(RegExp.$1||RegExp.$2)),/chrome\/(\d+\.\d)/i.test(navigator.userAgent)&&(x.da.Gw=+RegExp.$1),x.kc=x.kc||{},x.kc.Gb=function(t,e){var i,n,o=t.length;if("function"==typeof e)for(n=0;o>n&&(i=t[n],i=e.call(t,i,n),i!==q);n++);return t},x.Gb=x.kc.Gb,x.lang.ba=function(){return"TANGRAM__"+(window[x.ba]._counter++).toString(36)},window[x.ba]._counter=window[x.ba]._counter||1,window[x.ba]._instances=window[x.ba]._instances||{},x.lang.nt=function(t){return"[object Function]"==Object.prototype.toString.call(t)},x.lang.Ca=function(t){this.ba=t||x.lang.ba(),window[x.ba]._instances[this.ba]=this},window[x.ba]._instances=window[x.ba]._instances||{},x.lang.Ca.prototype.gi=ga(0),x.lang.Ca.prototype.toString=function(){return"[object "+(this.zQ||"Object")+"]"},x.lang.$y=function(t,e){this.type=t,this.returnValue=o,this.target=e||p,this.currentTarget=p},x.lang.Ca.prototype.addEventListener=function(t,e,i){if(x.lang.nt(e)){!e.dl&&(e.dl={}),!this.Gi&&(this.Gi={});var n,o=this.Gi;"string"==typeof i&&i&&(/[^\w\-]/.test(i)&&ba("nonstandard key:"+i),n=e.Dx=i),0!=t.indexOf("on")&&(t="on"+t),"object"!=typeof o[t]&&(o[t]={}),"object"!=typeof e.dl[t]&&(e.dl[t]={}),n=n||x.lang.ba(),e.dl[t].Dx=n,o[t][n]=e}},x.lang.Ca.prototype.removeEventListener=function(t,e){if(0!=t.indexOf("on")&&(t="on"+t),x.lang.nt(e)){if(!e.dl||!e.dl[t])return;e=e.dl[t].Dx}else if(!x.lang.tg(e))return;!this.Gi&&(this.Gi={});var i=this.Gi;i[t]&&i[t][e]&&delete i[t][e]},x.lang.Ca.prototype.dispatchEvent=function(t,e){x.lang.tg(t)&&(t=new x.lang.$y(t)),!this.Gi&&(this.Gi={});var i,e=e||{};for(i in e)t[i]=e[i];var n=this.Gi,o=t.type;if(t.target=t.target||this,t.currentTarget=this,0!=o.indexOf("on")&&(o="on"+o),x.lang.nt(this[o])&&this[o].apply(this,arguments),"object"==typeof n[o])for(i in n[o])n[o][i].apply(this,arguments);return t.returnValue},x.lang.ua=function(t,e,i){var n,o,s=t.prototype;o=new Function,o.prototype=e.prototype,o=t.prototype=new o;for(n in s)o[n]=s[n];t.prototype.constructor=t,t.y_=e.prototype,"string"==typeof i&&(o.zQ=i)},x.ua=x.lang.ua,x.lang.Kc=function(t){return window[x.ba]._instances[t]||p},x.platform=x.platform||{},x.platform.gM=/macintosh/i.test(navigator.userAgent),x.platform.l3=/MicroMessenger/i.test(navigator.userAgent),x.platform.oM=/windows/i.test(navigator.userAgent),x.platform.wY=/x11/i.test(navigator.userAgent),x.platform.Km=/android/i.test(navigator.userAgent),/android (\d+\.\d)/i.test(navigator.userAgent)&&(x.platform.QJ=x.QJ=RegExp.$1),x.platform.qY=/ipad/i.test(navigator.userAgent),x.platform.oE=/iphone/i.test(navigator.userAgent),x.lang.Vw=function(t){var e=window[x.ba];e.KS&&delete e.KS[t]},x.event={},x.M=x.event.M=function(t,e,i){return(t=x.$(t))?(e=e.replace(/^on/,""),t.addEventListener?t.addEventListener(e,i,q):t.attachEvent&&t.attachEvent("on"+e,i),t):t},x.bd=x.event.bd=function(t,e,i){return(t=x.$(t))?(e=e.replace(/^on/,""),t.removeEventListener?t.removeEventListener(e,i,q):t.detachEvent&&t.detachEvent("on"+e,i),t):t},x.K.dt=function(t,e){if(!t||!t.className||"string"!=typeof t.className)return q;var i=-1;try{i=t.className==e||t.className.search(RegExp("(\\s|^)"+e+"(\\s|$)"))}catch(n){return q}return i>-1},x.VK=function(){function t(t){document.addEventListener&&(this.element=t,this.YK=this.zk?"touchstart":"mousedown",this.oD=this.zk?"touchmove":"mousemove",this.nD=this.zk?"touchend":"mouseup",this.ph=q,this.hu=this.gu=0,this.element.addEventListener(this.YK,this,q),ia.M(this.element,"mousedown",s()),this.handleEvent(p))}return t.prototype={zk:"ontouchstart"in window||"createTouch"in document,start:function(t){ma(t),this.ph=q,this.gu=this.zk?t.touches[0].clientX:t.clientX,this.hu=this.zk?t.touches[0].clientY:t.clientY,this.element.addEventListener(this.oD,this,q),this.element.addEventListener(this.nD,this,q)},move:function(t){na(t);var e=this.zk?t.touches[0].clientY:t.clientY;(10<Math.abs((this.zk?t.touches[0].clientX:t.clientX)-this.gu)||10<Math.abs(e-this.hu))&&(this.ph=o)},end:function(t){na(t),this.ph||(t=document.createEvent("Event"),t.initEvent("tap",q,o),this.element.dispatchEvent(t)),this.element.removeEventListener(this.oD,this,q),this.element.removeEventListener(this.nD,this,q)},handleEvent:function(t){if(t)switch(t.type){case this.YK:this.start(t);break;case this.oD:this.move(t);break;case this.nD:this.end(t)}}},function(e){return new t(e)}}();var z=window.BMap||{};z.version="2.0",z.JU=.34>Math.random(),0<=z.version.indexOf("#")&&(z.version="2.0"),z.Gr=[],z.We=function(t){this.Gr.push(t)},z.wr=[],z.Vm=function(t){this.wr.push(t)},z.XU=z.apiLoad||function(){z.version&&z.version>=1.5&&oa(z.wc+"?qt=verify&ak="+pa,function(t){if(t&&0!==t.error){"undefined"!=typeof map&&(map.La().innerHTML="",map.Gi={}),z=p;var e="百度未授权使用地图API，可能是因为您提供的密钥不是有效的百度LBS开放平台密钥，或此密钥未对本应用的百度地图JavaScriptAPI授权。您可以访问如下网址了解如何获取有效的密钥：http://lbsyun.baidu.com/apiconsole/key#。";switch(t.error){case 101:e="开发者禁用了该ak的jsapi服务权限。您可以访问如下网址了解如何获取有效的密钥：http://lbsyun.baidu.com/apiconsole/key#。";break;case 102:e="开发者Referer不正确。您可以访问如下网址了解如何获取有效的密钥：http://lbsyun.baidu.com/apiconsole/key#。"}alert(e)}})};var pa=window.BMAP_AUTHENTIC_KEY;window.BMAP_AUTHENTIC_KEY=p;var qa=window.BMap_loadScriptTime,ra=(new Date).getTime(),sa=p,ta=o,ua=5042,va=5002,wa=5003,xa="load_mapclick",ya=5038,za=5041,Ba=5047,Ca=5036,Da=5039,Ea=5037,Fa=5040,Ga=5011,Ha=7e3,Ia=0;x.lang.ua(Ka,x.lang.Ca,"Map"),x.extend(Ka.prototype,{va:function(){var t=K("div"),e=t.style;e.overflow="visible",e.position="absolute",e.zIndex="0",e.top=e.left="0px";var e=K("div",{"class":"BMap_mask"}),i=e.style;return i.position="absolute",i.top=i.left="0px",i.zIndex="9",i.overflow="hidden",i.WebkitUserSelect="none",t.appendChild(e),t},yB:function(t){var e=t.style;e.overflow="hidden","absolute"!==Va(t).position&&(e.position="relative",e.zIndex=0),e.backgroundColor="#F3F1EC",e.color="#000",e.textAlign="left"},ca:function(){var t=this;t.uo=function(){var e=t.Bb();if(t.width!==e.width||t.height!==e.height){var i=new L(t.width,t.height),n=new M("onbeforeresize");n.size=i,t.dispatchEvent(n),t.hk((e.width-t.width)/2,(e.height-t.height)/2),t.ye.style.width=(t.width=e.width)+"px",t.ye.style.height=(t.height=e.height)+"px",i=new M("onresize"),i.size=e,t.dispatchEvent(i)}},t.D.Js&&(t.R.Zl=setInterval(t.uo,80))},hk:function(t,e,i,n){var s=this.oa().yc(this.fa()),a=this.ie,h=o;i&&H.fM(i)&&(this.Oe=new H(i.lng,i.lat),h=q),(i=i&&n?a.Ck(i,this.Xb):this.mc)&&(this.mc=new H(i.lng+t*s,i.lat-e*s),(t=a.oh(this.mc,this.Xb))&&h&&(this.Oe=t))},Dg:function(t,e){if(Wa(t)&&(this.Vu(),this.dispatchEvent(new M("onzoomstart")),t=this.Xn(t).zoom,t!==this.Oa)){this.Lc=this.Oa,this.Oa=t;var i;e?i=e:this.hh()&&(i=this.hh().ha()),i&&(i=this.bc(i,this.Lc),this.hk(this.width/2-i.x,this.height/2-i.y,this.wb(i,this.Lc),o)),this.dispatchEvent(new M("onzoomstartcode"))}},Nc:function(t){this.Dg(t)},XF:function(t){this.Dg(this.Oa+1,t)},YF:function(t){this.Dg(this.Oa-1,t)},ui:function(t){t instanceof H&&(this.mc=this.ie.Ck(t,this.Xb),this.Oe=H.fM(t)?new H(t.lng,t.lat):this.ie.oh(this.mc,this.Xb))},xg:function(t,e){t=Math.round(t)||0,e=Math.round(e)||0,this.hk(-t,-e)},qw:function(t){t&&Xa(t.Ge)&&(t.Ge(this),this.dispatchEvent(new M("onaddcontrol",t)))},CN:function(t){t&&Xa(t.remove)&&(t.remove(),this.dispatchEvent(new M("onremovecontrol",t)))},xo:function(t){t&&Xa(t.ra)&&(t.ra(this),this.dispatchEvent(new M("onaddcontextmenu",t)))},Fp:function(t){t&&Xa(t.remove)&&(this.dispatchEvent(new M("onremovecontextmenu",t)),t.remove())},Ka:function(t){t&&Xa(t.Ge)&&(t.Ge(this),this.dispatchEvent(new M("onaddoverlay",t)))},Ub:function(t){t&&Xa(t.remove)&&(t.remove(),this.dispatchEvent(new M("onremoveoverlay",t)))},jK:function(){this.dispatchEvent(new M("onclearoverlays"))},Wg:function(t){t&&this.dispatchEvent(new M("onaddtilelayer",t))},xh:function(t){t&&this.dispatchEvent(new M("onremovetilelayer",t))},Ag:function(t){if(this.Jb!==t){var e=new M("onsetmaptype");e.T3=this.Jb,this.Jb=this.D.Jb=t,this.ie=this.Jb.ep(),this.hk(0,0,this.Ha(),o),this.Vu();var i=this.Xn(this.fa()).zoom;this.Dg(i),this.dispatchEvent(e),e=new M("onmaptypechange"),e.Oa=i,e.Jb=t,this.dispatchEvent(e),(t===Ya||t===Sa)&&Qa(wa)}},Wf:function(t){var e=this;if(t instanceof H)e.ui(t,{noAnimation:o});else if(Za(t))if(e.Jb===Pa){var i=F.gC[t];i&&(pt=i.m,e.Wf(pt))}else{var n=this.JH();n.wF(function(i){0===n.zm()&&2===n.Fa.result.type&&(e.Wf(i.xk(0).point),Pa.tk(t)&&e.qF(t))}),n.search(t,{log:"center"})}},Dd:function(t,e){"[object Undefined]"!==Object.prototype.toString.call(e)&&(e=parseInt(e)),z.En("cus.fire","time",{z_loadscripttime:ra-qa});var i=this;if(Za(t))if(i.Jb===Pa){var n=F.gC[t];n&&(pt=n.m,i.Dd(pt,e))}else{var s=i.JH();s.wF(function(n){if(0===s.zm()&&(2===s.Fa.result.type||11===s.Fa.result.type)){var n=n.xk(0).point,o=e||O.gx(s.Fa.content.level,i);i.Dd(n,o),Pa.tk(t)&&i.qF(t)}}),s.search(t,{log:"center"})}else if(t instanceof H&&e){e=i.Xn(e).zoom,i.Lc=i.Oa||e,i.Oa=e,n=i.Oe,i.Oe=new H(t.lng,t.lat),i.mc=i.ie.Ck(i.Oe,i.Xb),i.CC=i.CC||i.Oa,i.BC=i.BC||i.Oe;var a=new M("onload"),h=new M("onloadcode");a.point=new H(t.lng,t.lat),a.pixel=i.bc(i.Oe,i.Oa),a.zoom=e,i.loaded||(i.loaded=o,i.dispatchEvent(a),sa||(sa=$a())),i.dispatchEvent(h),a=new M("onmoveend"),a.lH="centerAndZoom",n.nb(i.Oe)||i.dispatchEvent(a),i.dispatchEvent(new M("onmoveend")),i.Lc!==i.Oa&&(n=new M("onzoomend"),n.lH="centerAndZoom",i.dispatchEvent(n)),i.D.Po&&i.Po()}},JH:function(){return this.R.CM||(this.R.CM=new ab(1)),this.R.CM},reset:function(){this.Dd(this.BC,this.CC,o)},enableDragging:function(){this.D.Hb=o},disableDragging:function(){this.D.Hb=q},enableInertialDragging:function(){this.D.ax=o},disableInertialDragging:function(){this.D.ax=q},enableScrollWheelZoom:function(){this.D.So=o},disableScrollWheelZoom:function(){this.D.So=q},enableContinuousZoom:function(){this.D.Ro=o},disableContinuousZoom:function(){this.D.Ro=q},enableDoubleClickZoom:function(){this.D.gD=o},disableDoubleClickZoom:function(){this.D.gD=q},enableKeyboard:function(){this.D.bx=o},disableKeyboard:function(){this.D.bx=q},enablePinchToZoom:function(){this.D.om=o},disablePinchToZoom:function(){this.D.om=q},enableAutoResize:function(){this.D.Js=o,this.uo(),this.R.Zl||(this.R.Zl=setInterval(this.uo,80))},disableAutoResize:function(){this.D.Js=q,this.R.Zl&&(clearInterval(this.R.Zl),this.R.Zl=p)},Po:function(){this.D.Po=o,this.Mn||(this.Mn=new bb({bL:o}),this.Wg(this.Mn))},hW:function(){this.D.Po=q,this.Mn&&(this.xh(this.Mn),this.Mn=p,delete this.Mn)},Bb:function(){return this.ss&&this.ss instanceof L?new L(this.ss.width,this.ss.height):new L(this.Va.clientWidth,this.Va.clientHeight)},Ae:function(t){t&&t instanceof L?(this.ss=t,this.Va.style.width=t.width+"px",this.Va.style.height=t.height+"px"):this.ss=p},Ha:u("Oe"),fa:u("Oa"),yV:function(){this.uo()},Xn:function(t){var e=this.D.gc,i=this.D.$b,n=q,t=Math.round(t);return e>t&&(n=o,t=e),t>i&&(n=o,t=i),{zoom:t,pD:n}},La:u("Va"),bc:function(t,e){return e=e||this.fa(),this.ie.bc(t,e,this.mc,this.Bb(),this.Xb)},wb:function(t,e){return e=e||this.fa(),this.ie.wb(t,e,this.mc,this.Bb(),this.Xb)},Ve:function(t,e){if(t){var i=this.bc(new H(t.lng,t.lat),e);return i.x-=this.offsetX,i.y-=this.offsetY,i}},qN:function(t,e){if(t){var i=new R(t.x,t.y);return i.x+=this.offsetX,i.y+=this.offsetY,this.wb(i,e)}},pointToPixelFor3D:function(t,e){var i=map.Xb;this.Jb===Pa&&i&&cb.pK(t,this,e)},N3:function(t,e){var i=map.Xb;this.Jb===Pa&&i&&cb.oK(t,this,e)},O3:function(t,e){var i=this,n=map.Xb;i.Jb===Pa&&n&&cb.pK(t,i,function(t){t.x-=i.offsetX,t.y-=i.offsetY,e&&e(t)})},L3:function(t,e){var i=map.Xb;this.Jb===Pa&&i&&(t.x+=this.offsetX,t.y+=this.offsetY,cb.oK(t,this,e))},Hd:function(t){if(!this.Nx())return new db;var e=t||{},t=e.margins||[0,0,0,0],i=e.zoom||p,e=this.wb({x:t[3],y:this.height-t[2]},i),t=this.wb({x:this.width-t[1],y:t[0]},i);return new db(e,t)},Nx:function(){return!!this.loaded},RR:function(t,e){for(var i=this.oa(),n=e.margins||[10,10,10,10],o=e.zoomFactor||0,s=n[1]+n[3],n=n[0]+n[2],a=i.$o(),h=i=i.vm();h>=a;h--){var r=this.oa().yc(h);if(t.LF().lng/r<this.width-s&&t.LF().lat/r<this.height-n)break}return h+=o,a>h&&(h=a),h>i&&(h=i),h},ct:function(t,e){var i={center:this.Ha(),zoom:this.fa()};if(!t||!t instanceof db&&0===t.length||t instanceof db&&t.xj())return i;var n=[];t instanceof db?(n.push(t.of()),n.push(t.ve())):n=t.slice(0);for(var e=e||{},o=[],s=0,a=n.length;a>s;s++)o.push(this.ie.Ck(n[s],this.Xb));for(n=new db,s=o.length-1;s>=0;s--)n.extend(o[s]);return n.xj()?i:(i=n.Ha(),o=this.RR(n,e),e.margins&&(n=e.margins,s=(n[1]-n[3])/2,n=(n[0]-n[2])/2,a=this.oa().yc(o),e.offset&&(s=e.offset.width,n=e.offset.height),i.lng+=a*s,i.lat+=a*n),i=this.ie.oh(i,this.Xb),{center:i,zoom:o})},Ah:function(t,e){var i;i=t&&t.center?t:this.ct(t,e);var e=e||{},n=e.delay||200;if(i.zoom===this.Oa&&e.enableAnimation!==q){var o=this;setTimeout(function(){o.ui(i.center,{duration:210})},n)}else this.Dd(i.center,i.zoom)},Rf:u("Wd"),hh:function(){return this.R.ob&&this.R.ob.Wa()?this.R.ob:p},getDistance:function(t,e){if(t&&e){if(t.nb(e))return 0;var i=0,i=S.Yo(t,e);return(i===p||i===j)&&(i=0),i}},wx:function(){var t=[],e=this.wa,i=this.De;if(e)for(var n in e)e[n]instanceof eb&&t.push(e[n]);if(i)for(n=0,e=i.length;e>n;n++)t.push(i[n]);return t},oa:u("Jb"),tz:function(){for(var t=this.R.aF;t<z.Gr.length;t++)z.Gr[t](this);this.R.aF=t},qF:function(t){this.Xb=Pa.tk(t),this.Hw=Pa.nL(this.Xb),this.Jb===Pa&&this.ie instanceof fb&&(this.ie.ej=this.Xb)},setDefaultCursor:function(t){this.D.Yb=t,this.platform&&(this.platform.style.cursor=this.D.Yb)},getDefaultCursor:function(){return this.D.Yb},setDraggingCursor:function(t){this.D.Fd=t},getDraggingCursor:function(){return this.D.Fd},Ix:function(){return this.D.xW&&1.5<=this.D.devicePixelRatio},sw:function(t,e){e?this.Oh[e]||(this.Oh[e]={}):e="custom",t.tag=e,t instanceof gb&&(this.Oh[e][t.ba]=t,t.ra(this));var i=this;I.load("hotspot",function(){i.tz()},o)},qZ:function(t,e){e||(e="custom"),this.Oh[e][t.ba]&&delete this.Oh[e][t.ba]},em:function(t){t||(t="custom"),this.Oh[t]={}},Vu:function(){var t=this.Jb.$o(),e=this.Jb.vm(),i=this.D;i.gc=i.MO||t,i.$b=i.LO||e,i.gc<t&&(i.gc=t),i.$b>e&&(i.$b=e)},setMinZoom:function(t){t=Math.round(t),t>this.D.$b&&(t=this.D.$b),this.D.MO=t,this.sJ()},setMaxZoom:function(t){t=Math.round(t),t<this.D.gc&&(t=this.D.gc),this.D.LO=t,this.sJ()},sJ:function(){this.Vu();var t=this.D;this.Oa<t.gc?this.Nc(t.gc):this.Oa>t.$b&&this.Nc(t.$b);var e=new M("onzoomspanchange");e.gc=t.gc,e.$b=t.$b,this.dispatchEvent(e)},X2:u("MB"),getKey:function(){return pa},Tt:function(t){var e=this;if(window.MPC_Mgr&&window.MPC_Mgr[e.ba]&&window.MPC_Mgr[e.ba].close(),e.D.lj=q,z.En("cus.fire","count","z_setmapstylecount"),t){e=this,t.styleJson&&(t.styleStr=e.v_(t.styleJson)),G()&&x.da.iF?setTimeout(function(){e.D.xe=t,e.dispatchEvent(new M("onsetcustomstyles",t))},50):(this.D.xe=t,this.dispatchEvent(new M("onsetcustomstyles",t)),this.aM(e.D.xe.geotableId));var i={style:t.style};t.features&&0<t.features.length&&(i.features=o),t.styleJson&&0<t.styleJson.length&&(i.styleJson=o),Qa(5050,i),t.style&&(i=e.D.gm[t.style]?e.D.gm[t.style].backColor:e.D.gm.normal.backColor)&&(this.La().style.backgroundColor=i)}},fY:function(t){this.controls||(this.controls={navigationControl:new hb,scaleControl:new ib,overviewMapControl:new jb,mapTypeControl:new kb});var e,i=this;for(e in this.controls)i.CN(i.controls[e]);t=t||[],x.kc.Gb(t,function(t){i.qw(i.controls[t])})},aM:function(t){t?this.qs&&this.qs.Af===t||(this.xh(this.qs),this.qs=new lb({geotableId:t}),this.Wg(this.qs)):this.xh(this.qs)},Wb:function(){var t=this.fa()>=this.D.TF&&this.oa()===La&&18>=this.fa(),e=q;try{document.createElement("canvas").getContext("2d"),e=o}catch(i){e=q}return t&&e},getCurrentCity:function(){return{name:this.Yg,code:this.cs}},wm:function(){return this.P.bo(),this.P},setPanorama:function(t){this.P=t,this.P.tF(this)},v_:function(t){for(var e,i={featureType:"t",elementType:"e",visibility:"v",color:"c",lightness:"l",saturation:"s",weight:"w",zoom:"z",hue:"h"},n={all:"all",geometry:"g","geometry.fill":"g.f","geometry.stroke":"g.s",labels:"l","labels.text.fill":"l.t.f","labels.text.stroke":"l.t.s","lables.text":"l.t","labels.icon":"l.i"},o=[],s=0;e=t[s];s++){var a=e.stylers;delete e.stylers,x.extend(e,a);var h,a=[];for(h in i)if(e[h])if("elementType"===h)a.push(i[h]+":"+n[e[h]]);else{switch(e[h]){case"poilabel":e[h]="poi";break;case"districtlabel":e[h]="label"}a.push(i[h]+":"+e[h])}2<a.length&&o.push(a.join("|"))}return o.join(",")},QZ:function(t){this.D.SK=t}});var mb,pb,ob=[],nb=new Image;Qa(5e3,{device_pixel_ratio:window.devicePixelRatio,platform:navigator.platform}),z.VL={TILE_BASE_URLS:["gss0.bdstatic.com/5bwHcj7lABFU8t_jkk_Z1zRvfdw6buu","gss0.bdstatic.com/5bwHcj7lABFV8t_jkk_Z1zRvfdw6buu","gss0.bdstatic.com/5bwHcj7lABFS8t_jkk_Z1zRvfdw6buu","gss0.bdstatic.com/5bwHcj7lABFT8t_jkk_Z1zRvfdw6buu","gss0.bdstatic.com/5bwHcj7lABFY8t_jkk_Z1zRvfdw6buu"],TILE_ONLINE_URLS:["gss0.bdstatic.com/8bo_dTSlR1gBo1vgoIiO_jowehsv","gss0.bdstatic.com/8bo_dTSlRMgBo1vgoIiO_jowehsv","gss0.bdstatic.com/8bo_dTSlRcgBo1vgoIiO_jowehsv","gss0.bdstatic.com/8bo_dTSlRsgBo1vgoIiO_jowehsv","gss0.bdstatic.com/8bo_dTSlQ1gBo1vgoIiO_jowehsv"],TIlE_PERSPECT_URLS:["gss0.bdstatic.com/-OR1cTe9KgQFm2e88IuM_a","gss0.bdstatic.com/-ON1cTe9KgQFm2e88IuM_a","gss0.bdstatic.com/-OZ1cTe9KgQFm2e88IuM_a","gss0.bdstatic.com/-OV1cTe9KgQFm2e88IuM_a"],geolocControl:"gsp0.baidu.com/8LkJsjOpB1gCo2Kml5_Y_D3",TILES_YUN_HOST:["gsp0.baidu.com/-eR1bSahKgkFkRGko9WTAnF6hhy","gsp0.baidu.com/-eN1bSahKgkFkRGko9WTAnF6hhy","gsp0.baidu.com/-eZ1bSahKgkFkRGko9WTAnF6hhy","gsp0.baidu.com/-eV1bSahKgkFkRGko9WTAnF6hhy"],traffic:"gsp0.baidu.com/7_AZsjOpB1gCo2Kml5_Y_DAcsMJiwa",iw_pano:"gss0.bdstatic.com/5LUZemba_QUU8t7mm9GUKT-xh_",message:"gsp0.baidu.com/7vo0bSba2gU2pMbgoY3K",baidumap:"gsp0.baidu.com/80MWsjip0QIZ8tyhnq",wuxian:"gsp0.baidu.com/6a1OdTeaKgQFm2e88IuM_a",pano:["gss0.bdstatic.com/5LUZemba_QUU8t7mm9GUKT-xh_","gss0.bdstatic.com/5LUZemfa_QUU8t7mm9GUKT-xh_","gss0.bdstatic.com/5LUZemja_QUU8t7mm9GUKT-xh_"],main_domain_nocdn:{baidu:"gsp0.baidu.com/9_Q4sjOpB1gCo2Kml5_Y_D3",other:"api.map.baidu.com"},main_domain_cdn:{baidu:["gss0.bdstatic.com/9_Q4vHSd2RZ3otebn9fN2DJv","gss0.baidu.com/9_Q4vXSd2RZ3otebn9fN2DJv","gss0.bdstatic.com/9_Q4vnSd2RZ3otebn9fN2DJv"],other:["api.map.baidu.com"],webmap:["gss0.baidu.com/6b1IcTe9R1gBo1vgoIiO_jowehsv"]},map_click:"gsp0.baidu.com/80MWbzKh2wt3n2qy8IqW0jdnxx1xbK",vector_traffic:"gss0.bdstatic.com/8aZ1cTe9KgQIm2_p8IuM_a"},z.$X={TILE_BASE_URLS:["shangetu0.map.bdimg.com","shangetu1.map.bdimg.com","shangetu2.map.bdimg.com","shangetu3.map.bdimg.com","shangetu4.map.bdimg.com"],TILE_ONLINE_URLS:["online0.map.bdimg.com","online1.map.bdimg.com","online2.map.bdimg.com","online3.map.bdimg.com","online4.map.bdimg.com"],TIlE_PERSPECT_URLS:["d0.map.baidu.com","d1.map.baidu.com","d2.map.baidu.com","d3.map.baidu.com"],geolocControl:"loc.map.baidu.com",TILES_YUN_HOST:["g0.api.map.baidu.com","g1.api.map.baidu.com","g2.api.map.baidu.com","g3.api.map.baidu.com"],traffic:"its.map.baidu.com:8002",iw_pano:"pcsv0.map.bdimg.com",message:"j.map.baidu.com",baidumap:"map.baidu.com",wuxian:"wuxian.baidu.com",pano:["pcsv0.map.bdimg.com","pcsv1.map.bdimg.com","pcsv2.map.bdimg.com"],main_domain_nocdn:{baidu:"api.map.baidu.com"},main_domain_cdn:{baidu:["api0.map.bdimg.com","api1.map.bdimg.com","api2.map.bdimg.com"],webmap:["webmap0.map.bdimg.com"]},map_click:"mapclick.map.baidu.com",vector_traffic:"or.map.bdimg.com"},z.Y_={0:{proto:"http://",domain:z.$X},1:{proto:"https://",domain:z.VL},2:{proto:"https://",domain:z.VL}},z.Qy=window.HOST_TYPE||"0",z.url=z.Y_[z.Qy],z.xp=z.url.proto+z.url.domain.baidumap+"/",z.wc=z.url.proto+("2"==z.Qy?z.url.domain.main_domain_nocdn.other:z.url.domain.main_domain_nocdn.baidu)+"/",z.ma=z.url.proto+("2"==z.Qy?z.url.domain.main_domain_cdn.other[0]:z.url.domain.main_domain_cdn.baidu[0])+"/",z.cj=z.url.proto+z.url.domain.main_domain_cdn.webmap[0]+"/",z.sg=function(t,e){var i,n,e=e||"";switch(t){case"main_domain_nocdn":i=z.wc+e;break;case"main_domain_cdn":i=z.ma+e;break;default:n=z.url.domain[t],"[object Array]"==Object.prototype.toString.call(n)?(i=[],x.kc.Gb(n,function(t,n){i[n]=z.url.proto+t+"/"+e})):i=z.url.proto+z.url.domain[t]+"/"+e}return i};var sb="INFINITE";qb.prototype.start=function(){this.Nu=$a(),this.Yz=this.Nu+this.k.duration,tb(this)},qb.prototype.add=function(t){this.Zf.push(t)},qb.prototype.stop=function(t){this.FF=o;for(var e=0;e<this.Zf.length;e++)this.Zf[e].stop(),this.Zf[e]=p;this.Zf.length=0,this.Xr&&(clearTimeout(this.Xr),this.Xr=p),this.k.Et(this.xy),t&&(this.Yz=this.Nu,tb(this))},qb.prototype.cancel=ga(1);var rb={AM:function(t){return t},reverse:function(t){return 1-t},bD:function(t){return t*t},aD:function(t){return Math.pow(t,3)},Hs:function(t){return-(t*(t-2))},QK:function(t){return Math.pow(t-1,3)+1},PK:function(t){return.5>t?2*t*t:-2*(t-2)*t-1},Z1:function(t){return.5>t?4*Math.pow(t,3):4*Math.pow(t-1,3)+1},a2:function(t){return(1-Math.cos(Math.PI*t))/2}};rb["ease-in"]=rb.bD,rb["ease-out"]=rb.Hs;var F={aG:34,bG:21,cG:new L(21,32),cP:new L(10,32),bP:new L(24,36),aP:new L(12,36),ZF:new L(13,1),qa:z.ma+"images/",g3:"http://api0.map.bdimg.com/images/",$F:z.ma+"images/markers_new.png",ZO:24,$O:73,gC:{"北京":{my:"bj",m:new H(116.403874,39.914889)},"上海":{my:"sh",m:new H(121.487899,31.249162)},"深圳":{my:"sz",m:new H(114.025974,22.546054)},"广州":{my:"gz",m:new H(113.30765,23.120049)}},fontFamily:"arial,sans-serif"};x.da.Se?(x.extend(F,{EK:"url("+F.qa+"ruler.cur),crosshair",Yb:"-moz-grab",Fd:"-moz-grabbing"}),x.platform.oM&&(F.fontFamily="arial,simsun,sans-serif")):x.da.Gw||x.da.iF?x.extend(F,{EK:"url("+F.qa+"ruler.cur) 2 6,crosshair",Yb:"url("+F.qa+"openhand.cur) 8 8,default",Fd:"url("+F.qa+"closedhand.cur) 8 8,move"}):x.extend(F,{EK:"url("+F.qa+"ruler.cur),crosshair",Yb:"url("+F.qa+"openhand.cur),default",Fd:"url("+F.qa+"closedhand.cur),move"});var Gb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",M=x.lang.$y;z.DY=function(){var t=o,e=o,i=o,n=o,s=0,a=0,h=0,r=0;return{KQ:function(){s+=1,t&&(t=q,setTimeout(function(){Qa(5054,{pic:s}),t=o,s=0},1e4))},K0:function(){a+=1,e&&(e=q,setTimeout(function(){Qa(5055,{move:a}),e=o,a=0},1e4))},M0:function(){h+=1,i&&(i=q,setTimeout(function(){Qa(5056,{zoom:h}),i=o,h=0},1e4))},L0:function(t){r+=t,n&&(n=q,setTimeout(function(){Qa(5057,{tile:r}),n=o,r=0},5e3))}}}(),z.jq={oG:"#83a1ff",lq:"#808080"},void function(t,e,i){void function(t,e,i){function n(t){if(!t.Ko){for(var i=o,s=[],a=t.uZ,h=0;a&&h<a.length;h++){var r=a[h],c=z[r]=z[r]||{};if(c.Ko||c==t)s.push(c.Kc);else{if(i=q,!c.aW&&(r=(C.get("alias")||{})[r]||r+".js",!x[r])){x[r]=o;var l=e.createElement("script"),u=e.getElementsByTagName("script")[0];l.async=o,l.src=r,u.parentNode.insertBefore(l,u)}c.Ry=c.Ry||{},c.Ry[t.name]=t}}if(i){t.Ko=o,t.wK&&(t.Kc=t.wK.apply(t,s));for(var p in t.Ry)n(t.Ry[p])}}}function s(t){return(t||new Date)-b}function a(t,e,i){if(t){"string"==typeof t&&(i=e,e=t,t=w);try{t==w?(k[e]=k[e]||[],k[e].unshift(i)):t.addEventListener?t.addEventListener(e,i,q):t.attachEvent&&t.attachEvent("on"+e,i)}catch(n){}}}function h(t,e,i){if(t){"string"==typeof t&&(i=e,e=t,t=w);try{if(t==w){var n=k[e];if(n)for(var o=n.length;o--;)n[o]===i&&n.splice(o,1)}else t.removeEventListener?t.removeEventListener(e,i,q):t.detachEvent&&t.detachEvent("on"+e,i)}catch(s){}}}function r(t){var e=k[t],i=0;if(e){for(var n=[],o=arguments,s=1;s<o.length;s++)n.push(o[s]);for(s=e.length;s--;)e[s].apply(this,n)&&i++;return i}}function c(t,e){if(t&&e){var i,n=new Image(1,1),o=[],s="img_"+ +new Date;for(i in e)e[i]&&o.push(i+"="+encodeURIComponent(e[i]));w[s]=n,n.onload=n.onerror=function(){w[s]=n=n.onload=n.onerror=p,delete w[s]},n.src=t+"?"+o.join("&")}}function l(){var t=arguments,e=t[0];if(this.vK||/^(on|un|set|get|create)$/.test(e)){for(var e=d.prototype[e],i=[],n=1,o=t.length;o>n;n++)i.push(t[n]);"function"==typeof e&&e.apply(this,i)}else this.VJ.push(t)}function u(t,e){var i,n={};for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);for(i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}function d(t){this.name=t,this.Ms={protocolParameter:{postUrl:p,protocolParameter:p}},this.VJ=[],this.alog=w}function f(t){if(t=t||"default","*"==t){var e,t=[];for(e in _)t.push(_[e]);return t}return(e=_[t])||(e=_[t]=new d(t)),e}var g=i.alog;if(!g||!g.Ko){var m=e.all&&t.attachEvent,b=g&&g.xE||+new Date,y=t.s3||(+new Date).toString(36)+Math.random().toString(36).substr(2,3),v=0,x={},w=function(t){var e,i,s,a,h=arguments;if("define"==t||"require"==t){for(i=1;i<h.length;i++)switch(typeof h[i]){case"string":e=h[i];break;case"object":s=h[i];break;case"function":a=h[i]}"require"==t&&(e&&!s&&(s=[e]),e=p),e=e?e:"#"+v++,i=z[e]=z[e]||{},i.Ko||(i.name=e,i.uZ=s,i.wK=a,"define"==t&&(i.aW=o),n(i))}else"function"==typeof t?t(w):(""+t).replace(/^(?:([\w$_]+)\.)?(\w+)$/,function(t,e,i){h[0]=i,l.apply(w.OF(e),h)})},k={},_={},z={t1:{name:"alog",Ko:o,Kc:w}};d.prototype.start=d.prototype.create=function(t){if(!this.vK)for("object"==typeof t&&this.set(t),this.vK=new Date,this.Ns("create",this);t=this.VJ.shift();)l.apply(this,t)},d.prototype.send=function(t,e){var i=u({ts:s().toString(36),t:t,sid:y},this.Ms);if("object"==typeof e)i=u(i,e);else{var n=arguments;switch(t){case"pageview":n[1]&&(i.page=n[1]),n[2]&&(i.title=n[2]);break;case"event":n[1]&&(i.eventCategory=n[1]),n[2]&&(i.eventAction=n[2]),n[3]&&(i.eventLabel=n[3]),n[4]&&(i.eventValue=n[4]);break;case"timing":n[1]&&(i.timingCategory=n[1]),n[2]&&(i.timingVar=n[2]),n[3]&&(i.timingValue=n[3]),n[4]&&(i.timingLabel=n[4]);break;case"exception":n[1]&&(i.exDescription=n[1]),n[2]&&(i.exFatal=n[2]);break;default:return}}this.Ns("send",i);var o;if(n=this.Ms.protocolParameter){var a={};for(o in i)n[o]!==p&&(a[n[o]||o]=i[o]);
o=a}else o=i;c(this.Ms.postUrl,o)},d.prototype.set=function(t,e){if("string"==typeof t)"protocolParameter"==t&&(e=u({postUrl:p,protocolParameter:p},e)),this.Ms[t]=e;else if("object"==typeof t)for(var i in t)this.set(i,t[i])},d.prototype.get=function(t,e){var i=this.Ms[t];return"function"==typeof e&&e(i),i},d.prototype.Ns=function(t,e){return w.Ns(this.name+"."+t,e)},d.prototype.M=function(t,e){w.M(this.name+"."+t,e)},d.prototype.bd=function(t,e){w.bd(this.name+"."+t,e)},w.name="alog",w.eO=y,w.Ko=o,w.timestamp=s,w.bd=h,w.M=a,w.Ns=r,w.OF=f,w("init");var M=d.prototype;T(M,{start:M.start,create:M.create,send:M.send,set:M.set,get:M.get,on:M.M,un:M.bd,fire:M.Ns});var C=f();if(C.set("protocolParameter",{s1:p}),g){M=[].concat(g.ub||[],g.Zm||[]),g.ub=g.Zm=p;for(var A in w)w.hasOwnProperty(A)&&(g[A]=w[A]);for(w.ub=w.Zm={push:function(t){w.apply(w,t)}},g=0;g<M.length;g++)w.apply(w,M[g])}i.alog=w,m&&a(e,"mouseup",function(t){t=t.target||t.srcElement,1==t.nodeType&&/^ajavascript:/i.test(t.tagName+t.href)});var P=q;t.onerror=function(t,e,n,s){var a=o;return!e&&/^script error/i.test(t)&&(P?a=q:P=o),a&&i.alog("exception.send","exception",{Bt:t,wE:e,xt:n,es:s}),q},i.alog("exception.on","catch",function(t){i.alog("exception.send","exception",{Bt:t.Bt,wE:t.path,xt:t.xt,method:t.method,dL:"catch"})})}}(t,e,i),void function(t,e,i){var n="18_1";G()&&(n="18_2");var s="https://gsp0.baidu.com/5aAHeD3nKhI2p27j8IqW0jdnxx1xbK";"https:"===t.location.protocol&&(s="https://gsp0.baidu.com/5aAHeD3nKhI2p27j8IqW0jdnxx1xbK");var a=Math.random,s=s+"/tb/pms/img/st.gif",h={yh:"0.1"},r={yh:"0.1"},c={yh:"0.1"},l={yh:"0"};if(h&&h.yh&&a()<h.yh){var u,d=i.alog.OF("monkey"),h=t.screen,f=e.referrer;d.set("ver",5),d.set("pid",241),h&&d.set("px",h.width+"*"+h.height),d.set("ref",f),i.alog("monkey.on","create",function(){u=i.alog.timestamp,d.set("protocolParameter",{reports:p})}),i.alog("monkey.on","send",function(t){"pageview"==t.t&&(t.cmd="open"),t.now&&(t.ts=u(t.now).toString(36),t.now="")}),i.alog("monkey.create",{page:n,pid:"241",p:"18",dv:6,postUrl:s,reports:{refer:1}}),i.alog("monkey.send","pageview",{now:+new Date})}if(r&&r.yh&&a()<r.yh){var g=q;t.onerror=function(t,e,n,s){var a=o;return!e&&/^script error/i.test(t)&&(g?a=q:g=o),a&&i.alog("exception.send","exception",{Bt:t,wE:e,xt:n,es:s}),q},i.alog("exception.on","catch",function(t){i.alog("exception.send","exception",{Bt:t.Bt,wE:t.path,xt:t.xt,method:t.method,dL:"catch"})}),i.alog("exception.create",{postUrl:s,dv:7,page:n,pid:"170",p:"18"})}if(c&&c.yh&&a()<c.yh&&(i.alog("cus.on","time",function(t){var e,n={},s=q;if("[object Object]"===t.toString()){for(var a in t)"page"==a?n.page=t[a]:(e=parseInt(t[a]),e>0&&/^z_/.test(a)&&(s=o,n[a]=e));s&&i.alog("cus.send","time",n)}}),i.alog("cus.on","count",function(t){var e={},n=q;if("string"==typeof t&&(t=[t]),t instanceof Array)for(var s=0;s<t.length;s++)/^z_/.test(t[s])?(n=o,e[t[s]]=1):/^page:/.test(t[s])&&(e.page=t[s].substring(5));n&&i.alog("cus.send","count",e)}),i.alog("cus.create",{dv:3,postUrl:s,page:n,p:"18"})),l&&l.yh&&a()<l.yh){var m=["Moz","O","ms","Webkit"],b=["-webkit-","-moz-","-o-","-ms-"],y=function(){return"function"!=typeof e.createElement?e.createElement(arguments[0]):e.createElement.apply(e,arguments)},v=y("dpFeatureTest").style,x=function(t){return w(t,j,j)},w=function(t,e,i){var n=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+m.join(n+" ")+n).split(" ");if("string"==typeof e||"undefined"==typeof e)return k(o,e);o=(t+" "+m.join(n+" ")+n).split(" ");t:{var s,t=o;for(s in t)if(t[s]in e){if(i===q){e=t[s];break t}s=e[t[s]],e="function"==typeof s?fnBind(s,i||e):s;break t}e=q}return e},k=function(t,e){var i,n,s;for(n=t.length,i=0;n>i;i++)if(s=t[i],~(""+s).indexOf("-")&&(s=_(s)),v[s]!==j)return"pfx"==e?s:o;return q},_=function(t){return t.replace(/([a-z])-([a-z])/g,function(t,e,i){return e+i.toUpperCase()}).replace(/^-/,"")},z=function(t,e,i){return 0===t.indexOf("@")?atRule(t):(-1!=t.indexOf("-")&&(t=_(t)),e?w(t,e,i):w(t,"pfx"))},M=function(){var t=y("canvas");return!(!t.getContext||!t.getContext("2d"))},C=function(){var t=y("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t},A=function(){try{return localStorage.setItem("localStorage","localStorage"),localStorage.removeItem("localStorage"),o}catch(t){return q}},T=function(){return"content"in e.createElement("template")},P=function(){return"createShadowRoot"in e.createElement("a")},I=function(){return"registerElement"in e},S=function(){return"import"in e.createElement("link")},E=function(){return"getItems"in e},L=function(){return"EventSource"in window},O=function(t,e){var i=new Image;i.onload=function(){e(t,i.width>0&&i.height>0)},i.onerror=function(){e(t,q)},i.src="data:image/webp;base64,"+{v3:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",u3:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",jk:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}[t]},B=function(t,e){return we.ii["WebP-"+t]=e},N=function(){return"openDatabase"in t},D=function(){return"performance"in t&&"timing"in t.performance},R=function(){return"performance"in t&&"mark"in t.performance},U=function(){return!!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)},F=function(){return"Promise"in t&&"cast"in t.mq&&"resolve"in t.mq&&"reject"in t.mq&&"all"in t.mq&&"race"in t.mq&&function(){var e;return new t.mq(function(t){e=t}),"function"==typeof e}()},H=function(){var e=!!t.x0,i=t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;return!!t.A0&&e&&i},W=function(){return"geolocation"in navigator},K=function(){var e=y("canvas"),i="probablySupportsContext"in e?"probablySupportsContext":"supportsContext";return i in e?e[i]("webgl")||e[i]("experimental-webgl"):"WebGLRenderingContext"in t},V=function(){return!!e.createElementNS&&!!e.createElementNS("http://www.w3.org/2000/svg","svg").L1},Y=function(){return!!t.H0},X=function(){return"WebSocket"in t&&2===t.E0.u0},Z=function(){return!!e.createElement("video").canPlayType},Q=function(){return!!e.createElement("audio").canPlayType},J=function(){return!!(t.history&&"pushState"in t.history)},$=function(){return!(!t.v0||!t.w0)},te=function(){return"postMessage"in window},ee=function(){return!!t.webkitNotifications||"Notification"in t&&"permission"in t.vP&&"requestPermission"in t.vP},ie=function(){for(var e=["webkit","moz","o","ms"],i=t.requestAnimationFrame,n=0;n<e.length&&!i;++n)i=t[e[n]+"RequestAnimationFrame"];return!!i},ne=function(){return"JSON"in t&&"parse"in JSON&&"stringify"in JSON},oe=function(){return!(!z("exitFullscreen",e,q)&&!z("cancelFullScreen",e,q))},se=function(){return!!z("Intl",t)},ae=function(){return x("flexBasis")},he=function(){return!!x("perspective")},re=function(){return x("shapeOutside")},ce=function(){var t=y("div");return t.style.cssText=b.join("filter:blur(2px); "),!!t.style.length&&(e.documentMode===j||e.documentMode>9)},le=function(){return"XMLHttpRequest"in t&&"withCredentials"in new XMLHttpRequest},ue=function(){return y("progress").max!==j},pe=function(){return y("meter").max!==j},de=function(){return"sendBeacon"in navigator},fe=function(){return x("borderRadius")},ge=function(){return x("boxShadow")},me=function(){var t=y("div").style;return t.cssText=b.join("opacity:.55;"),/^0.55$/.test(t.opacity)},be=function(){return k(["textShadow"],j)},ye=function(){return x("animationName")},ve=function(){return x("transition")},xe=function(){return-1===navigator.userAgent.indexOf("Android 2.")&&x("transform")},we={ii:{},pa:function(t,e){this.ii[t]=e.apply(this,[].slice.call(arguments,2))},Cd:function(t){t.apply(this,[].slice.call(arguments,1))},BZ:function(){this.pa("bdrs",fe),this.pa("bxsd",ge),this.pa("opat",me),this.pa("txsd",be),this.pa("anim",ye),this.pa("trsi",ve),this.pa("trfm",xe),this.pa("flex",ae),this.pa("3dtr",he),this.pa("shpe",re),this.pa("fltr",ce),this.pa("cavs",M),this.pa("dgdp",C),this.pa("locs",A),this.pa("wctem",T),this.pa("wcsdd",P),this.pa("wccse",I),this.pa("wchti",S),this.Cd(O,"lossy",B),this.Cd(O,"lossless",B),this.Cd(O,"alpha",B),this.Cd(O,"animation",B),this.pa("wsql",N),this.pa("natm",D),this.pa("ustm",R),this.pa("arra",U),this.pa("prms",F),this.pa("xhr2",H),this.pa("wbgl",K),this.pa("geol",W),this.pa("svg",V),this.pa("work",Y),this.pa("wbsk",X),this.pa("vido",Z),this.pa("audo",Q),this.pa("hsty",J),this.pa("file",$),this.pa("psmg",te),this.pa("wknf",ee),this.pa("rqaf",ie),this.pa("json",ne),this.pa("flsc",oe),this.pa("i18n",se),this.pa("cors",le),this.pa("prog",ue),this.pa("metr",pe),this.pa("becn",de),this.pa("mcrd",E),this.pa("esrc",L)}},d=i.alog.OF("feature");d.M("commit",function(){we.BZ();var t=setInterval(function(){if("WebP-lossy"in we.ii&&"WebP-lossless"in we.ii&&"WebP-alpha"in we.ii&&"WebP-animation"in we.ii){for(var e in we.ii)we.ii[e]=we.ii[e]?"y":"n";d.send("feature",we.ii),clearInterval(t)}},500)}),i.alog("feature.create",{W1:4,P3:s,page:n,ub:"18"}),i.alog("feature.fire","commit")}}(t,e,i)}(window,document,z),z.En=z.alog||s(),z.alog("cus.fire","count","z_loadscriptcount"),"https:"===location.protocol&&z.alog("cus.fire","count","z_httpscount");var Rb={map:"kbia1s",common:"4rsrfq",style:"hfbhis",tile:"y0umhw",vectordrawlib:"3ssz0e",newvectordrawlib:"p2lvtw",groundoverlay:"xwfqks",pointcollection:"saacfr",marker:"wrzsru",symbol:"4seh2g",canvablepath:"dsjcru",vmlcontext:"1bqo1l",markeranimation:"whdfzc",poly:"oiejw4",draw:"ybktik",drawbysvg:"0sqz2y",drawbyvml:"kqohvz",drawbycanvas:"tbuktf",infowindow:"u4yvli",oppc:"lna1zl",opmb:"gotjka",menu:"q2av1t",control:"is0g4e",navictrl:"amopxw",geoctrl:"5xqjhc",copyrightctrl:"yf4n5i",citylistcontrol:"jo0nop",scommon:"neuyfb",local:"fd4sue",route:"zolxug",othersearch:"kbxyon",mapclick:"3itblz",buslinesearch:"syrqge",hotspot:"to21ps",autocomplete:"5qc2ap",coordtrans:"aq3eai",coordtransutils:"ybedzx",convertor:"xcp5se",clayer:"nnbtjn",pservice:"yzjfk2",pcommon:"zxijfn",panorama:"edlb10",panoramaflash:"sokqws",vector:"l4orot"};x.Ly=function(){function t(t){return n&&!!i[e+t+"_"+Rb[t]]}var e="BMap_",i=window.localStorage,n="localStorage"in window&&i!==p&&i!==j;return{sY:n,set:function(t,o){if(n){for(var s,a=e+t+"_",h=i.length;h--;)s=i.key(h),-1<s.indexOf(a)&&i.removeItem(s);try{i.setItem(e+t+"_"+Rb[t],o)}catch(r){i.clear()}}},get:function(o){return n&&t(o)?i.getItem(e+o+"_"+Rb[o]):q},fK:t}}(),x.object.extend(I,{Fj:{pG:-1,JP:0,dq:1},rL:function(){var t="canvablepath",e=z.JU?"newvectordrawlib":"vectordrawlib";return G()&&Kb()||Jb()||(Ib()?t="vmlcontext":Kb()),{tile:[e,"style"],control:[],marker:["symbol"],symbol:["canvablepath","common"],canvablepath:"canvablepath"===t?[]:[t],vmlcontext:[],style:[],poly:["marker","drawbycanvas","drawbysvg","drawbyvml"],drawbysvg:["draw"],drawbyvml:["draw"],drawbycanvas:["draw"],infowindow:["common","marker"],menu:[],oppc:[],opmb:[],scommon:[],local:["scommon"],route:["scommon"],othersearch:["scommon"],autocomplete:["scommon"],citylistcontrol:["autocomplete"],mapclick:["scommon"],buslinesearch:["route"],hotspot:[],coordtransutils:["coordtrans"],convertor:[],clayer:["tile"],pservice:[],pcommon:["style","pservice"],panorama:["pcommon"],panoramaflash:["pcommon"]}},S3:{},iG:{$P:z.ma+"getmodules?v=2.0&t=20140707",AU:5e3},DC:q,Pd:{ul:{},Gn:[],Tv:[]},load:function(t,e,i){var n=this.ib(t);if(n.Bd==this.Fj.dq)i&&e();else{if(n.Bd==this.Fj.pG){this.lK(t),this.zN(t);var s=this;s.DC==q&&(s.DC=o,setTimeout(function(){for(var t=[],e=0,i=s.Pd.Gn.length;i>e;e++){var n=s.Pd.Gn[e],o="";ia.Ly.fK(n)?o=ia.Ly.get(n):(o="",t.push(n+"_"+Rb[n])),s.Pd.Tv.push({TM:n,KE:o})}s.DC=q,s.Pd.Gn.length=0,0==t.length?s.XK():oa(s.iG.$P+"&mod="+t.join(","))},1)),n.Bd=this.Fj.JP}n.Ru.push(e)}},lK:function(t){if(t&&this.rL()[t])for(var t=this.rL()[t],e=0;e<t.length;e++)this.lK(t[e]),this.Pd.ul[t[e]]||this.zN(t[e])},zN:function(t){for(var e=0;e<this.Pd.Gn.length;e++)if(this.Pd.Gn[e]==t)return;this.Pd.Gn.push(t)},AZ:function(a,b){var c=this.ib(a);try{eval(b)}catch(d){return}c.Bd=this.Fj.dq;for(var e=0,f=c.Ru.length;f>e;e++)c.Ru[e]();c.Ru.length=0},fK:function(t,e){var i=this;i.timeout=setTimeout(function(){i.Pd.ul[t].Bd!=i.Fj.dq?(i.remove(t),i.load(t,e)):clearTimeout(i.timeout)},i.iG.AU)},ib:function(t){return this.Pd.ul[t]||(this.Pd.ul[t]={},this.Pd.ul[t].Bd=this.Fj.pG,this.Pd.ul[t].Ru=[]),this.Pd.ul[t]},remove:function(t){delete this.ib(t)},vV:function(t,e){for(var i=this.Pd.Tv,n=o,s=0,a=i.length;a>s;s++)""==i[s].KE&&(i[s].TM==t?i[s].KE=e:n=q);n&&this.XK()},XK:function(){for(var t=this.Pd.Tv,e=0,i=t.length;i>e;e++)this.AZ(t[e].TM,t[e].KE);this.Pd.Tv.length=0}}),R.prototype.nb=function(t){return t&&t.x==this.x&&t.y==this.y},L.prototype.nb=function(t){return t&&this.width==t.width&&this.height==t.height},gb.ba=0,x.extend(gb.prototype,{ra:function(t){this.Qh==p&&(this.Qh=t.D.gc),this.Ff==p&&(this.Ff=t.D.$b)},ta:function(t){t instanceof H&&(this.Mb=t)},ha:u("Mb"),Xt:ca("Tg"),WD:u("Tg"),setUserData:ca("uJ"),getUserData:u("uJ")}),x.lang.ua(Sb,x.lang.Ca,"Control"),x.extend(Sb.prototype,{initialize:function(t){return this.C=t,this.B?(t.Va.appendChild(this.B),this.B):void 0},Ge:function(t){!this.B&&this.initialize&&Xa(this.initialize)&&(this.B=this.initialize(t)),this.k=this.k||{zg:q},this.yB(),this.Or(),this.B&&(this.B.nr=this)},yB:function(){var t=this.B;if(t){var e=t.style;e.position="absolute",e.zIndex=this.xz||"10",e.MozUserSelect="none",e.WebkitTextSizeAdjust="none",this.k.zg||x.K.Ua(t,"BMap_noprint"),G()||x.M(t,"contextmenu",na)}},remove:function(){this.C=p,this.B&&(this.B.parentNode&&this.B.parentNode.removeChild(this.B),this.B=this.B.nr=p)},Aa:function(){return this.B=xb(this.C.Va,"<div unselectable='on'></div>"),this.Qa==q&&x.K.U(this.B),this.B},Or:function(){this.qc(this.k.anchor)},qc:function(t){(this.u1||!Wa(t)||isNaN(t)||Tb>t||t>3)&&(t=this.defaultAnchor),this.k=this.k||{zg:q},this.k.za=this.k.za||this.defaultOffset;var e=this.k.anchor;if(this.k.anchor=t,this.B){var i=this.B,n=this.k.za.width,o=this.k.za.height;switch(i.style.left=i.style.top=i.style.right=i.style.bottom="auto",t){case Tb:i.style.top=o+"px",i.style.left=n+"px";break;case Ub:i.style.top=o+"px",i.style.right=n+"px";break;case Vb:i.style.bottom=o+"px",i.style.left=n+"px";break;case 3:i.style.bottom=o+"px",i.style.right=n+"px"}i=["TL","TR","BL","BR"],x.K.Tb(this.B,"anchor"+i[e]),x.K.Ua(this.B,"anchor"+i[t])}},yD:function(){return this.k.anchor},getContainer:u("B"),Xe:function(t){t instanceof L&&(this.k=this.k||{zg:q},this.k.za=new L(t.width,t.height),this.B&&this.qc(this.k.anchor))},Qf:function(){return this.k.za},Id:u("B"),show:function(){this.Qa!=o&&(this.Qa=o,this.B&&x.K.show(this.B))},U:function(){this.Qa!=q&&(this.Qa=q,this.B&&x.K.U(this.B))},isPrintable:function(){return!!this.k.zg},kh:function(){return this.B||this.C?!!this.Qa:q}});var Tb=0,Ub=1,Vb=2;x.lang.ua(hb,Sb,"NavigationControl"),x.extend(hb.prototype,{initialize:function(t){return this.C=t,this.B},kn:function(t){this.k.type=Wa(t)&&t>=0&&3>=t?t:0},ip:function(){return this.k.type},Ce:function(){var t=this;I.load("navictrl",function(){t.xf()})}}),x.lang.ua(Wb,Sb,"GeolocationControl"),x.extend(Wb.prototype,{location:function(){this.oe.push({method:"location",arguments:arguments})},getAddressComponent:da(p)}),x.lang.ua(Xb,Sb,"CopyrightControl"),x.object.extend(Xb.prototype,{initialize:function(t){return this.C=t,this.B},rw:function(t){if(t&&Wa(t.id)&&!isNaN(t.id)){var e,i={bounds:p,content:""};for(e in t)i[e]=t[e];if(t=this.sm(t.id))for(var n in i)t[n]=i[n];else this.dc.push(i)}},sm:function(t){for(var e=0,i=this.dc.length;i>e;e++)if(this.dc[e].id==t)return this.dc[e]},FD:u("dc"),bF:function(t){for(var e=0,i=this.dc.length;i>e;e++)this.dc[e].id==t&&(r=this.dc.splice(e,1),e--,i=this.dc.length)},Ce:function(){var t=this;I.load("copyrightctrl",function(){t.xf()})}}),x.lang.ua(jb,Sb,"OverviewMapControl"),x.extend(jb.prototype,{initialize:function(t){return this.C=t,this.B},qc:function(t){Sb.prototype.qc.call(this,t)},qe:function(){this.qe.lo=o,this.k.Wa=!this.k.Wa,this.B||(this.qe.lo=q)},Ae:function(t){t instanceof L||(t=new L(150,150)),t.width=0<t.width?t.width:150,t.height=0<t.height?t.height:150,this.k.size=t},Bb:function(){return this.k.size},Wa:function(){return this.k.Wa},Ce:function(){var t=this;I.load("control",function(){t.xf()})}}),x.lang.ua(Yb,Sb,"CityListControl"),x.object.extend(Yb.prototype,{initialize:function(t){return this.C=t,this.B},Ce:function(){var t=this;I.load("citylistcontrol",function(){t.xf()},o)}}),x.lang.ua(ib,Sb,"ScaleControl"),x.object.extend(ib.prototype,{initialize:function(t){return this.C=t,this.B},Lk:function(t){this.k.color=t+""},t2:function(){return this.k.color},yF:function(t){this.k.cd=this.Zh[t]&&this.Zh[t].name||this.k.cd},PX:function(){return this.k.cd},Ce:function(){var t=this;I.load("control",function(){t.xf()})}});var Zb=0;x.lang.ua(kb,Sb,"MapTypeControl"),x.object.extend(kb.prototype,{initialize:function(t){return this.C=t,this.B},My:function(t){this.C.$n=t},Ce:function(){var t=this;I.load("control",function(){t.xf()},o)}}),x.lang.ua($b,Sb,"PanoramaControl"),x.extend($b.prototype,{initialize:function(t){return this.C=t,this.B},Ce:function(){var t=this;I.load("control",function(){t.xf()})}}),x.lang.ua(cc,x.lang.Ca,"ContextMenu"),x.object.extend(cc.prototype,{ra:function(t,e){this.C=t,this.zl=e||p},remove:function(){this.C=this.zl=p},tw:function(t){if(t&&!("menuitem"!=t.Nb||""==t.Tg||0>=t.Zi)){for(var e=0,i=this.ya.length;i>e;e++)if(this.ya[e]===t)return;this.ya.push(t),this.If.push(t)}},removeItem:function(t){if(t&&"menuitem"==t.Nb){for(var e=0,i=this.ya.length;i>e;e++)this.ya[e]===t&&(this.ya[e].remove(),this.ya.splice(e,1),i--);for(e=0,i=this.If.length;i>e;e++)this.If[e]===t&&(this.If[e].remove(),this.If.splice(e,1),i--)}},SB:function(){this.ya.push({Nb:"divider",Nj:this.Ee.length}),this.Ee.push({K:p})},dF:function(t){if(this.Ee[t]){for(var e=0,i=this.ya.length;i>e;e++)this.ya[e]&&"divider"==this.ya[e].Nb&&this.ya[e].Nj==t&&(this.ya.splice(e,1),i--),this.ya[e]&&"divider"==this.ya[e].Nb&&this.ya[e].Nj>t&&this.ya[e].Nj--;this.Ee.splice(t,1)}},Id:u("B"),show:function(){this.Ph!=o&&(this.Ph=o)},U:function(){this.Ph!=q&&(this.Ph=q)},RZ:function(t){t&&(this.k.cursor=t)},getItem:function(t){return this.If[t]}});var dc=F.qa+"menu_zoom_in.png",ec=F.qa+"menu_zoom_out.png";x.lang.ua(fc,x.lang.Ca,"MenuItem"),x.object.extend(fc.prototype,{ra:function(t,e){this.C=t,this.Hh=e},remove:function(){this.C=this.Hh=p},Xt:function(t){t&&(this.Tg=t+"")},Vb:function(t){t&&(this.k.Hm=t)},Id:u("B"),enable:function(){this.Lh=o},disable:function(){this.Lh=q}}),x.object.extend(db.prototype,{xj:function(){return!this.Ol||!this.xl},nb:function(t){return t instanceof db&&!this.xj()?this.ve().nb(t.ve())&&this.of().nb(t.of()):q},ve:u("Ol"),of:u("xl"),JV:function(t){return t instanceof db&&!this.xj()&&!t.xj()?t.Le>this.Le&&t.He<this.He&&t.Xd>this.Xd&&t.Vd<this.Vd:q},Ha:function(){return this.xj()?p:new H((this.Le+this.He)/2,(this.Xd+this.Vd)/2)},kt:function(t){if(!(t instanceof db)||Math.max(t.Le,t.He)<Math.min(this.Le,this.He)||Math.min(t.Le,t.He)>Math.max(this.Le,this.He)||Math.max(t.Xd,t.Vd)<Math.min(this.Xd,this.Vd)||Math.min(t.Xd,t.Vd)>Math.max(this.Xd,this.Vd))return p;var e=Math.max(this.Le,t.Le),i=Math.min(this.He,t.He),n=Math.max(this.Xd,t.Xd),t=Math.min(this.Vd,t.Vd);return new db(new H(e,n),new H(i,t))},gs:function(t){return t instanceof H&&!this.xj()?t.lng>=this.Le&&t.lng<=this.He&&t.lat>=this.Xd&&t.lat<=this.Vd:q},extend:function(t){if(t instanceof H){var e=t.lng,t=t.lat;this.Ol||(this.Ol=new H(0,0)),this.xl||(this.xl=new H(0,0)),(!this.Le||this.Le>e)&&(this.Ol.lng=this.Le=e),(!this.He||this.He<e)&&(this.xl.lng=this.He=e),(!this.Xd||this.Xd>t)&&(this.Ol.lat=this.Xd=t),(!this.Vd||this.Vd<t)&&(this.xl.lat=this.Vd=t)}},LF:function(){return this.xj()?new H(0,0):new H(Math.abs(this.He-this.Le),Math.abs(this.Vd-this.Xd))}}),H.fM=function(t){return t&&180>=t.lng&&-180<=t.lng&&74>=t.lat&&-74<=t.lat},H.prototype.nb=function(t){return t&&this.lat==t.lat&&this.lng==t.lng},gc.prototype.lh=function(){ba("lngLatToPoint方法未实现")},gc.prototype.zj=function(){ba("pointToLngLat方法未实现")};var cb={pK:function(t,e,i){I.load("coordtransutils",function(){cb.bV(t,e,i)},o)},oK:function(t,e,i){I.load("coordtransutils",function(){cb.aV(t,e,i)},o)}};x.ua(ic,x.lang.Ca,"Convertor"),x.extend(ic.prototype,{translate:function(t,e,i,n){this.Pa.push({method:"translate",arguments:[t,e,i,n]})}}),T(ic.prototype,{translate:ic.prototype.translate}),S.prototype=new gc,x.extend(S,{mP:6370996.81,tG:[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],Eu:[75,60,45,30,15,0],sP:[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],qG:[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],y2:function(t,e){if(!t||!e)return 0;var i,n,t=this.Ab(t);return t?(i=this.Uk(t.lng),n=this.Uk(t.lat),e=this.Ab(e),e?this.Te(i,this.Uk(e.lng),n,this.Uk(e.lat)):0):0},Yo:function(t,e){return t&&e?(t.lng=this.OD(t.lng,-180,180),t.lat=this.SD(t.lat,-74,74),e.lng=this.OD(e.lng,-180,180),e.lat=this.SD(e.lat,-74,74),this.Te(this.Uk(t.lng),this.Uk(e.lng),this.Uk(t.lat),this.Uk(e.lat))):0},Ab:function(t){if(t===p||t===j)return new H(0,0);var e,i;e=new H(Math.abs(t.lng),Math.abs(t.lat));for(var n=0;n<this.tG.length;n++)if(e.lat>=this.tG[n]){i=this.sP[n];break}return t=this.qK(t,i),t=new H(t.lng.toFixed(6),t.lat.toFixed(6))},zb:function(t){if(t===p||t===j||180<t.lng||-180>t.lng||90<t.lat||-90>t.lat)return new H(0,0);var e,i;t.lng=this.OD(t.lng,-180,180),t.lat=this.SD(t.lat,-74,74),e=new H(t.lng,t.lat);for(var n=0;n<this.Eu.length;n++)if(e.lat>=this.Eu[n]){i=this.qG[n];break}if(!i)for(n=0;n<this.Eu.length;n++)if(e.lat<=-this.Eu[n]){i=this.qG[n];break}return t=this.qK(t,i),t=new H(t.lng.toFixed(2),t.lat.toFixed(2))},qK:function(t,e){if(t&&e){var i=e[0]+e[1]*Math.abs(t.lng),n=Math.abs(t.lat)/e[9],n=e[2]+e[3]*n+e[4]*n*n+e[5]*n*n*n+e[6]*n*n*n*n+e[7]*n*n*n*n*n+e[8]*n*n*n*n*n*n,i=i*(0>t.lng?-1:1),n=n*(0>t.lat?-1:1);return new H(i,n)}},Te:function(t,e,i,n){return this.mP*Math.acos(Math.sin(i)*Math.sin(n)+Math.cos(i)*Math.cos(n)*Math.cos(e-t))},Uk:function(t){return Math.PI*t/180},x4:function(t){return 180*t/Math.PI},SD:function(t,e,i){return e!=p&&(t=Math.max(t,e)),i!=p&&(t=Math.min(t,i)),t},OD:function(t,e,i){for(;t>i;)t-=i-e;for(;e>t;)t+=i-e;return t}}),x.extend(S.prototype,{Ck:function(t){return S.zb(t)},lh:function(t){return t=S.zb(t),new R(t.lng,t.lat)},oh:function(t){return S.Ab(t)},zj:function(t){return t=new H(t.x,t.y),S.Ab(t)},bc:function(t,e,i,n,o){return t?(t=this.Ck(t,o),e=this.yc(e),new R(Math.round((t.lng-i.lng)/e+n.width/2),Math.round((i.lat-t.lat)/e+n.height/2))):void 0},wb:function(t,e,i,n,o){return t?(e=this.yc(e),this.oh(new H(i.lng+e*(t.x-n.width/2),i.lat-e*(t.y-n.height/2)),o)):void 0},yc:function(t){return Math.pow(2,18-t)}}),fb.prototype=new S,x.extend(fb.prototype,{Ck:function(t,e){return this.HQ(e,S.zb(t))},oh:function(t,e){return S.Ab(this.IQ(e,t))},lngLatToPointFor3D:function(t,e){var i=this,n=S.zb(t);I.load("coordtrans",function(){var t=hc.QD(i.ej||"bj",n),t=new R(t.x,t.y);e&&e(t)},o)},pointToLngLatFor3D:function(t,e){var i=this,n=new H(t.x,t.y);I.load("coordtrans",function(){var t=hc.PD(i.ej||"bj",n),t=new H(t.lng,t.lat),t=S.Ab(t);e&&e(t)},o)},HQ:function(t,e){if(I.ib("coordtrans").Bd==I.Fj.dq){var i=hc.QD(t||"bj",e);return new H(i.x,i.y)}return I.load("coordtrans",s()),new H(0,0)},IQ:function(t,e){if(I.ib("coordtrans").Bd==I.Fj.dq){var i=hc.PD(t||"bj",e);return new H(i.lng,i.lat)}return I.load("coordtrans",s()),new H(0,0)},yc:function(t){return Math.pow(2,20-t)}}),x.lang.ua(jc,x.lang.Ca,"Overlay"),jc.Dm=function(t){return t*=1,t?-1e5*t<<1:0},x.extend(jc.prototype,{Ge:function(t){!this.V&&Xa(this.initialize)&&(this.V=this.initialize(t))&&(this.V.style.WebkitUserSelect="none"),this.draw()},initialize:function(){ba("initialize方法未实现")},draw:function(){ba("draw方法未实现")},remove:function(){this.V&&this.V.parentNode&&this.V.parentNode.removeChild(this.V),this.V=p,this.dispatchEvent(new M("onremove"))},U:function(){this.V&&x.K.U(this.V)},show:function(){this.V&&x.K.show(this.V)},kh:function(){return this.V&&"none"!=this.V.style.display&&"hidden"!=this.V.style.visibility?o:q}}),z.We(function(t){function e(t,e){var i=K("div"),n=i.style;return n.position="absolute",n.top=n.left=n.width=n.height="0",n.zIndex=e,t.appendChild(i),i}var i=t.R;i.od=t.od=e(t.platform,200),t.Wd.sD=e(i.od,800),t.Wd.GE=e(i.od,700),t.Wd.eL=e(i.od,600),t.Wd.yE=e(i.od,500),t.Wd.LM=e(i.od,400),t.Wd.MM=e(i.od,300),t.Wd.SO=e(i.od,201),t.Wd.yt=e(i.od,200)}),x.lang.ua(eb,jc,"OverlayInternal"),x.extend(eb.prototype,{initialize:function(t){return this.map=t,x.lang.Ca.call(this,this.ba),p},qx:u("map"),draw:s(),Hj:s(),remove:function(){this.map=p,x.lang.Vw(this.ba),jc.prototype.remove.call(this)},U:function(){this.Qa!==q&&(this.Qa=q)},show:function(){this.Qa!==o&&(this.Qa=o)},kh:function(){return this.V?!!this.Qa:q},La:u("V"),RN:function(t){var e,t=t||{};for(e in t)this.z[e]=t[e]},Yt:ca("zIndex"),mj:function(){this.z.mj=o},jW:function(){this.z.mj=q},xo:ca("hg"),Fp:function(){this.hg=p}}),z.We(function(t){var e=new kc;e.map=t,t.wa=e.wa,t.De=e.De,t.addEventListener("load",function(t){e.draw(t)}),t.addEventListener("moveend",function(t){e.draw(t)}),x.da.la&&8>x.da.la||"BackCompat"===document.compatMode?t.addEventListener("zoomend",function(t){setTimeout(function(){e.draw(t)},20)}):t.addEventListener("zoomend",function(t){e.draw(t)}),t.addEventListener("maptypechange",function(t){e.draw(t)}),t.addEventListener("addoverlay",function(t){if(t=t.target,t instanceof eb)e.wa[t.ba]||(e.wa[t.ba]=t);else{for(var i=q,n=0,s=e.De.length;s>n;n++)if(e.De[n]===t){i=o;break}i||e.De.push(t)}}),t.addEventListener("removeoverlay",function(t){if(t=t.target,t instanceof eb)delete e.wa[t.ba];else for(var i=0,n=e.De.length;n>i;i++)if(e.De[i]===t){e.De.splice(i,1);break}}),t.addEventListener("clearoverlays",function(){this.Wc();for(var t in e.wa)e.wa[t].z.mj&&(e.wa[t].remove(),delete e.wa[t]);t=0;for(var i=e.De.length;i>t;t++)e.De[t].enableMassClear!==q&&(e.De[t].remove(),e.De[t]=p,e.De.splice(t,1),t--,i--)}),t.addEventListener("infowindowopen",function(){var t=this.Cb;t&&(x.K.U(t.zc),x.K.U(t.cc))}),t.addEventListener("movestart",function(){this.hh()&&this.hh().ZI()}),t.addEventListener("moveend",function(){this.hh()&&this.hh().OI()})}),kc.prototype.draw=function(t){if(z.iq){var e=z.iq.Ts(this.map);"canvas"===e.Nb&&e.canvas&&e.CQ(e.canvas.getContext("2d"))}for(var i in this.wa)this.wa[i].draw(t);x.kc.Gb(this.De,function(t){t.draw()}),this.map.R.ob&&this.map.R.ob.ta(),z.iq&&e.vF()},x.lang.ua(lc,eb,"Graph"),lc.lx=function(t){var e=[];return t?(Za(t)&&x.kc.Gb(t.split(";"),function(t){t=t.split(","),e.push(new H(t[0],t[1]))}),"[object Array]"==Object.prototype.toString.apply(t)&&0<t.length&&(e=t),e):e},lc.QE=[.09,.005,1e-4,1e-5],x.extend(lc.prototype,{initialize:function(t){return this.map=t,p},draw:s(),Nr:function(t){this.gf.length=0,this.ia=lc.lx(t).slice(0),this.Eh()},ke:function(t){this.Nr(t)},Eh:function(){if(this.ia){var t=this;t.Ou=new db,x.kc.Gb(this.ia,function(e){t.Ou.extend(e)})}},te:u("ia"),jn:function(t,e){e&&this.ia[t]&&(this.gf.length=0,this.ia[t]=new H(e.lng,e.lat),this.Eh())},setStrokeColor:function(t){this.z.strokeColor=t},GX:function(){return this.z.strokeColor},Up:function(t){t>0&&(this.z.nc=t)},FL:function(){return this.z.nc},Sp:function(t){t==j||t>1||0>t||(this.z.rd=t)},HX:function(){return this.z.rd},Rt:function(t){t>1||0>t||(this.z.qg=t)},dX:function(){return this.z.qg},Tp:function(t){"solid"!=t&&"dashed"!=t||(this.z.strokeStyle=t)},EL:function(){return this.z.strokeStyle},setFillColor:function(t){this.z.fillColor=t||""},cX:function(){return this.z.fillColor},Hd:u("Ou"),remove:function(){this.map&&this.map.removeEventListener("onmousemove",this.lv),eb.prototype.remove.call(this),this.gf.length=0},mf:function(){if(!(2>this.ia.length)){this.z.mf=o;var t=this;I.load("poly",function(){t.Ul()},o)}},iW:function(){this.z.mf=q;var t=this;I.load("poly",function(){t.mk()},o)},$W:function(){return this.z.mf}}),x.lang.ua(oc,eb,"Division"),x.extend(oc.prototype,{Hj:function(){var t=this.z,e=this.content,i=['<div class="BMap_Division" style="position:absolute;'];i.push("width:"+t.width+"px;display:block;"),i.push("overflow:hidden;"),"none"!=t.borderColor&&i.push("border:"+t.Tx+"px "+t.BY+" "+t.yM+";"),i.push("opacity:"+t.opacity+"; filter:(opacity="+100*t.opacity+")"),i.push("background:"+t.background+";"),i.push('z-index:60;">'),i.push(e),i.push("</div>"),this.V=xb(this.map.Rf().GE,i.join(""))},initialize:function(t){return this.map=t,this.Hj(),this.V&&x.M(this.V,G()?"touchstart":"mousedown",function(t){ma(t)}),this.V},draw:function(){var t=this.map.Ve(this.z.point);this.z.za=new L(-Math.round(this.z.width/2)-Math.round(this.z.Tx),-Math.round(this.z.height/2)-Math.round(this.z.Tx)),this.V.style.left=t.x+this.z.za.width+"px",this.V.style.top=t.y+this.z.za.height+"px"},ha:function(){return this.z.point},Y0:function(){return this.map.bc(this.ha())},ta:function(t){this.z.point=t,this.draw()},SZ:function(t,e){this.z.width=Math.round(t),this.z.height=Math.round(e),this.V&&(this.V.style.width=this.z.width+"px",this.V.style.height=this.z.height+"px",this.draw())}}),x.extend(pc.prototype,{SN:function(t){t&&(this.imageUrl=t)},h_:function(t){t&&(this.printImageUrl=t)},Ae:function(t){t&&(this.size=new L(t.width,t.height))},qc:function(t){t&&(this.anchor=new L(t.width,t.height))},St:function(t){t&&(this.imageOffset=new L(t.width,t.height))},YZ:function(t){t&&(this.infoWindowAnchor=new L(t.width,t.height))},VZ:function(t){t&&(this.imageSize=new L(t.width,t.height))},toString:da("Icon")}),x.extend(qc.prototype,{setPath:ca("lB"),setAnchor:function(t){this.Hi=this.style.anchor=t},setRotation:function(t){this.style.rotation=t},setScale:function(t){this.style.scale=t},setStrokeWeight:function(t){this.style.nc=t},setStrokeColor:function(t){t=x.fs.rC(t,this.style.rd),this.style.strokeColor=t
},setStrokeOpacity:function(t){this.style.rd=t},setFillOpacity:function(t){this.style.qg=t},setFillColor:function(t){this.style.fillColor=t}}),x.lang.ua(sc,x.lang.Ca,"InfoWindow"),x.extend(sc.prototype,{setWidth:function(t){!t&&0!=t||isNaN(t)||0>t||(0!=t&&(220>t&&(t=220),t>730&&(t=730)),this.z.width=t)},setHeight:function(t){!t&&0!=t||isNaN(t)||0>t||(0!=t&&(60>t&&(t=60),t>650&&(t=650)),this.z.height=t)},VN:function(t){!t&&0!=t||isNaN(t)||0>t||(0!=t&&(220>t&&(t=220),t>730&&(t=730)),this.z.maxWidth=t)},Cc:function(t){this.z.title=t},getTitle:function(){return this.z.title},ad:ca("content"),uk:u("content"),Ut:function(t){this.z.HE=t+""},je:s(),Is:function(){this.z.Is=o},disableAutoPan:function(){this.z.Is=q},enableCloseOnClick:function(){this.z.eD=o},disableCloseOnClick:function(){this.z.eD=q},ah:function(){this.z.ah=o},Yw:function(){this.z.ah=q},show:function(){this.Qa=o},U:function(){this.Qa=q},close:function(){this.U()},Xx:function(){this.de=o},restore:function(){this.de=q},kh:function(){return this.Wa()},Wa:da(q),ha:function(){return this.bb&&this.bb.ha?this.bb.ha():void 0},Qf:function(){return this.z.za}}),Ka.prototype.Ob=function(t,e){if(t instanceof sc&&e instanceof H){var i=this.R;i.Om?i.Om.ta(e):(i.Om=new U(e,{icon:new pc(F.qa+"blank.gif",{width:1,height:1}),offset:new L(0,0),clickable:q}),i.Om.FR=1),this.Ka(i.Om),i.Om.Ob(t)}},Ka.prototype.Wc=function(){var t=this.R.ob||this.R.ol;t&&t.bb&&t.bb.Wc()},eb.prototype.Ob=function(t){this.map&&(this.map.Wc(),t.Qa=o,this.map.R.ol=t,t.bb=this,x.lang.Ca.call(t,t.ba))},eb.prototype.Wc=function(){this.map&&this.map.R.ol&&(this.map.R.ol.Qa=q,x.lang.Vw(this.map.R.ol.ba),this.map.R.ol=p)},x.lang.ua(tc,eb,"Label"),x.extend(tc.prototype,{ha:function(){return this.tv?this.tv.ha():this.point},ta:function(t){t instanceof H&&!this.sx()&&(this.point=this.z.position=new H(t.lng,t.lat))},ad:ca("content"),uF:function(t){t>=0&&1>=t&&(this.z.opacity=t)},Xe:function(t){t instanceof L&&(this.z.za=new L(t.width,t.height))},Qf:function(){return this.z.za},Ld:function(t){t=t||{},this.z.Xp=x.extend(this.z.Xp,t)},xi:function(t){return this.Ld(t)},Cc:function(t){this.z.title=t||""},getTitle:function(){return this.z.title},UN:function(t){this.point=this.z.position=(this.tv=t)?t.ha():p},sx:function(){return this.tv||p},uk:u("content")}),x.lang.ua(uc,eb,"GroundOverlay"),x.extend(uc.prototype,{setBounds:function(t){this.z.$a=t},getBounds:function(){return this.z.$a},setOpacity:function(t){this.z.opacity=t},getOpacity:function(){return this.z.opacity},setImageURL:function(t){this.z.np=t},getImageURL:function(){return this.z.np},setDisplayOnMinLevel:function(t){this.z.ys=t},getDisplayOnMinLevel:function(){return this.z.ys},setDisplayOnMaxLevel:function(t){this.z.xs=t},getDisplayOnMaxLevel:function(){return this.z.xs}});var vc=3,wc=4;x.lang.ua(yc,eb,"PointCollection"),x.extend(yc.prototype,{initialize:function(){this.iB&&this.iB.push({method:"initialize",arguments:arguments})},setPoints:function(){this.oe&&this.oe.push({method:"setPoints",arguments:arguments})},setStyles:function(){this.oe&&this.oe.push({method:"setStyles",arguments:arguments})},clear:function(){this.oe&&this.oe.push({method:"clear",arguments:arguments})},remove:function(){this.oe&&this.oe.push({method:"remove",arguments:arguments})}});var zc=new pc(F.qa+"marker_red_sprite.png",new L(19,25),{anchor:new L(10,25),infoWindowAnchor:new L(10,0)}),Ac=new pc(F.qa+"marker_red_sprite.png",new L(20,11),{anchor:new L(6,11),imageOffset:new L(-19,-13)});U.Ju=jc.Dm(-90)+1e6,U.mG=U.Ju+1e6,x.lang.ua(U,eb,"Marker"),x.extend(U.prototype,{Vb:function(t){(t instanceof pc||t instanceof qc)&&(this.z.uj=t)},Zo:function(){return this.z.uj},Cy:function(t){t instanceof pc&&(this.z.Ok=t)},getShadow:function(){return this.z.Ok},gn:function(t){this.z.label=t||p},MD:function(){return this.z.label},Hb:function(){this.z.Hb=o},KC:function(){this.z.Hb=q},ha:u("point"),ta:function(t){t instanceof H&&(this.point=new H(t.lng,t.lat))},yi:function(t,e){this.z.tE=!!t,t&&(this.IG=e||0)},Cc:function(t){this.z.title=t+""},getTitle:function(){return this.z.title},Xe:function(t){t instanceof L&&(this.z.za=t)},Qf:function(){return this.z.za},fn:ca("yq"),Rp:function(t){this.z.rotation=t},CL:function(){return this.z.rotation}}),x.lang.ua(Bc,lc,"Polygon"),x.extend(Bc.prototype,{ke:function(t,e){this.to=lc.lx(t).slice(0);var i=lc.lx(t).slice(0);1<i.length&&i.push(new H(i[0].lng,i[0].lat)),lc.prototype.ke.call(this,i,e)},jn:function(t,e){this.to[t]&&(this.to[t]=new H(e.lng,e.lat),this.ia[t]=new H(e.lng,e.lat),0==t&&!this.ia[0].nb(this.ia[this.ia.length-1])&&(this.ia[this.ia.length-1]=new H(e.lng,e.lat)),this.Eh())},te:function(){var t=this.to;return 0==t.length&&(t=this.ia),t}}),x.lang.ua(Cc,lc,"Polyline"),Dc.QE=[.01,1e-4,1e-5,4e-6],x.lang.ua(Dc,Bc,"Circle"),x.extend(Dc.prototype,{initialize:function(t){return this.map=t,this.ia=this.hv(this.point,this.xa),this.Eh(),p},Ha:u("point"),Wf:function(t){t&&(this.point=t)},AL:u("xa"),vf:function(t){this.xa=Math.abs(t)},hv:function(t,e){if(!t||!e||!this.map)return[];for(var i=[],n=e/6378800,o=Math.PI/180*t.lat,s=Math.PI/180*t.lng,a=0;360>a;a+=9){var h=Math.PI/180*a,r=Math.asin(Math.sin(o)*Math.cos(n)+Math.cos(o)*Math.sin(n)*Math.cos(h)),h=new H(((s-Math.atan2(Math.sin(h)*Math.sin(n)*Math.cos(o),Math.cos(n)-Math.sin(o)*Math.sin(r))+Math.PI)%(2*Math.PI)-Math.PI)*(180/Math.PI),r*(180/Math.PI));i.push(h)}return n=i[0],i.push(new H(n.lng,n.lat)),i}});var Ec={};z.We(function(t){var e=new Fc(t);e.ra(),t.eb=e}),x.extend(Fc.prototype,{ra:function(){var t=this,e=t.map;e.addEventListener("loadcode",function(){t.Ux()}),e.addEventListener("addtilelayer",function(e){t.Wg(e)}),e.addEventListener("removetilelayer",function(e){t.xh(e)}),e.addEventListener("setmaptype",function(e){t.Ag(e)}),e.addEventListener("zoomstartcode",function(e){t.Jc(e)}),e.addEventListener("setcustomstyles",function(e){t.Tt(e.target),t.Uf(o)})},Ux:function(){var t=this;if(x.da.la)try{document.execCommand("BackgroundImageCache",q,o)}catch(e){}this.loaded||t.Kx(),t.Uf(),this.loaded||(this.loaded=o,I.load("tile",function(){t.YP()}))},Kx:function(){for(var t=this.map.oa().or,e=0;e<t.length;e++){var i=new Gc;x.extend(i,t[e]),this.Nm.push(i),i.ra(this.map,this.co)}this.Tt()},On:function(t){var e=K("div");return e.style.position="absolute",e.style.overflow="visible",e.style.left=e.style.top="0",e.style.zIndex=t,e},yf:function(){this.qh--;var t=this;this.nE&&(this.map.dispatchEvent(new M("onfirsttileloaded")),this.nE=q),0==this.qh&&(this.Li&&(clearTimeout(this.Li),this.Li=p),this.Li=setTimeout(function(){0==t.qh&&(t.map.dispatchEvent(new M("ontilesloaded")),t.nE=o),t.Li=p},80))},XD:function(t,e){return"TILE-"+e.ba+"-"+t[0]+"-"+t[1]+"-"+t[2]},Hx:function(t){var e=t.Ib;e&&wb(e)&&e.parentNode.removeChild(e),delete this.vg[t.name],t.loaded||(Hc(t),t.Ib=p,t.Qm=p)},Cm:function(t,e,i){var n=this.map,s=n.oa(),a=n.Oa,h=n.mc,r=s.yc(a),c=this.pL(),l=c[0],u=c[1],d=c[2],f=c[3],g=c[4],i="undefined"!=typeof i?i:0,s=s.k.Qb,c=n.ba.replace(/^TANGRAM_/,"");for(this.Qc?this.Qc.length=0:this.Qc=[];d>l;l++)for(var m=u;f>m;m++){var b=l,y=m;this.Qc.push([b,y]),b=c+"_"+e+"_"+b+"_"+y+"_"+a,this.yK[b]=b}for(this.Qc.sort(function(t){return function(e,i){return.4*Math.abs(e[0]-t[0])+.6*Math.abs(e[1]-t[1])-(.4*Math.abs(i[0]-t[0])+.6*Math.abs(i[1]-t[1]))}}([g[0]-1,g[1]-1])),h=[Math.round(-h.lng/r),Math.round(h.lat/r)],l=-n.offsetY+n.height/2,t.style.left=-n.offsetX+n.width/2+"px",t.style.top=l+"px",this.Me?this.Me.length=0:this.Me=[],l=0,n=t.childNodes.length;n>l;l++)m=t.childNodes[l],m.kr=q,this.Me.push(m);if(l=this.Tm)for(var v in l)delete l[v];else this.Tm={};for(this.Ne?this.Ne.length=0:this.Ne=[],l=0,n=this.Qc.length;n>l;l++)for(v=this.Qc[l][0],r=this.Qc[l][1],m=0,u=this.Me.length;u>m;m++)if(d=this.Me[m],d.id==c+"_"+e+"_"+v+"_"+r+"_"+a){d.kr=o,this.Tm[d.id]=d;break}for(l=0,n=this.Me.length;n>l;l++)d=this.Me[l],d.kr||this.Ne.push(d);for(this.qn=[],m=(s+i)*this.map.D.devicePixelRatio,l=0,n=this.Qc.length;n>l;l++)v=this.Qc[l][0],r=this.Qc[l][1],f=v*s+h[0]-i/2,g=(-1-r)*s+h[1]-i/2,b=c+"_"+e+"_"+v+"_"+r+"_"+a,u=this.Tm[b],d=p,u?(d=u.style,d.left=f+"px",d.top=g+"px",u.af||this.qn.push([v,r,u])):(0<this.Ne.length?(u=this.Ne.shift(),u.getContext("2d").clearRect(-i/2,-i/2,m,m),d=u.style):(u=document.createElement("canvas"),d=u.style,d.position="absolute",d.width=s+i+"px",d.height=s+i+"px",this.Px()&&(d.WebkitTransform="scale(1.001)"),u.setAttribute("width",m),u.setAttribute("height",m),t.appendChild(u)),u.id=b,d.left=f+"px",d.top=g+"px",-1<b.indexOf("bg")&&(f="#F3F1EC",this.map.D.Co&&(f=this.map.D.Co),d.background=f?f:""),this.qn.push([v,r,u])),u.style.visibility="";for(l=0,n=this.Ne.length;n>l;l++)this.Ne[l].style.visibility="hidden";return this.qn},Px:function(){return/M040/i.test(navigator.userAgent)},pL:function(){var t=this.map,e=t.oa(),i=e.bE(t.Oa),n=t.mc,o=Math.ceil(n.lng/i),s=Math.ceil(n.lat/i),e=e.k.Qb,i=[o,s,(n.lng-o*i)/i*e,(n.lat-s*i)/i*e];return[i[0]-Math.ceil((t.width/2-i[2])/e),i[1]-Math.ceil((t.height/2-i[3])/e),i[0]+Math.ceil((t.width/2+i[2])/e),i[1]+Math.ceil((t.height/2+i[3])/e),i]},o_:function(t,e,i,n){var o=this;o.F1=e;var s=this.map.oa(),a=o.XD(t,i),h=s.k.Qb,e=[t[0]*h+e[0],(-1-t[1])*h+e[1]],r=this.vg[a];if(this.map.oa()!==Ya&&this.map.oa()!==Sa){var c=this.Bw(t[0],t[2]).offsetX;e[0]+=c,e.b1=c}r&&r.Ib?(ub(r.Ib,e),n&&(n=new R(t[0],t[1]),s=this.map.D.xe?this.map.D.xe.style:"normal",n=i.getTilesUrl(n,t[2],s),r.loaded=q,Ic(r,n)),r.loaded?this.yf():Jc(r,function(){o.yf()})):(r=this.dj[a])&&r.Ib?(i.Rb.insertBefore(r.Ib,i.Rb.lastChild),this.vg[a]=r,ub(r.Ib,e),n&&(n=new R(t[0],t[1]),s=this.map.D.xe?this.map.D.xe.style:"normal",n=i.getTilesUrl(n,t[2],s),r.loaded=q,Ic(r,n)),r.loaded?this.yf():Jc(r,function(){o.yf()})):(r=h*Math.pow(2,s.vm()-t[2]),new H(t[0]*r,t[1]*r),n=new R(t[0],t[1]),s=this.map.D.xe?this.map.D.xe.style:"normal",n=i.getTilesUrl(n,t[2],s),r=new Kc(this,n,e,t,i),Jc(r,function(){o.yf()}),r.bo(),this.vg[a]=r)},yf:function(){this.qh--;var t=this;0==this.qh&&(this.Li&&(clearTimeout(this.Li),this.Li=p),this.Li=setTimeout(function(){if(0==t.qh&&(t.map.dispatchEvent(new M("ontilesloaded")),ta)){if(qa&&ra&&sa){var e=$a(),i=t.map.Bb();setTimeout(function(){Qa(5030,{load_script_time:ra-qa,load_tiles_time:e-sa,map_width:i.width,map_height:i.height,map_size:i.width*i.height})},1e4),z.En("cus.fire","time",{z_imgfirstloaded:e-sa})}ta=q}t.Li=p},80))},XD:function(t,e){return this.map.oa()===Pa?"TILE-"+e.ba+"-"+this.map.Hw+"-"+t[0]+"-"+t[1]+"-"+t[2]:"TILE-"+e.ba+"-"+t[0]+"-"+t[1]+"-"+t[2]},Hx:function(t){var e=t.Ib;e&&(Lc(e),wb(e)&&e.parentNode.removeChild(e)),delete this.vg[t.name],t.loaded||(Lc(e),Hc(t),t.Ib=p,t.Qm=p)},Bw:function(t,e){for(var i=0,n=6*Math.pow(2,e-3),o=n/2-1,s=-n/2;t>o;)t-=n,i-=this.PA;for(;s>t;)t+=n,i+=this.PA;return i=Math.round(i/Math.pow(2,18-e)),{offsetX:i,es:t}},qV:function(t){for(var e=t.lng;e>this.kI;)e-=this.mI;for(;e<this.lI;)e+=this.mI;return t.lng=e,t},rV:function(t,e){for(var i=256*Math.pow(2,18-e),n=Math.floor(this.kI/i),s=Math.floor(this.lI/i),i=Math.floor(this.PA/i),a=[],h=0;h<t.length;h++){var r=t[h],c=r[0],r=r[1];if(c>=n){var c=c+i,l="id_"+c+"_"+r+"_"+e;t[l]||(t[l]=o,a.push([c,r]))}else s>=c&&(c-=i,l="id_"+c+"_"+r+"_"+e,t[l]||(t[l]=o,a.push([c,r])))}for(h=0;h<a.length;h++)t.push(a[h]);return t},Uf:function(t){var e=this;if(e.map.oa()==Pa)I.load("coordtrans",function(){e.map.Xb||(e.map.Xb=Pa.tk(e.map.Yg),e.map.Hw=Pa.nL(e.map.Xb)),e.oI()},o);else{if(t&&t)for(var i in this.dj)delete this.dj[i];e.oI(t)}},oI:function(t){var e=this.Nm.concat(this.Xf),i=e.length,n=this.map,s=n.oa(),a=n.mc;this.map.oa()!==Ya&&this.map.oa()!==Sa&&(a=this.qV(a));for(var h=0;i>h;h++){var r=e[h];if(r.gc&&n.Oa<r.gc)break;if(r.zw){var c=this.Rb=r.Rb;if(t){var l=c;if(l&&l.childNodes)for(var u=l.childNodes.length,d=u-1;d>=0;d--)u=l.childNodes[d],l.removeChild(u),u=p}if(this.map.Wb()){this.ld.style.display="block",c.style.display="none",this.map.dispatchEvent(new M("vectorchanged"),{isvector:o});continue}c.style.display="block",this.ld.style.display="none",this.map.dispatchEvent(new M("vectorchanged"),{isvector:q})}if(!r.bI&&!(r.rp&&!this.map.Wb()||r.mM&&this.map.Wb())){n=this.map,s=n.oa(),c=s.ep(),u=n.Oa,a=n.mc,s==Pa&&a.nb(new H(0,0))&&(a=n.mc=c.Ck(n.Oe,n.Xb));var f=s.yc(u),c=s.bE(u),l=Math.ceil(a.lng/c),g=Math.ceil(a.lat/c),m=s.k.Qb,c=[l,g,(a.lng-l*c)/c*m,(a.lat-g*c)/c*m],d=c[0]-Math.ceil((n.width/2-c[2])/m),l=c[1]-Math.ceil((n.height/2-c[3])/m),g=c[0]+Math.ceil((n.width/2+c[2])/m),b=0;s===Pa&&15==n.fa()&&(b=1),s=c[1]+Math.ceil((n.height/2+c[3])/m)+b,this.TJ=new H(a.lng,a.lat);var y,v=this.vg,m=-this.TJ.lng/f,b=this.TJ.lat/f,f=[Math.ceil(m),Math.ceil(b)],a=n.fa();for(y in v){var x=v[y],w=x.info;(w[2]!=a||w[2]==a&&(d>w[0]||g<=w[0]||l>w[1]||s<=w[1]))&&this.Hx(x)}for(v=-n.offsetX+n.width/2,x=-n.offsetY+n.height/2,r.Rb&&(r.Rb.style.left=Math.ceil(m+v)-f[0]+"px",r.Rb.style.top=Math.ceil(b+x)-f[1]+"px",r.Rb.style.WebkitTransform="translate3d(0,0,0)"),m=[],n.MB=[];g>d;d++)for(b=l;s>b;b++)m.push([d,b]),n.MB.push({x:d,y:b});for(this.map.oa()!==Ya&&this.map.oa()!==Sa&&(m=this.rV(m,u)),m.sort(function(t){return function(e,i){return.4*Math.abs(e[0]-t[0])+.6*Math.abs(e[1]-t[1])-(.4*Math.abs(i[0]-t[0])+.6*Math.abs(i[1]-t[1]))}}([c[0]-1,c[1]-1])),u=m.length,this.qh+=u,d=0;u>d;d++)this.o_([m[d][0],m[d][1],a],f,r,t)}}},Wg:function(t){var e=this,i=t.target,t=e.map.Wb();if(i instanceof bb)t&&!i.Jm&&(i.ra(this.map,this.ld),i.Jm=o);else if(i.Ch&&this.map.Wg(i.Ch),i.rp){for(t=0;t<e.Cg.length;t++)if(e.Cg[t]==i)return;I.load("vector",function(){i.ra(e.map,e.ld),e.Cg.push(i)},o)}else{for(t=0;t<e.Xf.length;t++)if(e.Xf[t]==i)return;i.ra(this.map,this.yl),e.Xf.push(i)}},xh:function(t){var t=t.target,e=this.map.Wb();if(t instanceof bb)e&&t.Jm&&(t.remove(),t.Jm=q);else{if(t.Ch&&this.map.xh(t.Ch),t.rp)for(var e=0,i=this.Cg.length;i>e;e++)t==this.Cg[e]&&this.Cg.splice(e,1);else for(e=0,i=this.Xf.length;i>e;e++)t==this.Xf[e]&&this.Xf.splice(e,1);t.remove()}},Ag:function(){for(var t=this.Nm,e=0,i=t.length;i>e;e++)t[e].remove();delete this.Rb,this.Nm=[],this.dj=this.vg={},this.Kx(),this.Uf()},Jc:function(){var t=this;t.td&&x.K.U(t.td),setTimeout(function(){t.Uf(),t.map.dispatchEvent(new M("onzoomend"))},10)},H4:s(),Tt:function(t){var e=this.map.oa();if(!this.map.Wb()&&(t?this.map.D.w_=t:t=this.map.D.w_,t))for(var i,n=p,n="2"==z.Qy?[z.url.proto+z.url.domain.main_domain_cdn.other[0]+"/"]:[z.url.proto+z.url.domain.main_domain_cdn.baidu[0]+"/",z.url.proto+z.url.domain.main_domain_cdn.baidu[1]+"/",z.url.proto+z.url.domain.main_domain_cdn.baidu[2]+"/"],s=0;i=this.Nm[s];s++)if(i.j_==o){e.k.$b=18,i.getTilesUrl=function(e,i){var o=e.x,o=this.map.eb.Bw(o,i).es,s=e.y,a=Qb("normal"),h=1;return this.map.Ix()&&(h=2),a="customimage/tile?&x="+o+"&y="+s+"&z="+i+"&udt="+a+"&scale="+h+"&ak="+pa,a=t.styleStr?a+("&styles="+encodeURIComponent(t.styleStr)):a+("&customid="+t.style),n[Math.abs(o+s)%n.length]+a};break}}}),Kc.prototype.bo=function(){this.Ib.src=0<x.da.la&&6>=x.da.la&&this.rJ?F.qa+"blank.gif":""!==this.src&&this.Ib.src==this.src?this.src+"&t = "+Date.now():this.src};var Mc=!x.da.la||8<x.da.la;Gc.yS=0,x.lang.ua(Gc,x.lang.Ca,"TileLayer"),x.extend(Gc.prototype,{ra:function(t,e){if(this.zw&&(this.zIndex=-100),this.map=t,!this.Rb){var i=K("div"),n=i.style;n.position="absolute",n.overflow="visible",n.zIndex=this.zIndex,n.left=Math.ceil(-t.offsetX+t.width/2)+"px",n.top=Math.ceil(-t.offsetY+t.height/2)+"px",e.appendChild(i),this.Rb=i}},remove:function(){this.Rb&&this.Rb.parentNode&&(this.Rb.innerHTML="",this.Rb.parentNode.removeChild(this.Rb)),delete this.Rb},vt:u("V_"),getTilesUrl:function(t,e){if(this.map.oa()!==Ya&&this.map.oa()!==Sa)var i=this.map.eb.Bw(t.x,e).es;var n="";return this.rh.tileUrlTemplate&&(n=this.rh.tileUrlTemplate.replace(/\{X\}/,i),n=n.replace(/\{Y\}/,t.y),n=n.replace(/\{Z\}/,e)),n},sm:u("LV"),oa:function(){return this.Jb||La}}),x.ua(Oc,Gc,"VectorCloudLayer"),x.ua(Pc,Gc,"VectorTrafficLayer"),x.extend(bb.prototype,{ra:function(t,e){this.C=t,this.B=e},remove:function(){this.B=this.C=p}}),Qc.prototype=new Gc,Qc.prototype.ra=function(t,e){Gc.prototype.ra.call(this,t,e),this.C=t},Qc.prototype.vt=da(o),Qc.prototype.getTilesUrl=function(t,e){var i="";this.k.predictDate?i="HistoryService?day="+(this.k.predictDate.weekday-1)+"&hour="+this.k.predictDate.hour+"&t="+(new Date).getTime()+"&":(i="TrafficTileService?time="+(new Date).getTime()+"&",i+="label=web2D&v=016&");var i=this.zU+i+"level="+e+"&x="+t.x+"&y="+t.y,n=1;return this.C.Ix()&&(n=2),(i+"&scaler="+n).replace(/-(\d+)/gi,"M$1")};var Rc=[z.url.proto+z.url.domain.TILES_YUN_HOST[0]+"/georender/gss",z.url.proto+z.url.domain.TILES_YUN_HOST[1]+"/georender/gss",z.url.proto+z.url.domain.TILES_YUN_HOST[2]+"/georender/gss",z.url.proto+z.url.domain.TILES_YUN_HOST[3]+"/georender/gss"],Sc=z.url.proto+z.url.domain.main_domain_nocdn.baidu+"/style/poi/rangestyle",Tc=100;lb.prototype=new Gc,lb.prototype.ra=function(t,e){Gc.prototype.ra.call(this,t,e),this.C=t},lb.prototype.getTilesUrl=function(t,e){var i=t.x,n=t.y,o=this.pc,i=Rc[Math.abs(i+n)%Rc.length]+"/image?grids="+i+"_"+n+"_"+e+"&q="+o.Zm+"&tags="+o.ju+"&filter="+o.filter+"&sortby="+o.Jy+"&ak="+this.pc.Vl+"&age="+o.ww+"&page_size="+o.wN+"&format="+o.E_;return o.RF||(o=(1e5*Math.random()).toFixed(0),i+="&timeStamp="+o),this.Af?i+="&geotable_id="+this.Af:this.Rn&&(i+="&databox_id="+this.Rn),i},lb.prototype.enableUseCache=function(){this.pc.RF=o},lb.prototype.disableUseCache=function(){this.pc.RF=q},lb.XT=/^point\(|\)$/gi,lb.YT=/\s+/,lb.$T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,x.extend(Uc.prototype,{getName:u("ff"),bt:function(){return this.k.F_},I2:function(){return this.k.zE},LX:function(){return this.or[0]},W2:u("or"),MX:function(){return this.k.Qb},$o:function(){return this.k.gc},vm:function(){return this.k.$b},setMaxZoom:function(t){this.k.$b=t},Bm:function(){return this.k.GF},ep:function(){return this.k.ie},z2:function(){return this.k.mD},MX:function(){return this.k.Qb},yc:function(t){return Math.pow(2,18-t)},bE:function(t){return this.yc(t)*this.k.Qb}});var Vc=[z.url.proto+z.url.domain.TILE_BASE_URLS[0]+"/it/",z.url.proto+z.url.domain.TILE_BASE_URLS[1]+"/it/",z.url.proto+z.url.domain.TILE_BASE_URLS[2]+"/it/",z.url.proto+z.url.domain.TILE_BASE_URLS[3]+"/it/",z.url.proto+z.url.domain.TILE_BASE_URLS[4]+"/it/"],Wc=[z.url.proto+z.url.domain.TILE_ONLINE_URLS[0]+"/tile/",z.url.proto+z.url.domain.TILE_ONLINE_URLS[1]+"/tile/",z.url.proto+z.url.domain.TILE_ONLINE_URLS[2]+"/tile/",z.url.proto+z.url.domain.TILE_ONLINE_URLS[3]+"/tile/",z.url.proto+z.url.domain.TILE_ONLINE_URLS[4]+"/tile/"],Xc={dark:"dl",light:"ll",normal:"pl"},Yc=new Gc;Yc.j_=o,Yc.getTilesUrl=function(t,e,i){var n=t.x,t=t.y,o=Qb("normal"),s=1,i=Xc[i];return this.map.Ix()&&(s=2),n=this.map.eb.Bw(n,e).es,(Wc[Math.abs(n+t)%Wc.length]+"?qt=tile&x="+(n+"").replace(/-/gi,"M")+"&y="+(t+"").replace(/-/gi,"M")+"&z="+e+"&styles="+i+"&scaler="+s+(6==x.da.la?"&color_dep=32&colors=50":"")+"&udt="+o).replace(/-(\d+)/gi,"M$1")};var La=new Uc("地图",Yc,{tips:"显示普通地图",maxZoom:19}),Zc=new Gc;Zc.rO=[z.url.proto+z.url.domain.TIlE_PERSPECT_URLS[0]+"/resource/mappic/",z.url.proto+z.url.domain.TIlE_PERSPECT_URLS[1]+"/resource/mappic/",z.url.proto+z.url.domain.TIlE_PERSPECT_URLS[2]+"/resource/mappic/",z.url.proto+z.url.domain.TIlE_PERSPECT_URLS[3]+"/resource/mappic/"],Zc.getTilesUrl=function(t,e){var i=t.x,n=t.y,o=256*Math.pow(2,20-e),n=Math.round((9998336-o*n)/o)-1;return url=this.rO[Math.abs(i+n)%this.rO.length]+this.map.Xb+"/"+this.map.Hw+"/3/lv"+(21-e)+"/"+i+","+n+".jpg"};var Pa=new Uc("三维",Zc,{tips:"显示三维地图",minZoom:15,maxZoom:20,textColor:"white",projection:new fb});Pa.yc=function(t){return Math.pow(2,20-t)},Pa.tk=function(t){if(!t)return"";var e,i=F.gC;for(e in i)if(-1<t.search(e))return i[e].my;return""},Pa.nL=function(t){return{bj:2,gz:1,sz:14,sh:4}[t]};var $c=new Gc({zw:o});$c.getTilesUrl=function(t,e){var i=t.x,n=t.y;return(Vc[Math.abs(i+n)%Vc.length]+"u=x="+i+";y="+n+";z="+e+";v=009;type=sate&fm=46&udt="+Qb("satellite")).replace(/-(\d+)/gi,"M$1")};var Ya=new Uc("卫星",$c,{tips:"显示卫星影像",minZoom:1,maxZoom:19,textColor:"white"}),ad=new Gc({transparentPng:o});ad.getTilesUrl=function(t,e){var i=t.x,n=t.y,o=Qb("satelliteStreet");return(Wc[Math.abs(i+n)%Wc.length]+"?qt=vtile&x="+(i+"").replace(/-/gi,"M")+"&y="+(n+"").replace(/-/gi,"M")+"&z="+e+"&styles=sl"+(6==x.da.la?"&color_dep=32&colors=50":"")+"&udt="+o).replace(/-(\d+)/gi,"M$1")};var Sa=new Uc("混合",[$c,ad],{tips:"显示带有街道的卫星影像",labelText:"路网",minZoom:1,maxZoom:19,textColor:"white"}),bd=1,V={};window.r0=V,x.ua(W,x.lang.Ca),x.extend(W.prototype,{getResults:function(){return this.Fc?this.Ii:this.ja},enableAutoViewport:function(){this.k.ka.Xg=o},disableAutoViewport:function(){this.k.ka.Xg=q},hn:function(t){t&&(this.yd.src=t)},wF:function(t){this.k.fy=t||s()},setMarkersSetCallback:function(t){this.k.iN=t||s()},setPolylinesSetCallback:function(t){this.k.NE=t||s()},setInfoHtmlSetCallback:function(t){this.k.hN=t||s()},setResultsHtmlSetCallback:function(t){this.k.kN=t||s()},zm:u("Bd")});var cd={vG:z.wc,cb:function(t,e,i,n,o){this.nZ(e);var s=(1e5*Math.random()).toFixed(0);z._rd["_cbk"+s]=function(e){e.result&&e.result.error&&202===e.result.error?alert("该AK因为恶意行为已经被管理员封禁！"):(i=i||{},t&&t(e,i),delete z._rd["_cbk"+s])},n=n||"",e=i&&i.JO?Cb(e,encodeURI):Cb(e,encodeURIComponent),this.vG=i&&i.Ks?i.HN?i.HN:z.xp:z.wc,n=this.vG+n+"?"+e+"&ie=utf-8&oue=1&fromproduct=jsapi",o||(n+="&res=api"),n=n+("&callback=BMap._rd._cbk"+s)+("&ak="+pa),oa(n)},nZ:function(t){if(t.qt){var e="";switch(t.qt){case"bt":e="z_qt|bt";break;case"nav":e="z_qt|nav";break;case"walk":e="z_qt|walk";break;case"bse":e="z_qt|bse";break;case"nse":e="z_qt|nse";break;case"drag":e="z_qt|drag";break;case"s":e="z_qt|s";break;case"ext":e="z_qt|ext";break;case"gc":e="z_qt|gc";break;case"rgc":e="z_qt|rgc";break;case"bl":e="z_qt|bl";break;case"bsl":e="z_qt|bsl";break;case"con":e="z_qt|con";break;case"bd":e="z_qt|bd";break;case"nb":e="z_qt|nb";break;case"bda":e="z_qt|bda";break;case"sa":e="z_qt|sa";break;case"nba":e="z_qt|nba";break;case"dec":e="z_qt|dec"}""!==e&&z.alog("cus.fire","count",e)}}};window.D0=cd,z._rd={};var O={};window.C0=O,O.DN=function(t){return t=t.replace(/<\/?[^>]*>/g,""),t=t.replace(/[ | ]* /g," ")},O.dZ=function(t){return t.replace(/([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0|[1-9]\d*),([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0|[1-9]\d*)(,)/g,"$1,$2;")},O.eZ=function(t,e){return t.replace(RegExp("(((-?\\d+)(\\.\\d+)?),((-?\\d+)(\\.\\d+)?);)(((-?\\d+)(\\.\\d+)?),((-?\\d+)(\\.\\d+)?);){"+e+"}","ig"),"$1")};var dd=2,ed=3,id=0,jd="bt",kd="nav",ld="walk",md="bl",nd="bsl",od=14,pd=15,qd=18,rd=20,sd=31;z.I=window.Instance=x.lang.Kc,x.extend(td.prototype,{va:function(){this.ra()},ra:function(){this.xV(),this.Va.innerHTML=this.TV()},xV:function(){isNaN(parseInt(this.page))&&(this.page=1),isNaN(parseInt(this.Jd))&&(this.Jd=1),1>this.page&&(this.page=1),1>this.Jd&&(this.Jd=1),this.page>this.Jd&&(this.page=this.Jd),this.page=parseInt(this.page),this.Jd=parseInt(this.Jd)},N2:function(){location.search.match(RegExp("[?&]?"+this.UJ+"=([^&]*)[&$]?","gi")),this.page=RegExp.$1},TV:function(){var t=[],e=this.page-1,i=this.page+1;if(t.push('<p style="margin:0;padding:0;white-space:nowrap">'),!(1>e)){if(this.page>=this.Vf){var n;t.push('<span style="margin-right:3px"><a style="color:#7777cc" href="javascript:void(0)" onclick="{temp1}">首页</a></span>'.replace("{temp1}","BMap.I('"+this.ba+"').toPage(1);"))}t.push('<span style="margin-right:3px"><a style="color:#7777cc" href="javascript:void(0)" onclick="{temp2}">上一页</a></span>'.replace("{temp2}","BMap.I('"+this.ba+"').toPage("+e+");"))}if(this.page<this.Vf)n=0==this.page%this.Vf?this.page-this.Vf-1:this.page-this.page%this.Vf+1,e=n+this.Vf-1;else{n=Math.floor(this.Vf/2);var o=this.Vf%2-1,e=this.Jd>this.page+n?this.page+n:this.Jd;n=this.page-n-o}for(this.page>this.Jd-this.Vf&&this.page>=this.Vf&&(n=this.Jd-this.Vf+1,e=this.Jd),o=n;e>=o;o++)o>0&&(o==this.page?t.push('<span style="margin-right:3px">'+o+"</span>"):o>=1&&o<=this.Jd&&(n='<span><a style="color:#7777cc;margin-right:3px" href="javascript:void(0)" onclick="{temp3}">['+o+"]</a></span>",t.push(n.replace("{temp3}","BMap.I('"+this.ba+"').toPage("+o+");"))));return i>this.Jd||t.push('<span><a style="color:#7777cc" href="javascript:void(0)" onclick="{temp4}">下一页</a></span>'.replace("{temp4}","BMap.I('"+this.ba+"').toPage("+i+");")),t.push("</p>"),t.join("")},toPage:function(t){t=t?t:1,"function"==typeof this.bK&&(this.bK(t),this.page=t),this.update&&this.va()}}),x.ua(ab,W,"LocalSearch"),ab.gq=10,ab.z0=1,ab.Dn=100,ab.lG=2e3,ab.sG=1e5,x.extend(ab.prototype,{search:function(t,e){this.Pa.push({method:"search",arguments:[t,e]})},dn:function(t,e,i){this.Pa.push({method:"searchInBounds",arguments:[t,e,i]})},Mp:function(t,e,i,n){this.Pa.push({method:"searchNearby",arguments:[t,e,i,n]})},Pe:function(){delete this.Fa,delete this.Bd,delete this.ja,delete this.ga,this.kb=-1,this.sb(),this.k.ka.Ia&&(this.k.ka.Ia.innerHTML="")},Em:s(),hD:function(){this.k.ka.Ot=o},LC:function(){this.k.ka.Ot=q},Qp:function(t){this.k.Gk="number"!=typeof t||isNaN(t)?ab.gq:1>t?ab.gq:t>ab.Dn?ab.gq:t},pf:function(){return this.k.Gk},toString:da("LocalSearch")});var ud=ab.prototype;T(ud,{clearResults:ud.Pe,setPageCapacity:ud.Qp,getPageCapacity:ud.pf,gotoPage:ud.Em,searchNearby:ud.Mp,searchInBounds:ud.dn,search:ud.search,enableFirstResultSelection:ud.hD,disableFirstResultSelection:ud.LC}),x.ua(vd,W,"BaseRoute"),x.extend(vd.prototype,{Pe:s()}),wd.Dn=100,wd.oP=[0,1,0,0,0,0,0,0,2,0,0,0,1,1,1],x.ua(wd,vd,"TransitRoute"),x.extend(wd.prototype,{Wt:function(t){this.k.$c=t>=0&&4>=t?t:0},DA:function(t,e){this.Pa.push({method:"_internalSearch",arguments:[t,e]})},search:function(t,e){this.Pa.push({method:"search",arguments:[t,e]})},Qp:function(t){return"string"==typeof t&&(t=parseInt(t,10),isNaN(t))?void(this.k.Gk=wd.Dn):void(this.k.Gk="number"!=typeof t?wd.Dn:t>=1&&t<=wd.Dn?Math.round(t):wd.Dn)},toString:da("TransitRoute"),lU:function(t){return t.replace(/\(.*\)/,"")}});var xd=wd.prototype;T(xd,{_internalSearch:xd.DA}),yd.CP=" 环岛 无属性道路 主路 高速连接路 交叉点内路段 连接道路 停车场内部道路 服务区内部道路 桥 步行街 辅路 匝道 全封闭道路 未定义交通区域 POI连接路 隧道 步行道 公交专用道 提前右转道".split(" "),x.ua(yd,vd,"DWRoute"),x.extend(yd.prototype,{search:function(t,e,i){this.Pa.push({method:"search",arguments:[t,e,i]})}}),x.ua(zd,yd,"DrivingRoute"),zd.prototype.Wt=function(t){this.k.$c=t>=0&&2>=t?t:0},x.ua(Ad,yd,"WalkingRoute"),x.lang.ua(Bd,x.lang.Ca,"RouteAddr");var Cd=navigator.userAgent;/ipad|iphone|ipod|iph/i.test(Cd);var Dd=/android/i.test(Cd);x.extend(Ed.prototype,{NN:function(t,e,i){var n=this;I.load("route",function(){n.Qd(t,e,i)})}}),x.ua(Fd,x.lang.Ca,"Geocoder"),x.extend(Fd.prototype,{ym:function(t,e,i){this.Pa.push({method:"getPoint",arguments:[t,e,i]})},um:function(t,e,i){this.Pa.push({method:"getLocation",arguments:[t,e,i]})},toString:da("Geocoder")});var Gd=Fd.prototype;T(Gd,{getPoint:Gd.ym,getLocation:Gd.um}),x.extend(Geolocation.prototype,{getCurrentPosition:function(){this.oe.push({method:"getCurrentPosition",arguments:arguments})},getStatus:da(2),enableSDKLocation:function(){G()&&(this.D.bl=o)},disableSDKLocation:function(){this.D.bl=q}}),x.ua(Hd,x.lang.Ca,"LocalCity"),x.extend(Hd.prototype,{get:function(t){this.Pa.push({method:"get",arguments:[t]})},toString:da("LocalCity")}),x.ua(Id,x.lang.Ca,"Boundary"),x.extend(Id.prototype,{get:function(t,e){this.Pa.push({method:"get",arguments:[t,e]})},toString:da("Boundary")}),Jd.pv=F.qa+"iw_plus.gif",Jd.ES=F.qa+"iw_minus.gif",Jd.vU=F.qa+"stop_icon.png",x.ua(Jd,W),x.extend(Jd.prototype,{getBusList:function(t){this.Pa.push({method:"getBusList",arguments:[t]})},getBusLine:function(t){this.Pa.push({method:"getBusLine",arguments:[t]})},setGetBusListCompleteCallback:function(t){this.k.gN=t||s()},setGetBusLineCompleteCallback:function(t){this.k.fN=t||s()},setBusListHtmlSetCallback:function(t){this.k.dN=t||s()},setBusLineHtmlSetCallback:function(t){this.k.cN=t||s()},setPolylinesSetCallback:function(t){this.k.NE=t||s()}}),x.ua(Kd,W,"Autocomplete"),x.extend(Kd.prototype,{Pi:s(),show:s(),U:s(),xF:function(t){this.pc.types=t},hn:function(t){this.yd.src=t},search:ca("$i"),zy:ca("YH")});var Ta,Md=4,Nd=1,Ld=0;x.lang.ua(Na,x.lang.Ca,"Panorama"),x.extend(Na.prototype,{TP:function(){var t=this,e=this.zf=K("div");e.className="pano_close",e.style.cssText="z-index: 1201;display: none",e.title="退出全景",e.onclick=function(){t.U()},this.B.appendChild(e);var i=this.wA=K("a");i.className="pano_pc_indoor_exit",i.style.cssText="z-index: 1201;display: none",i.innerHTML='<span style="float:right;margin-right:12px;">出口</span>',i.title="退出室内景",i.onclick=function(){t.To()},this.B.appendChild(i),window.ActiveXObject&&!document.addEventListener&&(e.style.backgroundColor="rgb(37,37,37)",i.style.backgroundColor="rgb(37,37,37)")},To:s(),FT:function(t){var e,i;e=t.style,i=Va(t).position,"absolute"!=i&&"relative"!=i&&(e.position="relative",e.zIndex=0),("absolute"===i||"relative"===i)&&(t=Va(t).zIndex,t&&"auto"!==t||(e.zIndex=0))},lX:u("ao"),Zb:u("Ya"),NX:u("Yv"),bO:u("Yv"),ha:u("Mb"),Ea:u("Da"),fa:u("Jc"),fh:u("gl"),P2:function(){return this.g1||[]},K2:u("bT"),at:u("Je"),By:function(t){t!==this.Je&&(this.Je=t,this.dispatchEvent(new M("onscene_type_changed")))},rc:function(t,e,i){"object"==typeof e&&(i=e,e=j),t!=this.Ya&&(this.rl=this.Ya,this.sl=this.Mb,this.Ya=t,this.Je=e||"street",this.Mb=p,i&&i.pov&&this.Mc(i.pov))},ta:function(t){t.nb(this.Mb)||(this.rl=this.Ya,this.sl=this.Mb,this.Mb=t,this.Ya=p)},Mc:function(t){t&&(this.Da=t,t=this.Da.pitch,t>this.Vj?t=this.Vj:t<this.Xj&&(t=this.Xj),this.Dr=o,this.Da.pitch=t)},e_:function(t,e){this.Xj=t>=0?0:t,this.Vj=0>=e?0:e},Nc:function(t){t!=this.Jc&&(t>Md&&(t=Md),Nd>t&&(t=Nd),t!=this.Jc&&(this.Jc=t),"cssRender"===this.ck&&this.Mc(this.Da))},wB:function(){if(this.C)for(var t=this.C.wx(),e=0;e<t.length;e++)(t[e]instanceof U||t[e]instanceof tc)&&t[e].point&&this.wa.push(t[e])},tF:ca("C"),Vt:function(t){this.Mf=t||"none"},Mk:function(t){for(var e in t){if("object"==typeof t[e])for(var i in t[e])this.k[e][i]=t[e][i];else this.k[e]=t[e];switch(t.closeControl===o&&(this.k.forceCloseControl=o),t.closeControl===q&&(this.k.forceCloseControl=q),e){case"linksControl":this.dispatchEvent(new M("onlinks_visible_changed"));break;case"clickOnRoad":this.dispatchEvent(new M("onclickonroad_changed"));break;case"navigationControl":this.dispatchEvent(new M("onnavigation_visible_changed"));break;case"indoorSceneSwitchControl":this.dispatchEvent(new M("onindoor_default_switch_mode_changed"));break;case"albumsControl":this.dispatchEvent(new M("onalbums_visible_changed"));break;case"albumsControlOptions":this.dispatchEvent(new M("onalbums_options_changed"));break;case"copyrightControlOptions":this.dispatchEvent(new M("oncopyright_options_changed"));break;case"closeControl":this.dispatchEvent(new M("onclose_options_changed"));break;case"indoorExitControl":this.dispatchEvent(new M("onindoorexit_options_changed"));break;case"indoorFloorControl":this.dispatchEvent(new M("onindoorfloor_options_changed"))}}},Ak:function(){this.Al.style.visibility="hidden"},Fy:function(){this.Al.style.visibility="visible"},zW:function(){this.k.enableScrollWheelZoom=o},kW:function(){this.k.enableScrollWheelZoom=q},show:function(){this.k.visible=o},U:function(){this.k.visible=q},er:function(){return Ua()&&!G()&&"javascript"!==this.k.panoramaRenderer?"flashRender":!G()&&Kb()?"cvsRender":"cssRender"},Ka:function(t){this.Ie[t.hd]=t},Ub:function(t){delete this.Ie[t]},$D:function(){return this.k.visible},eh:function(){return new L(this.B.clientWidth,this.B.clientHeight)},La:u("B"),jL:function(){var t=z.sg("baidumap","?"),e=this.Zb();if(e){var i,e={panotype:this.at(),heading:this.Ea().heading,pitch:this.Ea().pitch,pid:e,panoid:e,from:"api"};for(i in e)t+=i+"="+e[i]+"&"}return t.slice(0,-1)},Fx:function(){this.Mk({copyrightControlOptions:{logoVisible:q}})},AF:function(){this.Mk({copyrightControlOptions:{logoVisible:o}})},RB:function(t){function e(t,e){return function(){t.zr.push({QM:e,PM:arguments})}}for(var i=t.getPanoMethodList(),n="",o=0,s=i.length;s>o;o++)n=i[o],this[n]=e(this,n);this.Pg.push(t)},cF:function(t){for(var e=this.Pg.length;e--;)this.Pg[e]===t&&this.Pg.splice(e,1)
},sF:s()});var Od=Na.prototype;T(Od,{setId:Od.rc,setPosition:Od.ta,setPov:Od.Mc,setZoom:Od.Nc,setOptions:Od.Mk,getId:Od.Zb,getPosition:Od.ha,getPov:Od.Ea,getZoom:Od.fa,getLinks:Od.lX,getBaiduMapUrl:Od.jL,hideMapLogo:Od.Fx,showMapLogo:Od.AF,enableDoubleClickZoom:Od.e2,disableDoubleClickZoom:Od.S1,enableScrollWheelZoom:Od.zW,disableScrollWheelZoom:Od.kW,show:Od.show,hide:Od.U,addPlugin:Od.RB,removePlugin:Od.cF,getVisible:Od.$D,addOverlay:Od.Ka,removeOverlay:Od.Ub,getSceneType:Od.at,setPanoramaPOIType:Od.Vt,exitInter:Od.To,setInteractiveState:Od.sF}),T(window,{BMAP_PANORAMA_POI_HOTEL:"hotel",BMAP_PANORAMA_POI_CATERING:"catering",BMAP_PANORAMA_POI_MOVIE:"movie",BMAP_PANORAMA_POI_TRANSIT:"transit",BMAP_PANORAMA_POI_INDOOR_SCENE:"indoor_scene",BMAP_PANORAMA_POI_NONE:"none",BMAP_PANORAMA_INDOOR_SCENE:"inter",BMAP_PANORAMA_STREET_SCENE:"street"}),x.lang.ua(Pd,x.lang.Ca,"PanoramaOverlayBase"),x.extend(Pd.prototype,{L2:u("hd"),ra:function(){ba("initialize方法未实现")},remove:function(){ba("remove方法未实现")},Lf:function(){ba("_setOverlayProperty方法未实现")}}),x.lang.ua(Qd,Pd,"PanoramaLabel"),x.extend(Qd.prototype,{q2:u("borderWidth"),getImageData:u("bY"),Bm:u("GF"),E2:u("TL"),m2:u("backgroundColor"),n2:u("WJ"),o2:u("borderColor"),p2:u("$J"),B2:u("fontSize"),M2:u("padding"),F2:u("fE"),Bb:u("size"),mx:u("we"),ta:function(t){this.Mb=t,this.Lf("position",t)},ha:u("Mb"),ad:function(t){this.Lj=t,this.Lf("content",t)},uk:u("Lj"),nF:function(t){this.xq=t,this.Lf("altitude",t)},Wo:u("xq"),Ea:function(){var t=this.ha(),e=p,i=p;if(this.P&&(i=this.P.ha()),t&&i)if(t.nb(i))e=this.P.Ea();else{e={},e.heading=Rd(t.lng-i.lng,t.lat-i.lat)||0;var t=e,i=this.Wo(),n=this.Wn();t.pitch=Math.round(180*(Math.atan(i/n)/Math.PI))||0}return e},Wn:function(){var t,e,i=0;return this.P&&(t=this.P.ha(),(e=this.ha())&&!e.nb(t)&&(i=S.Yo(t,e))),i},U:function(){ba("hide方法未实现")},show:function(){ba("show方法未实现")},Lf:s()});var Sd=Qd.prototype;T(Sd,{setPosition:Sd.ta,getPosition:Sd.ha,setContent:Sd.ad,getContent:Sd.uk,setAltitude:Sd.nF,getAltitude:Sd.Wo,getPov:Sd.Ea,show:Sd.show,hide:Sd.U}),x.lang.ua(Td,Pd,"PanoramaMarker"),x.extend(Td.prototype,{ta:function(t){this.Mb=t,this.Lf("position",t)},ha:u("Mb"),Cc:function(t){this.pJ=t,this.Lf("title",t)},gp:u("pJ"),Vb:function(t){this.TH=icon,this.Lf("icon",t)},Zo:u("TH"),nF:function(t){this.xq=t,this.Lf("altitude",t)},Wo:u("xq"),RD:u("sT"),Ea:function(){var t=p;if(this.P){var t=this.P.ha(),e=this.ha(),t=Rd(e.lng-t.lng,e.lat-t.lat);isNaN(t)&&(t=0),t={heading:t,pitch:0}}else t=this.Da;return t},Lf:s()});var Ud=Td.prototype;T(Ud,{setPosition:Ud.ta,getPosition:Ud.ha,setTitle:Ud.Cc,getTitle:Ud.gp,setAltitude:Ud.nF,getAltitude:Ud.Wo,getPanoInfo:Ud.RD,getIcon:Ud.Zo,setIcon:Ud.Vb,getPov:Ud.Ea});var Vd,Xd;z.Vm(function(t){"flashRender"!==t.er()&&new bc(t,{Pf:"api"})}),x.extend(bc.prototype,{ca:function(){function t(t){if(t){if(t.id!=e.Yv){e.bO(t.id),e.ea=t,Wd()||e.dispatchEvent(new M("onthumbnail_complete")),e.Ya!=p&&(e.sl=e._position);for(var i in t)if(t.hasOwnProperty(i))switch(e["_"+i]=t[i],i){case"position":e.Mb=t[i];break;case"id":e.Ya=t[i];break;case"links":e.ao=t[i];break;case"zoom":e.Jc=t[i]}if(e.sl){var n=e.sl,o=e._position;i=n.lat;var s=o.lat,a=Nb(s-i),n=Nb(o.lng-n.lng);i=Math.sin(a/2)*Math.sin(a/2)+Math.cos(Nb(i))*Math.cos(Nb(s))*Math.sin(n/2)*Math.sin(n/2),e.hH=12742e3*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))}i=new M("ondataload"),i.data=t,e.dispatchEvent(i),e.dispatchEvent(new M("onposition_changed")),e.dispatchEvent(new M("onlinks_changed")),e.dispatchEvent(new M("oncopyright_changed"),{copyright:t.copyright}),t.cm&&e.k.closeControl?x.K.show(e.AR):x.K.U(e.AR)}}else e.Ya=e.rl,e.Mb=e.sl,e.dispatchEvent(new M("onnoresult"))}var e=this.P,i=this;e.addEventListener("id_changed",function(){i.cp(e.Zb(),t)}),e.addEventListener("iid_changed",function(){i.Qg(bc.cl+"qt=idata&iid="+e.sA+"&fn=",function(e){if(e&&e.result&&0==e.result.error){var e=e.content[0].interinfo,n={};n.cm=e.BreakID;for(var o=e.Defaultfloor,s=p,a=0;a<e.Floors.length;a++)if(e.Floors[a].Floor==o){s=e.Floors[a];break}n.id=s.StartID||s.Points[0].PID,i.cp(n.id,t,n)}})}),e.addEventListener("position_changed_inner",function(){i.pj(e.ha(),t)})},cp:function(){this.vd.getPanoramaById.push(arguments)},pj:function(){this.vd.getPanoramaByLocation.push(arguments)},aE:function(){this.vd.getVisiblePOIs.push(arguments)},zx:function(){this.vd.getRecommendPanosById.push(arguments)},yx:function(){this.vd.getPanoramaVersions.push(arguments)},eC:function(){this.vd.checkPanoSupportByCityCode.push(arguments)},xx:function(){this.vd.getPanoramaByPOIId.push(arguments)},oL:function(){this.vd.getCopyrightProviders.push(arguments)}});var Yd=bc.prototype;T(Yd,{getPanoramaById:Yd.cp,getPanoramaByLocation:Yd.pj,getPanoramaByPOIId:Yd.xx}),ac.zG=z.sg("pano","tile/"),ac.prototype=new Gc,ac.prototype.getTilesUrl=function(t,e){var i=ac.zG[(t.x+t.y)%ac.zG.length]+"?udt=20150114&qt=tile&styles=pl&x="+t.x+"&y="+t.y+"&z="+e;return x.da.la&&6>=x.da.la&&(i+="&color_dep=32"),i},ac.prototype.vt=da(o),Zd.Ud=new S,x.extend(Zd,{lW:function(t,e,i){i=x.lang.Kc(i),e={data:e},"position_changed"==t&&(e.data=Zd.Ud.zj(new R(e.data.mercatorX,e.data.mercatorY))),i.dispatchEvent(new M("on"+t),e)}});var $d=Zd;T($d,{dispatchFlashEvent:$d.lW});var ae={qP:50};ae.Hu=z.sg("pano")[0],ae.Du={width:220,height:60},x.extend(ae,{op:function(t,e,i,n){if(e&&i&&i.lngLat&&i.panoInstance){this.io===j&&(this.io=new bc(p,{Pf:"api"}));var o=this;this.io.eC(e,function(e){e?o.io.pj(i.lngLat,ae.qP,function(e){if(e&&e.id){var s=e.id,a=e.th,e=e.uh,h=bc.Ud.lh(i.lngLat),r=o.fS(h,{x:a,y:e}),a=o.yL(s,r,0,ae.Du.width,ae.Du.height);t.content=o.gS(t.content,a,i.titleTip,i.beforeDomId),t.addEventListener("open",function(){ia.M(x.Dc("infoWndPano"),"click",function(){i.panoInstance.rc(s),i.panoInstance.show(),i.panoInstance.Mc({heading:r,pitch:0})})})}n()}):n()})}else n()},gS:function(t,e,i,n){var o,i=i||"";n&&t.split(n)[0]?(n=t.split(n)[0],o=n.lastIndexOf("<"),n=t.substring(0,o),t=t.substring(o)):(n=t,t=""),o=[];var s=ae.Du.width,a=ae.Du.height;return o.push(n),o.push("<div id='infoWndPano' class='panoInfoBox' style='height:"+a+"px;width:"+s+"px; margin-top: -19px;'>"),o.push("<img class='pano_thumnail_img' width='"+s+"' height='"+a+"' border='0' alt='"+i+"外景' title='"+i+"外景' src='"+e+"' onerror='Pano.PanoEntranceUtil.thumbnailNotFound(this, "+s+", "+a+");' />"),o.push("<div class='panoInfoBoxTitleBg' style='width:"+s+"px;'></div><a href='javascript:void(0)' class='panoInfoBoxTitleContent' >进入全景&gt;&gt;</a>"),o.push("</div>"),o.push(t),o.join("")},fS:function(t,e){var i=90-180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI;return 0>i&&(i+=360),i},yL:function(t,e,i,n,o){var s={panoId:t,panoHeading:e||0,panoPitch:i||0,width:n,height:o};return(ae.Hu+"?qt=pr3d&fovy=75&quality=80&panoid={panoId}&heading={panoHeading}&pitch={panoPitch}&width={width}&height={height}").replace(/\{(.*?)\}/g,function(t,e){return s[e]})}});var be=document,ce=Math,de=be.createElement("div").style,ee;t:{for(var fe=["t","webkitT","MozT","msT","OT"],ge,he=0,ie=fe.length;ie>he;he++)if(ge=fe[he]+"ransform",ge in de){ee=fe[he].substr(0,fe[he].length-1);break t}ee=q}var je=ee?"-"+ee.toLowerCase()+"-":"",le=ke("transform"),ne=ke("transitionProperty"),oe=ke("transitionDuration"),pe=ke("transformOrigin"),ve=ke("transitionTimingFunction"),we=ke("transitionDelay"),Dd=/android/gi.test(navigator.appVersion),xe=/iphone|ipad/gi.test(navigator.appVersion),ye=/hp-tablet/gi.test(navigator.appVersion),ze=ke("perspective")in de,Ae="ontouchstart"in window&&!ye,Be=ee!==q,Ce=ke("transition")in de,De="onorientationchange"in window?"orientationchange":"resize",Ee=Ae?"touchstart":"mousedown",Fe=Ae?"touchmove":"mousemove",Ge=Ae?"touchend":"mouseup",He=Ae?"touchcancel":"mouseup",Ie=ee===q?q:{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[ee],Je=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1)},Ke=window.cancelRequestAnimationFrame||window.O4||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,Le=ze?" translateZ(0)":"";Me.prototype={enabled:o,x:0,y:0,Aj:[],scale:1,yC:0,zC:0,Ue:[],uf:[],WB:p,Sy:0,handleEvent:function(t){switch(t.type){case Ee:if(!Ae&&0!==t.button)break;this.Rv(t);break;case Fe:this.dT(t);break;case Ge:case He:this.cv(t);break;case De:this.pB();break;case"DOMMouseScroll":case"mousewheel":this.HU(t);break;case Ie:this.DU(t);break;case"click":this.FQ(t)}},uQ:function(){!this.ph&&!this.Yk&&!(this.Yl||this.yy==this.Pb.offsetWidth*this.scale&&this.Lp==this.Pb.offsetHeight*this.scale)&&this.refresh()},Iv:function(t){var e;this[t+"Scrollbar"]?(this[t+"ScrollbarWrapper"]||(e=be.createElement("div"),this.options.kF?e.className=this.options.kF+t.toUpperCase():e.style.cssText="position:absolute;z-index:100;"+("h"==t?"height:7px;bottom:1px;left:2px;right:"+(this.Bi?"7":"2")+"px":"width:7px;bottom:"+(this.mi?"7":"2")+"px;top:2px;right:1px"),e.style.cssText+=";pointer-events:none;"+je+"transition-property:opacity;"+je+"transition-duration:"+(this.options.GW?"350ms":"0")+";overflow:hidden;opacity:"+(this.options.Gx?"0":"1"),this.yn.appendChild(e),this[t+"ScrollbarWrapper"]=e,e=be.createElement("div"),this.options.kF||(e.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+je+"background-clip:padding-box;"+je+"box-sizing:border-box;"+("h"==t?"height:100%":"width:100%")+";"+je+"border-radius:3px;border-radius:3px"),e.style.cssText+=";pointer-events:none;"+je+"transition-property:"+je+"transform;"+je+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+je+"transition-duration:0;"+je+"transform: translate(0,0)"+Le,this.options.Ai&&(e.style.cssText+=";"+je+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),this[t+"ScrollbarWrapper"].appendChild(e),this[t+"ScrollbarIndicator"]=e),"h"==t?(this.OL=this.PL.clientWidth,this.VX=ce.max(ce.round(this.OL*this.OL/this.yy),8),this.UX.style.width=this.VX+"px"):(this.NO=this.OO.clientHeight,this.c0=ce.max(ce.round(this.NO*this.NO/this.Lp),8),this.b0.style.height=this.c0+"px"),this.qB(t,o)):this[t+"ScrollbarWrapper"]&&(Be&&(this[t+"ScrollbarIndicator"].style[le]=""),this[t+"ScrollbarWrapper"].parentNode.removeChild(this[t+"ScrollbarWrapper"]),this[t+"ScrollbarWrapper"]=p,this[t+"ScrollbarIndicator"]=p)},pB:function(){var t=this;setTimeout(function(){t.refresh()},Dd?200:0)},Cr:function(t,e){this.Yk||(t=this.kp?t:0,e=this.wn?e:0,this.options.Vk?this.Pb.style[le]="translate("+t+"px,"+e+"px) scale("+this.scale+")"+Le:(t=ce.round(t),e=ce.round(e),this.Pb.style.left=t+"px",this.Pb.style.top=e+"px"),this.x=t,this.y=e,this.qB("h"),this.qB("v"))},qB:function(t,e){var i="h"==t?this.x:this.y;this[t+"Scrollbar"]&&(i*=this[t+"ScrollbarProp"],0>i?(this.options.rD||(i=this[t+"ScrollbarIndicatorSize"]+ce.round(3*i),8>i&&(i=8),this[t+"ScrollbarIndicator"].style["h"==t?"width":"height"]=i+"px"),i=0):i>this[t+"ScrollbarMaxScroll"]&&(this.options.rD?i=this[t+"ScrollbarMaxScroll"]:(i=this[t+"ScrollbarIndicatorSize"]-ce.round(3*(i-this[t+"ScrollbarMaxScroll"])),8>i&&(i=8),this[t+"ScrollbarIndicator"].style["h"==t?"width":"height"]=i+"px",i=this[t+"ScrollbarMaxScroll"]+(this[t+"ScrollbarIndicatorSize"]-i))),this[t+"ScrollbarWrapper"].style[we]="0",this[t+"ScrollbarWrapper"].style.opacity=e&&this.options.Gx?"0":"1",this[t+"ScrollbarIndicator"].style[le]="translate("+("h"==t?i+"px,0)":"0,"+i+"px)")+Le)},FQ:function(t){if(t.BR===o)return this.OB=t.target,this.fx=Date.now(),o;if(this.OB&&this.fx){if(600<Date.now()-this.fx)return this.fx=this.OB=p,o}else{for(var e=t.target;e!=this.Pb&&e!=document.body;)e=e.parentNode;if(e==document.body)return o}for(e=t.target;1!=e.nodeType;)e=e.parentNode;return e=e.tagName.toLowerCase(),"select"!=e&&"input"!=e&&"textarea"!=e?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.mZ=o,t.stopPropagation(),t.preventDefault(),this.fx=this.OB=p,q):void 0},Rv:function(t){var e,i,n=Ae?t.touches[0]:t;this.enabled&&(this.options.bN&&this.options.bN.call(this,t),(this.options.Ai||this.options.zoom)&&this.qJ(0),this.Yk=this.Yl=this.ph=q,this.IC=this.HC=this.kw=this.jw=this.OC=this.NC=0,this.options.zoom&&Ae&&1<t.touches.length&&(i=ce.abs(t.touches[0].pageX-t.touches[1].pageX),e=ce.abs(t.touches[0].pageY-t.touches[1].pageY),this.K_=ce.sqrt(i*i+e*e),this.gy=ce.abs(t.touches[0].pageX+t.touches[1].pageX-2*this.VF)/2-this.x,this.hy=ce.abs(t.touches[0].pageY+t.touches[1].pageY-2*this.WF)/2-this.y,this.options.Bp&&this.options.Bp.call(this,t)),this.options.Yx&&(this.options.Vk?(e=getComputedStyle(this.Pb,p)[le].replace(/[^0-9\-.,]/g,"").split(","),i=+(e[12]||e[4]),e=+(e[13]||e[5])):(i=+getComputedStyle(this.Pb,p).left.replace(/[^0-9-]/g,""),e=+getComputedStyle(this.Pb,p).top.replace(/[^0-9-]/g,"")),i!=this.x||e!=this.y)&&(this.options.Ai?this.Yd(Ie):Ke(this.WB),this.Aj=[],this.Cr(i,e),this.options.ey&&this.options.ey.call(this)),this.lw=this.x,this.mw=this.y,this.gu=this.x,this.hu=this.y,this.th=n.pageX,this.uh=n.pageY,this.startTime=t.timeStamp||Date.now(),this.options.mN&&this.options.mN.call(this,t),this.ca(Fe,window),this.ca(Ge,window),this.ca(He,window))},dT:function(t){var e=Ae?t.touches[0]:t,i=e.pageX-this.th,n=e.pageY-this.uh,s=this.x+i,a=this.y+n,h=t.timeStamp||Date.now();this.options.aN&&this.options.aN.call(this,t),this.options.zoom&&Ae&&1<t.touches.length?(s=ce.abs(t.touches[0].pageX-t.touches[1].pageX),a=ce.abs(t.touches[0].pageY-t.touches[1].pageY),this.J_=ce.sqrt(s*s+a*a),this.Yk=o,e=1/this.K_*this.J_*this.scale,e<this.options.Xk?e=.5*this.options.Xk*Math.pow(2,e/this.options.Xk):e>this.options.bq&&(e=2*this.options.bq*Math.pow(.5,this.options.bq/e)),this.vp=e/this.scale,s=this.gy-this.gy*this.vp+this.x,a=this.hy-this.hy*this.vp+this.y,this.Pb.style[le]="translate("+s+"px,"+a+"px) scale("+e+")"+Le,this.options.oN&&this.options.oN.call(this,t)):(this.th=e.pageX,this.uh=e.pageY,(s>0||s<this.he)&&(s=this.options.Eo?this.x+i/2:s>=0||0<=this.he?0:this.he),(a>this.rf||a<this.nd)&&(a=this.options.Eo?this.y+n/2:a>=this.rf||0<=this.nd?this.rf:this.nd),this.NC+=i,this.OC+=n,this.jw=ce.abs(this.NC),this.kw=ce.abs(this.OC),6>this.jw&&6>this.kw||(this.options.DE&&(this.jw>this.kw+5?(a=this.y,n=0):this.kw>this.jw+5&&(s=this.x,i=0)),this.ph=o,this.Cr(s,a),this.HC=i>0?-1:0>i?1:0,this.IC=n>0?-1:0>n?1:0,300<h-this.startTime&&(this.startTime=h,this.gu=this.x,this.hu=this.y),this.options.lN&&this.options.lN.call(this,t)))},cv:function(t){if(!Ae||0===t.touches.length){var e,i,n=this,s=Ae?t.changedTouches[0]:t,a={Ba:0,time:0},h={Ba:0,time:0},r=(t.timeStamp||Date.now())-n.startTime;if(e=n.x,i=n.y,n.Yd(Fe,window),n.Yd(Ge,window),n.Yd(He,window),n.options.$M&&n.options.$M.call(n,t),n.Yk)e=n.scale*n.vp,e=Math.max(n.options.Xk,e),e=Math.min(n.options.bq,e),n.vp=e/n.scale,n.scale=e,n.x=n.gy-n.gy*n.vp+n.x,n.y=n.hy-n.hy*n.vp+n.y,n.Pb.style[oe]="200ms",n.Pb.style[le]="translate("+n.x+"px,"+n.y+"px) scale("+n.scale+")"+Le,n.Yk=q,n.refresh(),n.options.Ap&&n.options.Ap.call(n,t);else{if(n.ph)300>r&&n.options.Yx&&(a=e?n.nI(e-n.gu,r,-n.x,n.yy-n.vu+n.x,n.options.Eo?n.vu:0):a,h=i?n.nI(i-n.hu,r,-n.y,0>n.nd?n.Lp-n.zn+n.y-n.rf:0,n.options.Eo?n.zn:0):h,e=n.x+a.Ba,i=n.y+h.Ba,(0<n.x&&e>0||n.x<n.he&&e<n.he)&&(a={Ba:0,time:0}),(n.y>n.rf&&i>n.rf||n.y<n.nd&&i<n.nd)&&(h={Ba:0,time:0})),a.Ba||h.Ba?(s=ce.max(ce.max(a.time,h.time),10),n.options.du&&(a=e-n.lw,h=i-n.mw,ce.abs(a)<n.options.Iy&&ce.abs(h)<n.options.Iy?n.scrollTo(n.lw,n.mw,200):(a=n.hJ(e,i),e=a.x,i=a.y,s=ce.max(a.time,s))),n.scrollTo(ce.round(e),ce.round(i),s)):n.options.du?(a=e-n.lw,h=i-n.mw,ce.abs(a)<n.options.Iy&&ce.abs(h)<n.options.Iy?n.scrollTo(n.lw,n.mw,200):(a=n.hJ(n.x,n.y),(a.x!=n.x||a.y!=n.y)&&n.scrollTo(a.x,a.y,a.time))):n.ko(200);else{if(Ae)if(n.GK&&n.options.zoom)clearTimeout(n.GK),n.GK=p,n.options.Bp&&n.options.Bp.call(n,t),n.zoom(n.th,n.uh,1==n.scale?n.options.nW:1),n.options.Ap&&setTimeout(function(){n.options.Ap.call(n,t)},200);else if(this.options.Cx){for(e=s.target;1!=e.nodeType;)e=e.parentNode;i=e.tagName.toLowerCase(),"select"!=i&&"input"!=i&&"textarea"!=i?(i=be.createEvent("MouseEvents"),i.initMouseEvent("click",o,o,t.view,1,s.screenX,s.screenY,s.clientX,s.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,p),i.BR=o,e.dispatchEvent(i)):e.focus()}n.ko(400)}n.options.nN&&n.options.nN.call(n,t)}}},ko:function(t){var e=0<=this.x?0:this.x<this.he?this.he:this.x,i=this.y>=this.rf||0<this.nd?this.rf:this.y<this.nd?this.nd:this.y;e==this.x&&i==this.y?(this.ph&&(this.ph=q,this.options.ey&&this.options.ey.call(this)),this.mi&&this.options.Gx&&("webkit"==ee&&(this.PL.style[we]="300ms"),this.PL.style.opacity="0"),this.Bi&&this.options.Gx&&("webkit"==ee&&(this.OO.style[we]="300ms"),this.OO.style.opacity="0")):this.scrollTo(e,i,t||0)},HU:function(t){var e,i,n=this;if("wheelDeltaX"in t)e=t.wheelDeltaX/12,i=t.wheelDeltaY/12;else if("wheelDelta"in t)e=i=t.wheelDelta/12;else{if(!("detail"in t))return;e=i=3*-t.detail}"zoom"==n.options.WO?(i=n.scale*Math.pow(2,1/3*(i?i/Math.abs(i):0)),i<n.options.Xk&&(i=n.options.Xk),i>n.options.bq&&(i=n.options.bq),i!=n.scale&&(!n.Sy&&n.options.Bp&&n.options.Bp.call(n,t),n.Sy++,n.zoom(t.pageX,t.pageY,i,400),setTimeout(function(){n.Sy--,!n.Sy&&n.options.Ap&&n.options.Ap.call(n,t)},400))):(e=n.x+e,i=n.y+i,e>0?e=0:e<n.he&&(e=n.he),i>n.rf?i=n.rf:i<n.nd&&(i=n.nd),0>n.nd&&n.scrollTo(e,i,0))},DU:function(t){t.target==this.Pb&&(this.Yd(Ie),this.CB())},CB:function(){var t,e,i,n=this,s=n.x,a=n.y,h=Date.now();n.Yl||(n.Aj.length?(t=n.Aj.shift(),t.x==s&&t.y==a&&(t.time=0),n.Yl=o,n.ph=o,n.options.Ai?(n.qJ(t.time),n.Cr(t.x,t.y),n.Yl=q,t.time?n.ca(Ie):n.ko(0)):(i=function(){var o,r=Date.now();r>=h+t.time?(n.Cr(t.x,t.y),n.Yl=q,n.options.VY&&n.options.VY.call(n),n.CB()):(r=(r-h)/t.time-1,e=ce.sqrt(1-r*r),r=(t.x-s)*e+s,o=(t.y-a)*e+a,n.Cr(r,o),n.Yl&&(n.WB=Je(i)))})()):n.ko(400))},qJ:function(t){t+="ms",this.Pb.style[oe]=t,this.mi&&(this.UX.style[oe]=t),this.Bi&&(this.b0.style[oe]=t)},nI:function(t,e,i,n,o){var e=ce.abs(t)/e,s=e*e/.0012;return t>0&&s>i?(i+=o/(6/(6e-4*(s/e))),e=e*i/s,s=i):0>t&&s>n&&(n+=o/(6/(6e-4*(s/e))),e=e*n/s,s=n),{Ba:s*(0>t?-1:1),time:ce.round(e/6e-4)}},Zj:function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return t!=this.yn&&(e*=this.scale,i*=this.scale),{left:e,top:i}},hJ:function(t,e){var i,n,o;for(o=this.Ue.length-1,i=0,n=this.Ue.length;n>i;i++)if(t>=this.Ue[i]){o=i;break}for(o==this.yC&&o>0&&0>this.HC&&o--,t=this.Ue[o],n=(n=ce.abs(t-this.Ue[this.yC]))?500*(ce.abs(this.x-t)/n):0,this.yC=o,o=this.uf.length-1,i=0;o>i;i++)if(e>=this.uf[i]){o=i;break}return o==this.zC&&o>0&&0>this.IC&&o--,e=this.uf[o],i=(i=ce.abs(e-this.uf[this.zC]))?500*(ce.abs(this.y-e)/i):0,this.zC=o,o=ce.round(ce.max(n,i))||200,{x:t,y:e,time:o}},ca:function(t,e,i){(e||this.Pb).addEventListener(t,this,!!i)},Yd:function(t,e,i){(e||this.Pb).removeEventListener(t,this,!!i)},EC:ga(2),refresh:function(){var t,e,i,n=0;if(e=0,this.scale<this.options.Xk&&(this.scale=this.options.Xk),this.vu=this.yn.clientWidth||1,this.zn=this.yn.clientHeight||1,this.rf=-this.options.I_||0,this.yy=ce.round(this.Pb.offsetWidth*this.scale),this.Lp=ce.round((this.Pb.offsetHeight+this.rf)*this.scale),this.he=this.vu-this.yy,this.nd=this.zn-this.Lp+this.rf,this.IC=this.HC=0,this.options.jN&&this.options.jN.call(this),this.kp=this.options.kp&&0>this.he,this.wn=this.options.wn&&(!this.options.lV&&!this.kp||this.Lp>this.zn),this.mi=this.kp&&this.options.mi,this.Bi=this.wn&&this.options.Bi&&this.Lp>this.zn,t=this.Zj(this.yn),this.VF=-t.left,this.WF=-t.top,"string"==typeof this.options.du)for(this.Ue=[],this.uf=[],i=this.Pb.querySelectorAll(this.options.du),t=0,e=i.length;e>t;t++)n=this.Zj(i[t]),n.left+=this.VF,n.top+=this.WF,this.Ue[t]=n.left<this.he?this.he:n.left*this.scale,this.uf[t]=n.top<this.nd?this.nd:n.top*this.scale;else if(this.options.du){for(this.Ue=[];n>=this.he;)this.Ue[e]=n,n-=this.vu,e++;for(this.he%this.vu&&(this.Ue[this.Ue.length]=this.he-this.Ue[this.Ue.length-1]+this.Ue[this.Ue.length-1]),e=n=0,this.uf=[];n>=this.nd;)this.uf[e]=n,n-=this.zn,e++;this.nd%this.zn&&(this.uf[this.uf.length]=this.nd-this.uf[this.uf.length-1]+this.uf[this.uf.length-1])}this.Iv("h"),this.Iv("v"),this.Yk||(this.Pb.style[oe]="0",this.ko(400))},scrollTo:function(t,e,i,n){var o=t;for(this.stop(),o.length||(o=[{x:t,y:e,time:i,oZ:n}]),t=0,e=o.length;e>t;t++)o[t].oZ&&(o[t].x=this.x-o[t].x,o[t].y=this.y-o[t].y),this.Aj.push({x:o[t].x,y:o[t].y,time:o[t].time||0});this.CB()},disable:function(){this.stop(),this.ko(0),this.enabled=q,this.Yd(Fe,window),this.Yd(Ge,window),this.Yd(He,window)},enable:function(){this.enabled=o},stop:function(){this.options.Ai?this.Yd(Ie):Ke(this.WB),this.Aj=[],this.Yl=this.ph=q},zoom:function(t,e,i,n){var s=i/this.scale;this.options.Vk&&(this.Yk=o,n=n===j?200:n,t=t-this.VF-this.x,e=e-this.WF-this.y,this.x=t-t*s+this.x,this.y=e-e*s+this.y,this.scale=i,this.refresh(),this.x=0<this.x?0:this.x<this.he?this.he:this.x,this.y=this.y>this.rf?this.rf:this.y<this.nd?this.nd:this.y,this.Pb.style[oe]=n+"ms",this.Pb.style[le]="translate("+this.x+"px,"+this.y+"px) scale("+i+")"+Le,this.Yk=q)}},de=p;var Pe=[0,1,2,2,2,2,2,2,2,3,3,3,3,4,5,5,5,6,6,7,8,8,8,9,10],Qe="其他 正门 房型 设施 正门 餐饮设施 其他设施 正门 设施 观影厅 其他设施".split(" ");z.Vm(function(t){var e=p;t.addEventListener("position_changed",function(){t.k.visible&&t.k.albumsControl===o&&(e?e.qy(t.Zb()):(e=new Ne(t.k.albumsControlOptions),e.ra(t)))}),t.addEventListener("albums_visible_changed",function(){t.k.albumsControl===o?(e?e.qy(t.Zb()):(e=new Ne(t.k.albumsControlOptions),e.ra(t)),e.show()):e.U()}),t.addEventListener("albums_options_changed",function(){e&&e.Mk(t.k.albumsControlOptions)}),t.addEventListener("visible_changed",function(){e&&(t.$D()?t.k.albumsControl===o&&(e.B.style.visibility="visible"):e.B.style.visibility="hidden")})});var Oe=1.8;G()&&(Oe=1),x.extend(Ne.prototype,{Mk:function(t){for(var e in t)this.k[e]=t[e];t=this.k.imageHeight+"px",this.qc(this.k.anchor),this.B.style.width=isNaN(Number(this.k.maxWidth))===o?this.k.maxWidth:this.k.maxWidth+"px",this.B.style.height=t,this.fk.style.height=t,this.Wh.style.height=t,this.eg={height:this.k.imageHeight,width:this.k.imageHeight*Oe},this.ek.style.height=this.eg.height-6+"px",this.ek.style.width=this.eg.width-6+"px",this.qy(this.P.Zb(),o)},ra:function(t){this.P=t,this.is(),this.dQ(),this.iY(),this.qy(t.Zb())},is:function(){var t=this.k.imageHeight+"px";this.B=K("div");var e=this.B.style;e.cssText="background:rgb(37,37,37);background:rgba(37,37,37,0.9);",e.position="absolute",e.zIndex="2000",e.width=isNaN(Number(this.k.maxWidth))===o?this.k.maxWidth:this.k.maxWidth+"px",e.padding="8px 0",e.visibility="hidden",e.height=t,this.fk=K("div"),e=this.fk.style,e.position="absolute",e.overflow="hidden",e.width="100%",e.height=t,this.Wh=K("div"),e=this.Wh.style,e.height=t,this.fk.appendChild(this.Wh),this.B.appendChild(this.fk),this.P.B.appendChild(this.B),this.ek=K("div",{"class":"pano_photo_item_seleted"}),this.ek.style.height=this.eg.height-6+"px",this.ek.style.width=this.eg.width-6+"px",this.qc(this.k.anchor)},EH:function(t){for(var e=this.$j,i=e.length-1;i>=0;i--)if(e[i].panoId==t)return i;return-1},qy:function(t,e){if(e||!this.$j[this.Xc]||this.$j[this.Xc].panoId!=t||3===this.$j[this.Xc].recoType){var i=this,n=this.EH(t);!e&&-1!==n&&this.$j[n]&&3!==this.$j[n].recoType?this.Pp(n):this.AX(function(t){for(var e,n,s={},a=q,h=[],r=0,c=t.length;c>r;r++)e=t[r].catlog,n=t[r].floor,j!==e&&(""===e&&j!==n?(a=o,s[n]||(s[n]=[]),s[n].push(t[r])):(s[Pe[e]]||(s[Pe[e]]=[]),s[Pe[e]].push(t[r])));for(var l in s)h.push(a?{data:l+"F",index:l}:{data:Qe[l],index:l});i.VG=s,i.Ni=h,i.Gl(t),0==t.length?i.U():i.show()})}},UV:function(){if(!this.Ki){var t=this.oX(this.Ni),e=K("div");e.style.cssText=["width:"+134*this.Ni.length+"px;","overflow:hidden;-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none;"].join(""),e.innerHTML=t,t=K("div"),t.appendChild(e),t.style.cssText="position:absolute;top:-25px;background:rgb(37,37,37);background:rgba(37,37,37,0.9);border-bottom:1px solid #4e596a;width:100%;line-height:25px;height:25px;overflow:scroll;outline:0",new Me(t,{Eo:q,Yx:o,mi:q,Bi:q,wn:q,DE:o,Fw:o,Cx:o}),this.B.appendChild(t);for(var i=this,n=e.getElementsByTagName("span"),s=0,a=n.length;a>s;s++)e=n[s],x.M(e,"click",function(){if(this.getAttribute("dataindex")){i.Gl(i.VG[this.getAttribute("dataindex")]);for(var t=0,e=n.length;e>t;t++)n[t].style.color="#FFFFFF";this.style.color="#3383FF"}});this.Ki=t}},RV:function(){if(this.Ki)t=this.mL(this.Ni),this.tQ.innerHTML=t;else{var t=this.mL(this.Ni),e=K("ul"),i=this;e.style.cssText="list-style: none;padding:0px;margin:0px;display:block;width:60px;position:absolute;top:7px",e.innerHTML=t,x.M(e,"click",function(t){if(t=(t.srcElement||t.target).getAttribute("dataindex")){i.Gl(i.VG[t]);for(var n=e.getElementsByTagName("li"),o=0,s=n.length;s>o;o++)n[o].childNodes[0].getAttribute("dataindex")===t?x.K.Ua(n[o],"pano_catlogLiActive"):x.K.Tb(n[o],"pano_catlogLiActive")}});var t=K("div"),n=K("a"),o=K("span"),s=K("a"),a=K("span"),h=["background:url("+F.qa+"panorama/catlog_icon.png) no-repeat;","display:block;width:10px;height:7px;margin:0 auto;"].join("");o.style.cssText=h+"background-position:-18px 0;",n.style.cssText="background:#1C1C1C;display:block;position:absolute;width:58px;",a.style.cssText=h+"background-position:0 0;",s.style.cssText="background:#1C1C1C;display:block;position:absolute;width:58px;",s.style.top=this.k.imageHeight-7+"px",t.style.cssText="position:absolute;top:0px;left:0px;width:60px;",n.appendChild(o),s.appendChild(a),x.M(n,"mouseover",function(){var t=parseInt(e.style.top,10);7!==t&&(o.style.backgroundPosition="-27px 0"),new qb({Gc:60,jc:rb.Hs,duration:300,va:function(i){e.style.top=t+(7-t)*i+"px"}})}),x.M(n,"mouseout",function(){o.style.backgroundPosition="-18px 0"}),x.M(s,"mouseover",function(){var t=parseInt(e.style.top,10),n=i.k.imageHeight-14;if(!(parseInt(e.offsetHeight,10)<n)){var o=n-parseInt(e.offsetHeight,10)+7;o!==t&&(a.style.backgroundPosition="-9px 0"),new qb({Gc:60,jc:rb.Hs,duration:300,va:function(i){e.style.top=t+(o-t)*i+"px"}})}}),x.M(s,"mouseout",function(){a.style.backgroundPosition="0 0"}),t.appendChild(n),t.appendChild(s),n=K("div"),n.style.cssText=["position:absolute;z-index:2001;left:20px;","height:"+this.k.imageHeight+"px;","width:62px;overflow:hidden;background:rgb(37,37,37);background:rgba(37,37,37,0.9);"].join(""),n.appendChild(e),n.appendChild(t),this.Ki=n,this.tQ=e,this.B.appendChild(n)}},SV:function(){if(this.Ni&&!(0>=this.Ni.length)){var t=K("div");t.innerHTML=this.Zz,t.style.cssText="position:absolute;background:#252525",this.B.appendChild(t),this.Ls=t,this.Oc.fg.style.left=this.eg.width+8+"px",this.Ki&&(this.Ki.style.left=parseInt(this.Ki.style.left,10)+this.eg.width+8+"px");var e=this;x.M(t,"click",function(){e.P.rc(e.DW)})}},Gl:function(t){this.$j=t,this.k.showCatalog&&(0<this.Ni.length?(Ua()?this.RV():this.UV(),this.Oc.offsetLeft=60):(this.Ls&&(this.B.removeChild(this.Ls),this.Ls=p,this.Oc.fg.style.left="0px"),this.Ki&&(this.B.removeChild(this.Ki),this.Ki=p),this.Oc.offsetLeft=0));var e=this.iX(t);Ua()&&this.Ni&&0<this.Ni.length&&this.k.showExit&&this.Zz&&(this.Oc.offsetLeft+=this.eg.width+8,this.Ls?this.Ls.innerHTML=this.Zz:this.SV()),this.Wh.innerHTML=e,this.Wh.style.width=(this.eg.width+8)*t.length+8+"px",t=this.B.offsetWidth,e=this.Wh.offsetWidth,this.Oc.Ss&&(e+=this.Oc.Ss()),e<t-2*this.Oc.Ei-this.Oc.offsetLeft?this.B.style.width=e+this.Oc.offsetLeft+"px":(this.B.style.width=isNaN(Number(this.k.maxWidth))===o?this.k.maxWidth:this.k.maxWidth+"px",e<this.B.offsetWidth-2*this.Oc.Ei-this.Oc.offsetLeft&&(this.B.style.width=e+this.Oc.offsetLeft+"px")),this.Oc.refresh(),this.rB=this.Wh.children,this.Wh.appendChild(this.ek),this.ek.style.left="-100000px",t=this.EH(this.P.Zb(),this.k1),-1!==t&&this.Pp(t)},oX:function(t){for(var e,i="",n=0,o=t.length;o>n;n++)e='<div style="color:white;opacity:0.5;margin:0 35px;float:left;text-align: center"><span  dataIndex="'+t[n].index+'">'+t[n].data+"</span></div>",i+=e;return i},mL:function(t){for(var e,i="",n=0,o=t.length;o>n;n++)e='<li class="pano_catlogLi"><span style="display:block;width:100%;" dataIndex="'+t[n].index+'">'+t[n].data+"</span></li>",i+=e;return i},iX:function(t){for(var e,i,n,o,s=[],a=this.eg.height,h=this.eg.width,r=0;r<t.length;r++)e=t[r],recoType=e.recoType,n=e.panoId,o=e.name,i=e.heading,e=e.pitch,i=ae.yL(n,i,e,198,108),e='<a href="javascript:void(0);" class="pano_photo_item" data-index="'+r+'"><img style="width:'+(h-2)+"px;height:"+(a-2)+'px;" data-index="'+r+'" name="'+o+'" src="'+i+'" alt="'+o+'"/><span class="pano_photo_decs" data-index="'+r+'" style="width:'+h+"px;font-size:"+Math.floor(a/6)+"px; line-height:"+Math.floor(a/6)+'px;"><em class="pano_poi_'+recoType+'"></em>'+o+"</span></a>",3===recoType?Ua()?(this.Zz=e,this.DW=n,t.splice(r,1),r--):(e='<a href="javascript:void(0);" class="pano_photo_item" data-index="'+r+'"><img style="width:'+(h-2)+"px;height:"+(a-2)+'px;" data-index="'+r+'" name="'+o+'" src="'+i+'" alt="'+o+'"/><div style="background:rgba(37,37,37,0.5);position:absolute;top:0px;left:0px;width:100%;height:100%;text-align: center;line-height:'+this.k.imageHeight+'px;" data-index="'+r+'"><img src="'+F.qa+'panorama/photoexit.png" style="border:none;vertical-align:middle;" data-index="'+r+'" alt=""/></div></a>',s.push(e)):s.push(e);return s.join("")},AX:function(t){var e=this,i=this.P.Zb();i&&this.Kl.zx(i,function(n){e.P.Zb()===i&&t(n)})},qc:function(t){(!Wa(t)||isNaN(t)||Tb>t||t>3)&&(t=this.defaultAnchor);var e=this.B,i=this.k.offset.width,n=this.k.offset.height;switch(e.style.left=e.style.top=e.style.right=e.style.bottom="auto",t){case Tb:e.style.top=n+"px",e.style.left=i+"px";break;case Ub:e.style.top=n+"px",e.style.right=i+"px";break;case Vb:e.style.bottom=n+"px",e.style.left=i+"px";break;case 3:e.style.bottom=n+"px",e.style.right=i+"px"}},dQ:function(){this.bQ()},bQ:function(){var t=this;x.M(this.B,"touchstart",function(t){t.stopPropagation()}),x.M(this.fk,"click",function(e){(e=(e.srcElement||e.target).getAttribute("data-index"))&&e!=t.Xc&&(t.Pp(e),t.P.rc(t.$j[e].panoId))}),x.M(this.Wh,"mouseover",function(e){e=(e.srcElement||e.target).getAttribute("data-index"),e!==p&&t.mK(e,o)}),this.P.addEventListener("size_changed",function(){isNaN(Number(t.k.maxWidth))&&t.Mk({maxWidth:t.k.maxWidth})})},Pp:function(t){this.ek.style.left=this.rB[t].offsetLeft+8+"px",this.ek.setAttribute("data-index",this.rB[t].getAttribute("data-index")),this.Xc=t,this.mK(t)},mK:function(t,e){var i=this.eg.width+8,n=0;this.Oc.Ss&&(n=this.Oc.Ss()/2);var o=this.fk.offsetWidth-2*n,s=this.Wh.offsetLeft||this.Oc.x,s=s-n,a=-t*i;a>s&&this.Oc.scrollTo(a+n),i=a-i,s-=o,s>i&&(!e||e&&a-s>8)&&this.Oc.scrollTo(i+o+n)},iY:function(){this.Oc=G()?new Me(this.fk,{Eo:q,Yx:o,mi:q,Bi:q,wn:q,DE:o,Fw:o,Cx:o}):new Re(this.fk)},U:function(){this.B.style.visibility="hidden"},show:function(){this.B.style.visibility="visible"}}),Re.prototype={ra:function(){this.Sg.style.position="relative",this.refresh(),this.is(),this.am()},refresh:function(){this.fo=this.B.offsetWidth-this.Ss(),this.RA=-(this.Sg.offsetWidth-this.fo-this.Ei),this.uv=this.Ei+this.offsetLeft,this.Sg.style.left=this.uv+"px",this.Sg.children[0]&&(this.Qr=this.Sg.children[0].offsetWidth),this.fg&&(this.fg.children[0].style.marginTop=this.Ir.children[0].style.marginTop=this.fg.offsetHeight/2-this.fg.children[0].offsetHeight/2+"px")},Ss:function(){return 2*this.Ei},is:function(){this.Jv=K("div"),this.Jv.innerHTML='<a class="pano_photo_arrow_l" style="background:rgb(37,37,37);background:rgba(37,37,37,0.9);" href="javascript:void(0)" title="上一页"><span class="pano_arrow_l"></span></a><a class="pano_photo_arrow_r" style="background:rgb(37,37,37);background:rgba(37,37,37,0.9);" href="javascript:void(0)" title="下一页"><span class="pano_arrow_r"></span></a>',this.fg=this.Jv.children[0],this.Ir=this.Jv.children[1],this.B.appendChild(this.Jv),this.fg.children[0].style.marginTop=this.Ir.children[0].style.marginTop=this.fg.offsetHeight/2-this.fg.children[0].offsetHeight/2+"px"
},am:function(){var t=this;x.M(this.fg,"click",function(){t.scrollTo(t.Sg.offsetLeft+t.fo)}),x.M(this.Ir,"click",function(){t.scrollTo(t.Sg.offsetLeft-t.fo)})},EU:function(){x.K.Tb(this.fg,"pano_arrow_disable"),x.K.Tb(this.Ir,"pano_arrow_disable");var t=this.Sg.offsetLeft;t>=this.uv&&x.K.Ua(this.fg,"pano_arrow_disable"),t-this.fo<=this.RA&&x.K.Ua(this.Ir,"pano_arrow_disable")},scrollTo:function(t){t=t<this.Sg.offsetLeft?Math.ceil((t-this.Ei-this.fo)/this.Qr)*this.Qr+this.fo+this.Ei-8:Math.ceil((t-this.Ei)/this.Qr)*this.Qr+this.Ei,t<this.RA?t=this.RA:t>this.uv&&(t=this.uv);var e=this.Sg.offsetLeft,i=this;new qb({Gc:60,jc:rb.Hs,duration:300,va:function(n){i.Sg.style.left=e+(t-e)*n+"px"},finish:function(){i.EU()}})}},z.Map=Ka,z.Hotspot=gb,z.MapType=Uc,z.Point=H,z.Pixel=R,z.Size=L,z.Bounds=db,z.TileLayer=Gc,z.Projection=gc,z.MercatorProjection=S,z.PerspectiveProjection=fb,z.Copyright=function(t,e,i){this.id=t,this.$a=e,this.content=i},z.Overlay=jc,z.Label=tc,z.GroundOverlay=uc,z.PointCollection=yc,z.Marker=U,z.Icon=pc,z.IconSequence=rc,z.Symbol=qc,z.Polyline=Cc,z.Polygon=Bc,z.InfoWindow=sc,z.Circle=Dc,z.Control=Sb,z.NavigationControl=hb,z.GeolocationControl=Wb,z.OverviewMapControl=jb,z.CopyrightControl=Xb,z.ScaleControl=ib,z.MapTypeControl=kb,z.CityListControl=Yb,z.PanoramaControl=$b,z.TrafficLayer=Qc,z.CustomLayer=lb,z.ContextMenu=cc,z.MenuItem=fc,z.LocalSearch=ab,z.TransitRoute=wd,z.DrivingRoute=zd,z.WalkingRoute=Ad,z.Autocomplete=Kd,z.RouteSearch=Ed,z.Geocoder=Fd,z.LocalCity=Hd,z.Geolocation=Geolocation,z.Convertor=ic,z.BusLineSearch=Jd,z.Boundary=Id,z.VectorCloudLayer=Oc,z.VectorTrafficLayer=Pc,z.Panorama=Na,z.PanoramaLabel=Qd,z.PanoramaService=bc,z.PanoramaCoverageLayer=ac,z.PanoramaFlashInterface=Zd,T(window,{BMap:z,_jsload2:function(t,e){ia.Ly.sY&&ia.Ly.set(t,e),I.vV(t,e)},BMAP_API_VERSION:"2.0"});var Se=Ka.prototype;T(Se,{getBounds:Se.Hd,getCenter:Se.Ha,getMapType:Se.oa,getSize:Se.Bb,setSize:Se.Ae,getViewport:Se.ct,getZoom:Se.fa,centerAndZoom:Se.Dd,panTo:Se.ui,panBy:Se.xg,setCenter:Se.Wf,setCurrentCity:Se.qF,setMapType:Se.Ag,setViewport:Se.Ah,setZoom:Se.Nc,highResolutionEnabled:Se.Ix,zoomTo:Se.Dg,zoomIn:Se.XF,zoomOut:Se.YF,addHotspot:Se.sw,removeHotspot:Se.qZ,clearHotspots:Se.em,checkResize:Se.yV,addControl:Se.qw,removeControl:Se.CN,getContainer:Se.La,addContextMenu:Se.xo,removeContextMenu:Se.Fp,addOverlay:Se.Ka,removeOverlay:Se.Ub,clearOverlays:Se.jK,openInfoWindow:Se.Ob,closeInfoWindow:Se.Wc,pointToOverlayPixel:Se.Ve,overlayPixelToPoint:Se.qN,getInfoWindow:Se.hh,getOverlays:Se.wx,getPanes:function(){return{floatPane:this.Wd.sD,markerMouseTarget:this.Wd.GE,floatShadow:this.Wd.eL,labelPane:this.Wd.yE,markerPane:this.Wd.LM,markerShadow:this.Wd.MM,mapPane:this.Wd.yt,vertexPane:this.Wd.SO}},addTileLayer:Se.Wg,removeTileLayer:Se.xh,pixelToPoint:Se.wb,pointToPixel:Se.bc,setFeatureStyle:Se.Op,selectBaseElement:Se.g4,setMapStyle:Se.Tt,enable3DBuilding:Se.Po,disable3DBuilding:Se.hW,getPanorama:Se.wm,setBrowserContextmenu:Se.QZ});var Te=Uc.prototype;T(Te,{getTileLayer:Te.LX,getMinZoom:Te.$o,getMaxZoom:Te.vm,getProjection:Te.ep,getTextColor:Te.Bm,getTips:Te.bt}),T(window,{BMAP_NORMAL_MAP:La,BMAP_PERSPECTIVE_MAP:Pa,BMAP_SATELLITE_MAP:Ya,BMAP_HYBRID_MAP:Sa});var Ue=S.prototype;T(Ue,{lngLatToPoint:Ue.lh,pointToLngLat:Ue.zj});var Ve=fb.prototype;T(Ve,{lngLatToPoint:Ve.lh,pointToLngLat:Ve.zj});var We=db.prototype;T(We,{equals:We.nb,containsPoint:We.gs,containsBounds:We.JV,intersects:We.kt,extend:We.extend,getCenter:We.Ha,isEmpty:We.xj,getSouthWest:We.ve,getNorthEast:We.of,toSpan:We.LF});var Xe=jc.prototype;T(Xe,{isVisible:Xe.kh,show:Xe.show,hide:Xe.U}),jc.getZIndex=jc.Dm;var Ye=eb.prototype;T(Ye,{openInfoWindow:Ye.Ob,closeInfoWindow:Ye.Wc,enableMassClear:Ye.mj,disableMassClear:Ye.jW,show:Ye.show,hide:Ye.U,getMap:Ye.qx,addContextMenu:Ye.xo,removeContextMenu:Ye.Fp});var Ze=U.prototype;T(Ze,{setIcon:Ze.Vb,getIcon:Ze.Zo,setPosition:Ze.ta,getPosition:Ze.ha,setOffset:Ze.Xe,getOffset:Ze.Qf,getLabel:Ze.MD,setLabel:Ze.gn,setTitle:Ze.Cc,setTop:Ze.yi,enableDragging:Ze.Hb,disableDragging:Ze.KC,setZIndex:Ze.Yt,getMap:Ze.qx,setAnimation:Ze.fn,setShadow:Ze.Cy,hide:Ze.U,setRotation:Ze.Rp,getRotation:Ze.CL}),T(window,{BMAP_ANIMATION_DROP:1,BMAP_ANIMATION_BOUNCE:2});var $e=tc.prototype;T($e,{setStyle:$e.Ld,setStyles:$e.xi,setContent:$e.ad,setPosition:$e.ta,getPosition:$e.ha,setOffset:$e.Xe,getOffset:$e.Qf,setTitle:$e.Cc,setZIndex:$e.Yt,getMap:$e.qx,getContent:$e.uk});var af=pc.prototype;T(af,{setImageUrl:af.SN,setSize:af.Ae,setAnchor:af.qc,setImageOffset:af.St,setImageSize:af.VZ,setInfoWindowAnchor:af.YZ,setPrintImageUrl:af.h_});var bf=sc.prototype;T(bf,{redraw:bf.je,setTitle:bf.Cc,setContent:bf.ad,getContent:bf.uk,getPosition:bf.ha,enableMaximize:bf.ah,disableMaximize:bf.Yw,isOpen:bf.Wa,setMaxContent:bf.Ut,maximize:bf.Xx,enableAutoPan:bf.Is});var cf=lc.prototype;T(cf,{getPath:cf.te,setPath:cf.ke,setPositionAt:cf.jn,getStrokeColor:cf.GX,setStrokeWeight:cf.Up,getStrokeWeight:cf.FL,setStrokeOpacity:cf.Sp,getStrokeOpacity:cf.HX,setFillOpacity:cf.Rt,getFillOpacity:cf.dX,setStrokeStyle:cf.Tp,getStrokeStyle:cf.EL,getFillColor:cf.cX,getBounds:cf.Hd,enableEditing:cf.mf,disableEditing:cf.iW,getEditing:cf.$W});var df=Dc.prototype;T(df,{setCenter:df.Wf,getCenter:df.Ha,getRadius:df.AL,setRadius:df.vf});var ef=Bc.prototype;T(ef,{getPath:ef.te,setPath:ef.ke,setPositionAt:ef.jn});var ff=gb.prototype;T(ff,{getPosition:ff.ha,setPosition:ff.ta,getText:ff.WD,setText:ff.Xt}),H.prototype.equals=H.prototype.nb,R.prototype.equals=R.prototype.nb,L.prototype.equals=L.prototype.nb,T(window,{BMAP_ANCHOR_TOP_LEFT:Tb,BMAP_ANCHOR_TOP_RIGHT:Ub,BMAP_ANCHOR_BOTTOM_LEFT:Vb,BMAP_ANCHOR_BOTTOM_RIGHT:3});var gf=Sb.prototype;T(gf,{setAnchor:gf.qc,getAnchor:gf.yD,setOffset:gf.Xe,getOffset:gf.Qf,show:gf.show,hide:gf.U,isVisible:gf.kh,toString:gf.toString});var hf=hb.prototype;T(hf,{getType:hf.ip,setType:hf.kn}),T(window,{BMAP_NAVIGATION_CONTROL_LARGE:0,BMAP_NAVIGATION_CONTROL_SMALL:1,BMAP_NAVIGATION_CONTROL_PAN:2,BMAP_NAVIGATION_CONTROL_ZOOM:3});var jf=jb.prototype;T(jf,{changeView:jf.qe,setSize:jf.Ae,getSize:jf.Bb});var kf=ib.prototype;T(kf,{getUnit:kf.PX,setUnit:kf.yF}),T(window,{BMAP_UNIT_METRIC:"metric",BMAP_UNIT_IMPERIAL:"us"});var lf=Xb.prototype;T(lf,{addCopyright:lf.rw,removeCopyright:lf.bF,getCopyright:lf.sm,getCopyrightCollection:lf.FD}),T(window,{BMAP_MAPTYPE_CONTROL_HORIZONTAL:Zb,BMAP_MAPTYPE_CONTROL_DROPDOWN:1,BMAP_MAPTYPE_CONTROL_MAP:2});var mf=Gc.prototype;T(mf,{getMapType:mf.oa,getCopyright:mf.sm,isTransparentPng:mf.vt});var pf=cc.prototype;T(pf,{addItem:pf.tw,addSeparator:pf.SB,removeSeparator:pf.dF});var qf=fc.prototype;T(qf,{setText:qf.Xt});var rf=W.prototype;T(rf,{getStatus:rf.zm,setSearchCompleteCallback:rf.wF,getPageCapacity:rf.pf,setPageCapacity:rf.Qp,setLocation:rf.hn,disableFirstResultSelection:rf.LC,enableFirstResultSelection:rf.hD,gotoPage:rf.Em,searchNearby:rf.Mp,searchInBounds:rf.dn,search:rf.search}),T(window,{BMAP_STATUS_SUCCESS:0,BMAP_STATUS_CITY_LIST:1,BMAP_STATUS_UNKNOWN_LOCATION:2,BMAP_STATUS_UNKNOWN_ROUTE:3,BMAP_STATUS_INVALID_KEY:4,BMAP_STATUS_INVALID_REQUEST:5,BMAP_STATUS_PERMISSION_DENIED:6,BMAP_STATUS_SERVICE_UNAVAILABLE:7,BMAP_STATUS_TIMEOUT:8}),T(window,{BMAP_POI_TYPE_NORMAL:0,BMAP_POI_TYPE_BUSSTOP:1,BMAP_POI_TYPE_BUSLINE:2,BMAP_POI_TYPE_SUBSTOP:3,BMAP_POI_TYPE_SUBLINE:4}),T(window,{BMAP_TRANSIT_POLICY_LEAST_TIME:0,BMAP_TRANSIT_POLICY_LEAST_TRANSFER:2,BMAP_TRANSIT_POLICY_LEAST_WALKING:3,BMAP_TRANSIT_POLICY_AVOID_SUBWAYS:4,BMAP_LINE_TYPE_BUS:0,BMAP_LINE_TYPE_SUBWAY:1,BMAP_LINE_TYPE_FERRY:2});var sf=vd.prototype;T(sf,{clearResults:sf.Pe}),xd=wd.prototype,T(xd,{setPolicy:xd.Wt,toString:xd.toString,setPageCapacity:xd.Qp}),T(window,{BMAP_DRIVING_POLICY_LEAST_TIME:0,BMAP_DRIVING_POLICY_LEAST_DISTANCE:1,BMAP_DRIVING_POLICY_AVOID_HIGHWAYS:2}),T(window,{BMAP_MODE_DRIVING:"driving",BMAP_MODE_TRANSIT:"transit",BMAP_MODE_WALKING:"walking",BMAP_MODE_NAVIGATION:"navigation"});var tf=Ed.prototype;T(tf,{routeCall:tf.NN}),T(window,{BMAP_HIGHLIGHT_STEP:1,BMAP_HIGHLIGHT_ROUTE:2}),T(window,{BMAP_ROUTE_TYPE_DRIVING:ed,BMAP_ROUTE_TYPE_WALKING:dd}),T(window,{BMAP_ROUTE_STATUS_NORMAL:id,BMAP_ROUTE_STATUS_EMPTY:1,BMAP_ROUTE_STATUS_ADDRESS:2});var uf=zd.prototype;T(uf,{setPolicy:uf.Wt});var vf=Kd.prototype;T(vf,{show:vf.show,hide:vf.U,setTypes:vf.xF,setLocation:vf.hn,search:vf.search,setInputValue:vf.zy}),T(lb.prototype,{});var wf=Id.prototype;T(wf,{get:wf.get}),T(ac.prototype,{}),T(bb.prototype,{}),T(window,{BMAP_POINT_DENSITY_HIGH:200,BMAP_POINT_DENSITY_MEDIUM:Tc,BMAP_POINT_DENSITY_LOW:50}),T(window,{BMAP_POINT_SHAPE_STAR:1,BMAP_POINT_SHAPE_WATERDROP:2,BMAP_POINT_SHAPE_CIRCLE:vc,BMAP_POINT_SHAPE_SQUARE:4,BMAP_POINT_SHAPE_RHOMBUS:5}),T(window,{BMAP_POINT_SIZE_TINY:1,BMAP_POINT_SIZE_SMALLER:2,BMAP_POINT_SIZE_SMALL:3,BMAP_POINT_SIZE_NORMAL:wc,BMAP_POINT_SIZE_BIG:5,BMAP_POINT_SIZE_BIGGER:6,BMAP_POINT_SIZE_HUGE:7}),T(window,{BMap_Symbol_SHAPE_CAMERA:11,BMap_Symbol_SHAPE_WARNING:12,BMap_Symbol_SHAPE_SMILE:13,BMap_Symbol_SHAPE_CLOCK:14,BMap_Symbol_SHAPE_POINT:9,BMap_Symbol_SHAPE_PLANE:10,BMap_Symbol_SHAPE_CIRCLE:1,BMap_Symbol_SHAPE_RECTANGLE:2,BMap_Symbol_SHAPE_RHOMBUS:3,BMap_Symbol_SHAPE_STAR:4,BMap_Symbol_SHAPE_BACKWARD_CLOSED_ARROW:5,BMap_Symbol_SHAPE_FORWARD_CLOSED_ARROW:6,BMap_Symbol_SHAPE_BACKWARD_OPEN_ARROW:7,BMap_Symbol_SHAPE_FORWARD_OPEN_ARROW:8}),T(window,{BMAP_CONTEXT_MENU_ICON_ZOOMIN:dc,BMAP_CONTEXT_MENU_ICON_ZOOMOUT:ec}),T(window,{BMAP_SYS_DRAWER:Ia,BMAP_SVG_DRAWER:1,BMAP_VML_DRAWER:2,BMAP_CANVAS_DRAWER:3,BMAP_SVG_DRAWER_FIRST:4}),z.XU()}()});
;/*!wiki-m-lemma:widget/content-n/moduleContent/map/map.js*/
define("wiki-m-lemma:widget/content-n/moduleContent/map/map",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-lemma:widget/content-n/moduleContent/map/BMAP.min"],function(e,o,n){function r(e,o){var n=e,r="map"+o,a={point:{x:parseFloat(t("centerX",n)||"0",10),y:parseFloat(t("centerY",n)||"0",10)},marker:{x:parseFloat(t("markerPosX",n)||"0",10),y:parseFloat(t("markerPosY",n)||"0",10)},markerTitle:t("markerTitle",n)||"",markerAddress:t("markerAddress",n)||"",zoom:t("zoom",n)?parseInt(t("zoom",n),10):null};a.zoom&&!isNaN(a.zoom)&&a.zoom>2&&(a.zoom=a.zoom-2);var m=new BMap.Map(r),i=new BMap.Point(a.point.x,a.point.y);if(m.centerAndZoom(i,a.zoom),m.centerAndZoom(i),m.enableScrollWheelZoom(),m.addControl(new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_LEFT,type:BMAP_NAVIGATION_CONTROL_SMALL})),a.marker.x&&a.marker.y){var l=new BMap.Marker(new BMap.Point(a.marker.x,a.marker.y));m.addOverlay(l);var p="";if(a.markerTitle){p='<h4 style="font-size:14px; font-weight:bold; color:#CE5423; margin-bottom:8px;">'+a.markerTitle+"</h4>"+(a.markerAddress?'<p  style="font-size:12px;line-height:1.5;">地址：'+a.markerAddress+"</p>":"");var d={width:0,height:0},s=new BMap.InfoWindow(p,d)}l.onclick=function(){this.openInfoWindow(s)}}}e("wiki-m-common:widget/lib/zepto/zepto");e("wiki-m-lemma:widget/content-n/moduleContent/map/BMAP.min");var t=function(e,o){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),r=o.substr(1).match(n);return null!=r?decodeURIComponent(r[2]):null};n.exports=function(e,o){r(e,o)}});
;/*!wiki-m-lemma:widget/content-n/moduleContent/movieNew/movieNew.js*/
define("wiki-m-lemma:widget/content-n/moduleContent/movieNew/movieNew",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog"],function(i,e,t){function n(i){var e=i.find(".movie-item .pic").eq(0).width(),t=Math.round(109*e/80);i.find(".movie-item .pic").css("height",t+"px")}function o(i){i.find(".movie-item .item-list .name").each(function(){if(l(this).children("a").length>0){var i=l(l(this).children("a")[0]);if(l(this).siblings(".pic").children(".pic-link").length>0){var e=l(l(this).siblings(".pic").children(".pic-link")[0]);e.attr("href",i.attr("href")),e.children(".pic-link-text").html(i.text())}}})}var l=i("wiki-m-common:widget/lib/zepto/zepto"),s=i("wiki-m-common:widget/util/nslog"),a=function(i){var e=l("#movie_module_content_"+i);n(e),o(e),e.find(".show-all-movie").length>0&&(s.qAll("20010001"),e.find(".show-all-movie").on("tap",function(){if(l(this).children("em").hasClass("layout-icons_down-arrow"))s.qAll("20010002"),l(this).siblings(".movie-list").children(".J-toggle").removeClass("hide"),l(this).children("span").text("收起"),l(this).children("em").removeClass("layout-icons_down-arrow").addClass("layout-icons_up-arrow");else{l(this).siblings(".movie-list").children(".J-toggle").addClass("hide"),l(this).children("span").text("全部展开"),l(this).children("em").removeClass("layout-icons_up-arrow").addClass("layout-icons_down-arrow");var i=l(this).offset().top-240;window.scrollTo(0,i)}}).on("touchstart",function(i){i.preventDefault()})),e.find(".movie-list").on("orientationchange",function(){n()})};t.exports=a});
;/*!wiki-m-lemma:widget/content-n/moduleContent/tashuo/tashuo.js*/
define("wiki-m-lemma:widget/content-n/moduleContent/tashuo/tashuo",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/lib/iscroll/iscroll.min","wiki-m-common:widget/util/nslog"],function(t,o,n){var e=t("wiki-m-common:widget/lib/zepto/zepto"),i=t("wiki-m-common:widget/lib/iscroll/iscroll.min"),a=t("wiki-m-common:widget/util/nslog"),s=function(){function t(t){var o=parseInt(t,10);return isNaN(o)?"--":o>=1e4?((o-500)/1e4).toFixed(1).replace(".0","")+"万":t}var o=e(".tashuo-inContent"),n=e(".tashuo-inContent-list"),s=o.find(".tashuo-content"),u=n.find(".tashuo-item");o.length>0&&a.qAll("20008106");var l=e(window).width();s.width(l);var c=(l-35)/2.25;u.width(c);var h=n.children("li").length,m=h*(c+9)+20;n.width(m);var r=(new i(".tashuo-inContent .tashuo-content",{scrollX:!0,scrollY:!1,preventDefault:!1}),0),d=0;e(".tashuo-inContent .tashuo-content").on("touchstart",function(t){r=t.touches[0].pageX,d=t.touches[0].pageY}),e(".tashuo-inContent .tashuo-content").on("touchmove",function(t){var o=t.touches[0].pageX-r;r=t.touches[0].pageX;var n=t.touches[0].pageY-d;d=t.touches[0].pageY,Math.abs(o)>=Math.abs(n)&&t.preventDefault()}),u.find(".tashuo-title").on("tap",function(){a.qAll("20008107")}),e(".tashuo-inContent-list .pvNum").each(function(){var o=e(this).data("pv"),n=t(o);e(this).text(n)})};n.exports=s});
;/*!wiki-m-lemma:widget/content-n/otherContent/baiduHiring/baiduHiring.js*/
define("wiki-m-lemma:widget/content-n/otherContent/baiduHiring/baiduHiring",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/lib/jsmart/jsmart","wiki-m-common:widget/util/nslog"],function(i,t){var e=i("wiki-m-common:widget/lib/zepto/zepto"),n=i("wiki-m-common:widget/lib/jsmart/jsmart"),a=i("wiki-m-common:widget/util/nslog"),s=new n('{%foreach $items as $index=>$item%}\n<a class="item J-item" href="{%$item.url|f_escape_xml%}">\n<span class="item-price">\n{%$item.salary|f_escape_xml%}\n</span>\n<span class="item-content">\n<span class="item-job-name">{%$item.title|f_escape_xml%}</span>\n<span class="item-job-info">{%$item.city|f_escape_xml%}<span>|</span>发布时间：{%$item.startDate|f_escape_xml%}</span>\n</span>\n</a>\n{%/foreach%}'),m={init:function(i){var t=this;this.config=i,this.$el=e("#baidu_hiring"),this.$items=this.$el.find(".J-items");var n=i.adManager||{};"undefined"!=typeof n.wapBaiduZhaopin&&e(".BK-after-content-wrapper").on("toggleShow",function(){t.getData()})},getData:function(){var i=this;e.ajax({url:page.baseUrl+"/wapui/api/baiduzhaopin",type:"GET",dataType:"json",data:{lemmaTitle:this.config.lemmaTitle},success:function(t){var e=t||{};0===e.errno&&e.data&&e.data.items&&e.data.items.length>0&&(i.data=e.data,i.processView())}})},processView:function(){this.$items.html(s.fetch({items:this.data.items})),this.$el.show(),this.$el.find(".J-more-link").prop("href",this.data.url).on("click",function(){a.qAll("20007002")}),this.$el.find(".J-current-city").append(this.data.city).on("click",function(){a.qAll("20007000")}),this.$items.find(".J-item").on("click",function(){a.qAll("20007001")})}};t.init=function(i){m.init(i||{})}});
;/*!wiki-m-lemma:widget/content-n/otherContent/college/college.js*/
define("wiki-m-lemma:widget/content-n/otherContent/college/college",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/lib/iscroll/iscroll.min"],function(e,o){function t(e,o){var t=document.createElement("script");if("http:"===window.location.protocol)var a="http://gkcx.public.api.eol.cn/app/html/www/baike/score/";else var a="https://gss0.bdstatic.com/-b5JhHS9AQQAm2zgo-yOKThxhNw6ba/app/html/www/baike/score/";t.src="score"===o?a+e+".json?callback=callback_"+o:"https://baikebcs.bdimg.com/baike-other/campusFeatureData/"+e+"/"+o+".js?callback=callback_"+o,t.id="script_"+o,document.body.appendChild(t)}function a(){var e=0,o=0,t='<div class="table-show-all"><span>展开全部</span>';t+='<em class="layout-icons layout-icons_down-arrow"></em></div>',v(".college-table-container").each(function(){if(v("tbody tr",v(this)).length>5){for(var a=5;a<v("tbody tr",v(this)).length;a++)v(v("tbody tr",v(this))[a]).addClass("tr-hide").addClass("J-toggle");v(this).children(".table-show-all").length<1?v(this).append(t):"none"===v(v("tbody tr",v(this))[5]).css("display")&&v(this).children(".table-show-all").show()}else v(this).children(".table-show-all").length>0&&v(this).children(".table-show-all").hide();v(this).hasClass("tableScroll")||(window.collegeTableNum++,v(this).attr("id","collegeTable"+window.collegeTableNum),window.collegeTableScroll[window.collegeTableNum]=new m("#collegeTable"+window.collegeTableNum,{scrollX:!0,scrollY:!1,preventDefault:!1}),v(this).on("touchstart",function(t){e=t.touches[0].pageX,o=t.touches[0].pageY}),v(this).on("touchmove",function(t){var a=t.touches[0].pageX-e;e=t.touches[0].pageX;var n=t.touches[0].pageY-o;o=t.touches[0].pageY,Math.abs(a)>=Math.abs(n)&&t.preventDefault()}),v(this).addClass("tableScroll"))})}function n(){v("#J-lemma").on("click",".college-table-container .table-show-all",function(){if(v(this).children("em").hasClass("layout-icons_down-arrow"))v(".J-toggle",v(this).parent()).removeClass("tr-hide"),v(this).children("em").removeClass("layout-icons_down-arrow").addClass("layout-icons_up-arrow"),v(this).children("span").text("收起");else{v(".J-toggle",v(this).parent()).addClass("tr-hide"),v(this).children("em").removeClass("layout-icons_up-arrow").addClass("layout-icons_down-arrow"),v(this).children("span").text("展开全部");var e=v(this).offset().top-240;v(window).scrollTop()>e&&window.scrollTo(0,e)}window.collegeTableScroll[v(this).parent().attr("id").split("collegeTable")[1]].refresh()})}function l(){for(var e in J)if(J[e]){var o="<option value="+e+">"+f[e]+"</option>";v("#J-plan-major").append(o),b=e;break}var t=J[b];for(var e in t)if(t[e]){var a="<option value="+e+">"+g[e]+"</option>";v("#J-plan-area").append(a)}v(v("#J-plan-area option")[0]).attr("selected","true"),w=v("#J-plan-area option").not(function(){return!this.selected}).attr("value"),v("#J-plan-major").html("<em></em>");for(var e in J)if(J[e][w]){var o="";o=e===b?"<option value="+e+' selected="true">'+f[e]+"</option>":"<option value="+e+">"+f[e]+"</option>",v("#J-plan-major").append(o)}v("#filter-plan").show(),v("#J-plan-major").on("change",function(){b=v("#J-plan-major option").not(function(){return!this.selected}).attr("value"),y=!0,i()}),v("#J-plan-area").on("change",function(){w=v("#J-plan-area option").not(function(){return!this.selected}).attr("value"),j=!0,i()})}function i(){if(y){v("#J-plan-area").html("<em></em>");var e=J[b];for(var o in e)if(e[o]){var t="";t=o===w?"<option value="+o+' selected="true">'+g[o]+"</option>":"<option value="+o+">"+g[o]+"</option>",v("#J-plan-area").append(t)}y=!1}else if(j){v("#J-plan-major").html("<em></em>");for(var o in J)if(J[o][w]){var a="";a=o===b?"<option value="+o+' selected="true">'+f[o]+"</option>":"<option value="+o+">"+f[o]+"</option>",v("#J-plan-major").append(a)}j=!1}r(b,w)}function r(){v("#J-plan-table tbody").html("");var e=J[b][w];if(e&&e.length>0)for(var o in e){null==e[o].num&&(e[o].num="-");var t="<tr><td>"+e[o].major+"</td><td>"+e[o].type+"</td><td>"+e[o].grade+"</td><td>"+e[o].num+"</td></tr>";v("#J-plan-table tbody").append(t)}else v("#J-plan-table tbody").append('<tr><td colspan="4">暂无数据</td></tr>');a()}function c(){for(var e in k)if(k[e]){var o="<option value="+e+">"+f[e]+"</option>";v("#J-score-major").append(o),S=e;break}var t=k[S];for(var e in t)if(t[e]){var a="<option value="+e+">"+g[e]+"</option>";v("#J-score-area").append(a)}v(v("#J-score-area option")[0]).attr("selected","true"),_=v("#J-score-area option").not(function(){return!this.selected}).attr("value"),v("#J-score-major").html("<em></em>");for(var e in k)if(k[e][_]){var o="";o=e===S?"<option value="+e+' selected="true">'+f[e]+"</option>":"<option value="+e+">"+f[e]+"</option>",v("#J-score-major").append(o)}v("#filter-score").show(),v("#J-score-major").on("change",function(){S=v("#J-score-major option").not(function(){return!this.selected}).attr("value"),x=!0,p()}),v("#J-score-area").on("change",function(){_=v("#J-score-area option").not(function(){return!this.selected}).attr("value"),C=!0,p()})}function p(){if(x){v("#J-score-area").html("<em></em>");var e=k[S];for(var o in e)if(e[o]){var t="";t=o===_?"<option value="+o+' selected="true">'+g[o]+"</option>":"<option value="+o+">"+g[o]+"</option>",v("#J-score-area").append(t)}x=!1}else if(C){v("#J-score-major").html("<em></em>");for(var o in k)if(k[o][_]){var a="";a=o===S?"<option value="+o+' selected="true">'+f[o]+"</option>":"<option value="+o+">"+f[o]+"</option>",v("#J-score-major").append(a)}C=!1}s(S,_)}function s(){v("#J-score-table tbody").html("");var e=k[S][_];if(e)for(var o in e){null==e[o][0].highScore&&(e[o][0].highScore="-"),null==e[o][0].averageScore&&(e[o][0].averageScore="-"),null==e[o][0].lowScore&&(e[o][0].lowScore="-");var t="<tr><td>"+o+"</td><td>"+e[o][0].highScore+"</td><td>"+e[o][0].averageScore+"</td><td>"+e[o][0].lowScore+"</td><td>"+e[o][0].group+"</td></tr>";v("#J-score-table tbody").append(t)}else v("#J-score-table tbody").append('<tr><td colspan="5">暂无数据</td></tr>');a()}function d(){for(var e in T)if(T[e]){var o="<option value="+e+">"+f[e]+"</option>";v("#J-college-major").append(o),z=e;break}var t=T[z];for(var e in t)if(t[e]){var a="<option value="+e+">"+g[e]+"</option>";v("#J-college-area").append(a),E=e;break}var n=T[z][E],l=0;for(var e in n)if(n[e]){var i="<option value="+e+">"+e+"</option>";v("#J-college-year").append(i)}if(0===l){var i="<option value=2014>2014</option>";v("#J-college-year").append(i),N=2014;for(var e in t)if(t[e][N]){var a="<option value="+e+">"+g[e]+"</option>";v("#J-college-area").append(a),E=e;break}}v(v("#J-college-year option")[0]).attr("selected","true"),N=v("#J-college-year option").not(function(){return!this.selected}).attr("value"),v("#J-college-major").html("<em></em>");for(var e in T)if(T[e][E]&&T[e][E][N]){var o="";o=e===z?"<option value="+e+' selected="true">'+f[e]+"</option>":"<option value="+e+">"+f[e]+"</option>",v("#J-college-major").append(o)}v("#J-college-area").html("<em></em>");var t=T[z];for(var e in t)if(T[z][e]&&T[z][e][N]){var a="";a=e===E?"<option value="+e+' selected="true">'+g[e]+"</option>":"<option value="+e+">"+g[e]+"</option>",v("#J-college-area").append(a)}v("#J-college-year").html("<em></em>");var n=T[z][E];for(var e in n)if(n[e]){var i="";i=e===N?"<option value="+e+' selected="true">'+e+"</option>":"<option value="+e+">"+e+"</option>",v("#J-college-year").append(i)}v("#J-college-major option").length>0&&v("#filter-college").show(),v("#J-college-major").on("change",function(){z=v("#J-college-major option").not(function(){return!this.selected}).attr("value"),B=!0,u()}),v("#J-college-area").on("change",function(){E=v("#J-college-area option").not(function(){return!this.selected}).attr("value"),I=!0,u()}),v("#J-college-year").on("change",function(){N=v("#J-college-year option").not(function(){return!this.selected}).attr("value"),D=!0,u()})}function u(){if(B){v("#J-college-area").html("<em></em>");var e=T[z];for(var o in e)if(e[o]&&e[o][N]){var t="";t=o===E?"<option value="+o+' selected="true">'+g[o]+"</option>":"<option value="+o+">"+g[o]+"</option>",v("#J-college-area").append(t)}v("#J-college-year").html("<em></em>");var a=T[z][E];for(var o in a)if(a[o]){var n="";n=o===N?"<option value="+o+' selected="true">'+o+"</option>":"<option value="+o+">"+o+"</option>",v("#J-college-year").append(n)}B=!1}else if(I){v("#J-college-major").html("<em></em>");for(var o in T)if(T[o][E]&&T[o][E][N]){var l="";l=o===z?"<option value="+o+' selected="true">'+f[o]+"</option>":"<option value="+o+">"+f[o]+"</option>",v("#J-college-major").append(l)}v("#J-college-year").html("<em></em>");var a=T[z][E];for(var o in a)if(a[o]){var n="";n=o===N?"<option value="+o+' selected="true">'+o+"</option>":"<option value="+o+">"+o+"</option>",v("#J-college-year").append(n)}I=!1}else if(D){v("#J-college-major").html("<em></em>");for(var o in T)if(T[o][E]&&T[o][E][N]){var l="";l=o===z?"<option value="+o+' selected="true">'+f[o]+"</option>":"<option value="+o+">"+f[o]+"</option>",v("#J-college-major").append(l)}v("#J-college-area").html("<em></em>");var e=T[z];for(var o in e)if(T[z][o]&&T[z][o][N]){var t="";t=o===E?"<option value="+o+' selected="true">'+g[o]+"</option>":"<option value="+o+">"+g[o]+"</option>",v("#J-college-area").append(t)}}h(z,E,N)}function h(){v("#J-college-table tbody").html("");var e=T[z][E][N];if(e&&e.length>0)for(var o in e){null==e[o].averageScore&&(e[o].averageScore="-"),null==e[o].highScore&&(e[o].highScore="-");var t="<tr><td>"+e[o].college+"</td><td>"+e[o].province+"</td><td>"+e[o].averageScore+"</td><td>"+e[o].highScore+"</td><td>"+e[o].group+"</td></tr>";v("#J-college-table tbody").append(t)}else v("#J-college-table tbody").append('<tr><td colspan="5">暂无数据</td></tr>');a()}var v=e("wiki-m-common:widget/lib/zepto/zepto"),m=e("wiki-m-common:widget/lib/iscroll/iscroll.min"),g={beijing:"北京",tianjin:"天津",shanghai:"上海",chongqing:"重庆",heilongjiang:"黑龙江",jilin:"吉林",liaoning:"辽宁",hebei:"河北",henan:"河南",shandong:"山东",jiangsu:"江苏",shanxi:"山西",shaanxi:"陕西",gansu:"甘肃",sichuan:"四川",qinghai:"青海",hunan:"湖南",hubei:"湖北",jiangxi:"江西",anhui:"安徽",zhejiang:"浙江",fujian:"福建",guangdong:"广东",guangxi:"广西",guizhou:"贵州",yunnan:"云南",hainan:"海南",neimenggu:"内蒙古",xinjiang:"新疆",ningxia:"宁夏",xizang:"西藏",xianggang:"香港",aomen:"澳门",taiwan:"台湾"},f={arts:"文科",science:"理科"},J=null,b="",w="",y=!1,j=!1,k=null,S="",_="",x=!1,C=!1,T=null,z="",E="",N="",B=!1,I=!1,D=!1;window.collegeTableNum=0,window.collegeTableScroll=[];var O=function(e){var o=v(this),t=v(this).attr("href").indexOf("/view/")>-1,a=v(this).attr("href").indexOf("/subview/")>-1,n=v(this).attr("href").indexOf("/item/")>-1;(t||a||n)&&(e.preventDefault(),F.use("chain",function(t){t(o,e)}))};o.init=function(e,o){window.collegeTableNum=0,window.collegeTableScroll=[],"plan"===o?J={}:"score"===o?k={}:"colleges"===o&&(T={}),t(e,o);var a=v("#J-lemma");a.on("click","#J-plan-container a",O),a.on("click","#J-score-container a",O),a.on("click","#J-college-container a",O),n()},window.callback_plan=function(e){J=e.majorPlans,l(),r(b,w),document.getElementById("script_plan")&&document.body.removeChild(document.getElementById("script_plan"))},window.callback_score=function(e){e=e.data[0],k=e.totalScores,c(),s(S,_),document.getElementById("script_score")&&document.body.removeChild(document.getElementById("script_score"))},window.callback_colleges=function(e){T=e.collegeList,d(),h(z,E,N),document.getElementById("script_colleges")&&document.body.removeChild(document.getElementById("script_colleges"))},o.show=function(){J&&v("#J-plan-container").show(),k&&v("#J-score-container").show(),T&&v("#J-college-container").show()}});
;/*!wiki-m-lemma:widget/content-n/otherContent/lemmaScore/lemmaScore.js*/
define("wiki-m-lemma:widget/content-n/otherContent/lemmaScore/lemmaScore",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog","wiki-m-common:widget/util/cookie","wiki-m-common:widget/component/crossdomain/crossdomain"],function(e,a){var o=e("wiki-m-common:widget/lib/zepto/zepto"),s=e("wiki-m-common:widget/util/nslog"),t=e("wiki-m-common:widget/util/cookie"),l=e("wiki-m-common:widget/component/crossdomain/crossdomain");a.init=function(){function e(){0===o(".reason-item.checked").length&&0===o.trim(m.val()).length?n.addClass("disabled"):n.removeClass("disabled")}function a(e){s.qAll("20014708",["lemmaId="+u,"lemmaTitle="+h]),o(".score-fail-desc").text(e),o(".score-handle").addClass("disabled"),o("#J-score-fail").show()}var i=o(".score-reason-box"),n=o("#J-score-submit"),m=o("#J-reason-textarea"),c=o(".score-reason-list .reason-item"),r=5,d="",u=o("#J-vars").attr("data-newLemmaId"),h=o("#J-vars").attr("data-lemmaTitle");o("#J-other-content").on("toggleShow",function(){var e=new Date,a=e.getDate();s.qAll("20014701",["lemmaId="+u,"lemmaTitle="+h,"day="+a,"tpl=m"])}),o(".score-handle-box em").on("tap",function(){s.qAll("20014702",["lemmaId="+u,"lemmaTitle="+h]);var a=o(this);i.hide(),o(".score-handle-box .layout-icons_solid-star").addClass("layout-icons_border-star").removeClass("layout-icons_solid-star"),a.addClass("layout-icons_solid-star").removeClass("layout-icons_border-star").prevAll().addClass("layout-icons_solid-star").removeClass("layout-icons_border-star"),r=a.data("star"),d=a.data("desc"),o(".score-handle-desc").text(d),3>=r?(s.qAll("20014703",["lemmaId="+u,"lemmaTitle="+h]),i.show(),e()):n.removeClass("disabled")}),c.on("tap",function(){var a=o(this);a.hasClass("checked")?a.removeClass("checked"):a.addClass("checked"),e()}),m.on("input propertychange",function(){e()}),n.on("tap",function(){if(!n.hasClass("disabled")){s.qAll("20014705",["lemmaId="+u,"lemmaTitle="+h]),n.addClass("disabled");var e="lemmaId="+o("#J-vars").data("newlemmaid")+"&score="+r;3>=r&&(c.each(function(a){var s=o(this);s.hasClass("checked")&&(e+="&reason"+ ++a+"=1")}),o.trim(m.val()).length>0&&(e+="&customReason="+m.val().replace(/\n/g,"<br>").replace("/s/g","&nbsp;")),s.qAll("20014704",["lemmaId="+u,"lemmaTitle="+h])),o.ajax({type:"GET",url:page.baseUrl+"/api/wapui/submitlemmascore?"+e,dataType:"json",success:function(e){switch(e.errno){case 0:case 3:for(var i="",n=0;r>n;n++)i+='<em class="layout-icons layout-icons_solid-star"></em>';o(".score-result-box").html(i),o(".score-result-desc").text(d),o(".score-success").show(),o(".score-handle").remove();var m="lemmascore_"+o("#J-vars").data("newlemmaid");try{var c=new l("wapbaike.baidu.com","//wapbaike.baidu.com/sfproxy.html");c.cookie.set(m,"done",{expires:2592e6}).catch(function(){t.write(m,"done",720,location.host)});var w=new l("baike.baidu.com","//baike.baidu.com/sfproxy.html");w.cookie.set(m,"done",{expires:2592e6}).catch(function(){t.write(m,"done",720,location.host)})}catch(p){t.write(m,"done",720,location.host)}s.qAll("20014706",["lemmaId="+u,"lemmaTitle="+h]);break;case 1:a("您提交频率太快，请稍后重新提交哦~");break;case 2:a("您已经为本词条打过分了哦~");break;default:a("系统错误，请稍后重新提交哦~")}},error:function(){a("系统错误，请稍后重新提交哦~")}})}}).on("touchstart",function(e){e.preventDefault()}),o("#J-score-close").on("tap",function(){o(".lemma-score-margin").remove(),o(".lemma-score").remove(),s.qAll("20014707",["lemmaId="+u,"lemmaTitle="+h])}).on("touchstart",function(e){e.preventDefault()}),o("#J-score-fail-close").on("tap",function(){o("#J-score-fail").hide(),n.removeClass("disabled"),o(".score-handle").removeClass("disabled"),s.qAll("20014709",["lemmaId="+u,"lemmaTitle="+h])}).on("touchstart",function(e){e.preventDefault()})}});
;/*!wiki-m-lemma:widget/content-n/otherContent/reference/reference.js*/
define("wiki-m-lemma:widget/content-n/otherContent/reference/reference",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto"],function(e,o){var n=e("wiki-m-common:widget/lib/zepto/zepto");o.init=function(){var e=!1;n("#J-reference-unfold").tap(function(){if(e){n(".reference-hide").hide(),n("#J-reference-unfold em").removeClass("layout-icons_up-arrow").addClass("layout-icons_down-arrow"),e=!1;var o=n("#J-reference").offset().top-40;n(window).scrollTop()>o&&window.scrollTo(0,o)}else n(".reference-hide").show(),n("#J-reference-unfold em").removeClass("layout-icons_down-arrow").addClass("layout-icons_up-arrow"),e=!0}),n("#J-reference-unfold").on("touchstart",function(e){e.preventDefault()})}});
;/*!wiki-m-lemma:widget/additionalContent-n/arCaller/arCaller.js*/
define("wiki-m-lemma:widget/additionalContent-n/arCaller/arCaller",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog","wiki-m-common:widget/util/baidubox"],function(i,o){function e(i){a.q2("20015002"),Box.os.ios?location.href="baiduboxapp://imagesearch?action=ar_invoke&arValue="+JSON.stringify(i):Box.android.invokeApp("Bdbox_android_send_intent","send",["intent:widgetid://com.baidu.searchbox/-1#Intent;action=com.baidu.searchbox.action.ar_invoke;category=android.intent.category.LAUNCHER;component=com.baidu.searchbox/.CodeScannerActivity;launchFlags=0x10000000;S.arValue="+JSON.stringify(i)+";end"])}var t=i("wiki-m-common:widget/lib/zepto/zepto"),a=i("wiki-m-common:widget/util/nslog");i("wiki-m-common:widget/util/baidubox"),o.init=function(i){function o(){p=!0,d.animate({width:m},{easing:"ease",duration:"slow",complete:function(){var i=800;setTimeout(function(){u.addClass("ar-caller-icon-flip")},i),setTimeout(function(){s.fadeIn()},i+1e3)}}),l.off(".arCallerBody")}function n(){"block"===t("#J-audio-control").css("display")&&t("#J-audio-close").trigger("tap"),"block"===t("#J-music-playing").css("display")&&t("#J-music-close").trigger("tap")}var r=i.baiduAr||{},c={ar_key:r.ar_key||"0",ar_type:r.ar_type||"0",ar_from:r.ar_from||"0"},l=t("body"),d=t("#ar_caller"),u=t("#ar_caller_cover"),s=t("#ar_caller_closer"),m=40,p=!0,f=d.width();d.width(m).css("visibility","visible"),a.q2("20015001"),setTimeout(function(){p=!1,d.animate({width:f},{easing:"ease",duration:"slow",complete:function(){var i=0;l.on("touchstart.arCallerBody",function(o){i=o.touches[0].pageY}),l.on("touchmove.arCallerBody",function(e){var t=e.touches[0].pageY-i;-10>t&&!p&&o()}),setTimeout(function(){!p&&o()},5e3)}})},1e3),d.on("click",function(i){e(c),n(),i.preventDefault(),i.stopPropagation()}),s.on("click",function(i){d.remove(),a.q2("20015003"),i.preventDefault(),i.stopPropagation()})}});
;/*!wiki-m-lemma:widget/additionalContent-n/catalog/catalog.js*/
define("wiki-m-lemma:widget/additionalContent-n/catalog/catalog",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/component/baikeAppLetter/letter"],function(t,o,e){function i(t,o){"person"===t?(r="person",n.trigger("catalogComing",[o.personalCatalog])):(r="baike",n.trigger("catalogComing",[o.catalog]))}var a=t("wiki-m-common:widget/lib/zepto/zepto"),n=t("wiki-m-common:widget/component/baikeAppLetter/letter"),r="baike";e.exports={init:function(t){var o=a("#J-catalog-content").find("li"),e=a("#J-personal-catalog-content").find("li");n.on("goCatalog",function(t){"baike"===r?o.filter('[data-anchor="'+t+'"]').trigger("tap"):e.filter('[data-anchor="'+t+'"]').trigger("tap")}),n.on("baikeTabChanged",function(o){i(o,t)}),t.personalCatalog?i("person",t):i("baike",t)}}});
;/*!wiki-m-lemma:widget/additionalContent-n/catalogBuilding/catalogBuilding.js*/
define("wiki-m-lemma:widget/additionalContent-n/catalogBuilding/catalogBuilding",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/component/baikeAppLetter/letter"],function(t,i,o){var e=t("wiki-m-common:widget/lib/zepto/zepto"),n=t("wiki-m-common:widget/component/baikeAppLetter/letter");o.exports={init:function(t){var i=e("#J-catalog-content").find("li");n.trigger("catalogComing",[t.catalog]),n.on("goCatalog",function(t){i.filter('[data-anchor="'+t+'"]').trigger("tap")})}}});
;/*!wiki-m-lemma:widget/additionalContent-n/catalogEnterprise/catalogEnterprise.js*/
define("wiki-m-lemma:widget/additionalContent-n/catalogEnterprise/catalogEnterprise",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/component/baikeAppLetter/letter"],function(t,e,i){var o=t("wiki-m-common:widget/lib/zepto/zepto"),n=t("wiki-m-common:widget/component/baikeAppLetter/letter");i.exports={init:function(t){var e=o("#J-catalog-content").find("li");n.trigger("catalogComing",[t.catalog]),n.on("goCatalog",function(t){e.filter('[data-anchor="'+t+'"]').trigger("tap")})}}});
;/*!wiki-m-lemma:widget/additionalContent-n/floatAd/faviewStyle.js*/
define("wiki-m-lemma:widget/additionalContent-n/floatAd/faviewStyle",["require","exports","module"],function(e,t,i){var o={"#J-floatAd":{display:"-webkit-box",display:"-moz-box",display:"-webkit-flex",display:"flex","-webkit-align-items":"center","-moz-align-items":"center","-webkit-box-align":"center","align-items":"center",position:"fixed",bottom:"0","z-index":"999",width:"100%",height:"0.5rem",background:"rgba(0,0,0,0.7)"},"#J-floatAd img":{"margin-left":"0.2rem",display:"block",width:"0.32rem",height:"0.32rem"},"#J-floatAd .title":{"-webkit-box-flex":"1","-moz-box-flex":"1","-webkit-flex":"1",flex:"1","font-size":"0.15rem",color:"#fff","line-height":"0.2rem","max-height":"0.4rem",overflow:"hidden","margin-left":"0.1rem"},"#J-floatAd .btn":{width:"0.75rem",height:"0.28rem","border-radius":"2px","line-height":"0.28rem","text-align":"center","font-size":"0.13rem",color:"#fff",display:"block",background:"#2c74ea","margin-right":"0.01rem"},"#J-floatAd .close-con":{width:"0.4rem",height:"0.4rem","line-height":"0.4rem",top:"4px",right:"4px",display:"block","text-align":"center"},"#J-floatAd .layout-icons_close":{"font-size":"0.12rem",color:"#a6a6a6","margin-right":"0.06rem","font-family":"baikeFont_layout","font-weight":"normal","font-style":"normal"},"#J-floatAd .layout-icons_close:before":{content:"'\\e603'"}};i.exports=o});
;/*!wiki-m-lemma:widget/additionalContent-n/goSearch/goSearch.js*/
define("wiki-m-lemma:widget/additionalContent-n/goSearch/goSearch",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog"],function(o,e){var i=o("wiki-m-common:widget/lib/zepto/zepto"),t=o("wiki-m-common:widget/util/nslog");e.init=function(o){if(o.smallFlow){var e=window.navigator.userAgent;t.qAll("20014101",["se="+o.se,"browser="+e]);var n,r,l=!1,s=i("#J-go-baidu-search");s.on("touchstart",function(o){l=!0,n=parseInt(s.offset().top-i(window).scrollTop(),10),r=o.touches[0].pageY}),s.on("touchmove",function(o){var e=n+o.touches[0].pageY-r;return 0>e?e=0:e>i(window).height()-32&&(e=i(window).height()-32),l?(s.offset({top:e,left:0}),!1):void 0}),s.on("touchend",function(){l=!1}),s.on("click",function(){t.qAll("20014105",["se="+o.se,"browser="+e]),window.location.href=i(this).data("href")})}else t.qAll("20014201",["se="+o.se,"browser="+e])}});
;/*!wiki-m-lemma:widget/header-n/headerbar/headerbar.js*/
define("wiki-m-lemma:widget/header-n/headerbar/headerbar",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/lib/sug/suggestion","wiki-m-common:widget/lib/quickdel/quickdelete","wiki-m-lemma:widget/additionalContent-n/promotion/mix","wiki-m-common:widget/lib/iscroll/iscroll.min","wiki-m-common:widget/util/nslog","wiki-m-common:widget/component/ufoFeedback/ufoFeedback","wiki-m-common:widget/util/baidubox","ralltiir","wiki-m-common:widget/component/sf/sf","wiki-m-lemma:widget/tools/dialog/dialog","wiki-m-lemma:widget/tools/help/help"],function(o,e){var i=o("wiki-m-common:widget/lib/zepto/zepto"),n=o("wiki-m-common:widget/lib/sug/suggestion");o("wiki-m-common:widget/lib/quickdel/quickdelete");var t=o("wiki-m-lemma:widget/additionalContent-n/promotion/mix"),a=o("wiki-m-common:widget/lib/iscroll/iscroll.min"),s=o("wiki-m-common:widget/util/nslog"),r=o("wiki-m-common:widget/component/ufoFeedback/ufoFeedback");o("wiki-m-common:widget/util/baidubox");var c=o("ralltiir"),l=o("wiki-m-common:widget/component/sf/sf"),d=(o("wiki-m-lemma:widget/tools/dialog/dialog"),o("wiki-m-lemma:widget/tools/help/help"));window.callbackLogin=function(o){0===o&&window.location.reload()},e.init=function(o){d.storage.set("BASEINFO",{lemmaDesc:o.lemmaDesc,lemmaId:o.lemmaId,lemmaTitle:o.lemmaTitle,versionId:o.versionId});var e=new l,p=!1,u=!1,m=e.$view.find(".rt-head"),h=i("#topbar");n.init({historyAjaxHost:page.baseUrl}),window.bkBdboxPluginVersion=function(o){o>=29&&(p=!0,i("#J-voice-search").css("display","block"))},Box.isBox&&Box.isAndroid&&(Box.version_compare(Box.version,"7.7")>=0?(u=!0,i("#J-voice-search").css("display","block")):Box.version_compare(Box.version,"7.3")>=0&&Box.android.invokeApp("Bdbox_android_plugin","getInstalledPluginVersion",[JSON.stringify({package_name:"com.baidu.speechbundle"}),"bkBdboxPluginVersion"])),Box.isBox&&Box.isIOS&&Box.version_compare(Box.version,"8.1")>=0&&(p=!0,i("#J-voice-search").css("display","block")),o.isLogin&&i.get(page.baseUrl+"/api/usercenter/login?msg=1&_="+Math.random(),function(o){o&&o.msgStatus&&o.msgStatus.passedVersion.num+o.msgStatus.failedVersion.num+o.msgStatus.deletedVersion.num>0&&i(".user-img, #J-more-icon").addClass("hasMsg")}),i("#J-more-icon").click(function(){i(this).removeClass("hasMsg"),h.find(".more").show(),h.find(".layer").css({display:"block",background:"none"}),s.q("moreIconClick")}),i("#J-login, #J-more-logout").on("touchstart",function(o){o.preventDefault()}),m.on("touchstart","#topbar .active",function(){var o=i(this);o.css("background","#ededed"),"J-login"===o.attr("id")&&i(".more-arrow").css("background","#ededed"),setTimeout(function(){o.css("background","none"),"J-login"===o.attr("id")&&i(".more-arrow").css("background","#ffffff")},200)}),m.on("tap","#J-login",function(){s.q("loginBtnClick"),i("#J-more-login").css("background","none"),i(".more-arrow").css("background","#ffffff"),d.handleLogin()}),m.on("tap","#J-more-logout",function(){s.q("logoutBtnClick");var o=window.location.href;location.href="https://wappass.baidu.com/passport/logout?tpl=wk&u="+o}),i("#J-share-icon").on("tap",function(){i(".layer").hide(),i(".more").hide(),s.qArray("shareBtnClick",["newLemmaId="+i("#J-vars").data("newlemmaid")])}).on("touchstart",function(o){o.preventDefault()}),i("#J-layer").on("touchstart",function(o){o.preventDefault(),i(".more").hide(),i("#J-goWallet-tip").hide(),i("#J-net-tip").hide(),i(this).hide()});var g,w=i("#J-catalog-button-fixed"),b=i("#J-tashuo-button-fixed"),f=!0,k=!0,v=!1;i("#J-search-icon").on("click",function(){g=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,i(".personal-wrapper").length>0?(i(".content-tab").css("display","none"),i(".personal-wrapper").hasClass("hide")?(i(".BK-body-wrapper").addClass("hide"),v=!1):(i(".personal-wrapper").addClass("hide"),v=!0)):i(".BK-body-wrapper").hide(),w.hide(),b.hide(),i("#J-h5-icon").css("display","none"),i("#J-h5-tips").css("display","none");var o=i("#ar_caller");o.length>0&&o.hide(),i("#tashuo_float_view_el").hide();var e=i("#"+t.getKey("J-floatAd"));e&&("none"!==e.css("display")?e.hide():f=!1);var n=i("#"+t.getKey("J-topAd"));n&&("none"!==n.css("display")?n.hide():k=!1),i(".search-con").show(),window.scrollTo(0,0),i("#J-ipt-search").focus(),s.q("serachIconClick"),(p||u)&&s.qAll("20005001")}),i("#J-search-cancel").on("tap",function(){i("#J-ipt-search").blur(),i(".personal-wrapper").length>0?(i(".content-tab").css("display","block"),v?i(".personal-wrapper").removeClass("hide"):i(".BK-body-wrapper").removeClass("hide")):i(".BK-body-wrapper").css("display","block"),w.show(),b.show(),i("#J-h5-icon").css("display",""),i("#tashuo_float_view_el").show(),window.scrollTo(0,g),i(".search-con").hide();var o=i("#ar_caller");o.length>0&&o.show(),f&&i("#"+t.getKey("J-floatAd")).show(),k&&i("#"+t.getKey("J-topAd")).show()}).on("touchstart",function(o){o.preventDefault()});var J=i(document.topForm),y=!1;J.on("submit",function(o){var n=page.baseUrl||"";y||(i.ajax({type:"GET",url:n+"/api/searchui/searchword?"+J.serialize(),data:{ajax:1},cache:!1,success:function(o){var o=o,i=o.url.replace(/.+?baidu\.com/g,"");"lemma"===o.page?(i+=i.indexOf("?")>-1?"&timestamp="+(new Date).getTime():"?timestamp="+(new Date).getTime(),c.action.redirect(e.inWise?e.wiseBasePath+i:i)):location.href=o.url},error:function(){y=!0,J.submit()}}),o.preventDefault(),o.stopPropagation())}),i("#J-ipt-search").focus(function(){var o=i(this),e=(o.val(),i(".ui-suggestion-button")),n=i(".ui-suggestion-content"),t=i("#J-voice-search");i(".ui-quickdelete-button").css("visibility","hidden"),i("#J-ipt-search").on("input",function(){""===i.trim(o.val())?((p||u)&&t.css("display","block"),e.show(),n.css("border-bottom","none")):((p||u)&&t.css("display","none"),e.hide(),n.css("border-bottom","1px solid #cccccc"))}),i(".ui-quickdelete-button").on("tap",function(){(p||u)&&t.css("display","block"),e.show(),n.css("border-bottom","none")}).on("touchstart",function(o){o.preventDefault()})}).suggestion({source:"https://gsp0.baidu.com/8qUZeT8a2gU2pMbgoY3K/su",param:"prod=baike&ie=utf-8",offset:{x:-20},shareName:"ui-suggestion-2",isSharing:!0,width:i("#topForm-search").width()+i("#topForm-search-input").width()+92,usePlus:!0,submit:function(){J.submit(),i("#J-ipt-search").blur(),i(".personal-wrapper").length>0?(i(".content-tab").css("display","block"),v?i(".personal-wrapper").removeClass("hide"):i(".BK-body-wrapper").removeClass("hide")):i(".BK-body-wrapper").css("display","block"),w.show(),b.show(),i("#J-h5-icon").css("display",""),window.scrollTo(0,g),i(".search-con").hide();var o=i("#ar_caller");o.length>0&&o.show(),f&&i("#"+t.getKey("J-floatAd")).show(),k&&i("#"+t.getKey("J-topAd")).show()},open:function(){var o="#searchConDiv .ui-suggestion-content";new a(o,{scrollX:!1,scrollY:!0,preventDefault:!1})},leave:function(){i("#J-ipt-search").blur(),i(".personal-wrapper").length>0?(i(".content-tab").css("display","block"),v?i(".personal-wrapper").removeClass("hide"):i(".BK-body-wrapper").removeClass("hide")):i(".BK-body-wrapper").css("display","block"),w.show(),b.show(),i("#J-h5-icon").css("display",""),window.scrollTo(0,g),i(".search-con").hide();var o=i("#ar_caller");o.length>0&&o.show(),f&&i("#"+t.getKey("J-floatAd")).show(),k&&i("#"+t.getKey("J-topAd")).show()}}).quickdelete(),m.on("tap",".ui-suggestion-plus",function(){i(".ui-suggestion-button").hide(),i(".ui-suggestion-content").css("border-bottom","1px solid #cccccc")}),m.on("touchstart",".ui-suggestion-content",function(o){i(o.target).hasClass("ui-suggestion-plus")||i("#J-ipt-search").blur(),o.preventDefault()}),window.bkBoxVSearchComplete=function(o,e,i){"1"===o&&"1"===e&&(window.location.href="/search?word="+encodeURIComponent(i)+"&bk_fr=lemma")},window.bkBdboxVioceEcho=function(o){o.data.indexOf("result=")>-1&&(s.qAll("20005003"),window.location.href="/search?word="+encodeURIComponent(o.data.split("result=")[1])+"&bk_fr=lemma")},i("#J-voice-search").on("tap",function(){if(p||u)if(s.qAll("20005002"),i("#J-ipt-search").blur(),Box.isAndroid){voice_params={source_app:"6|6.8",referer:window.location.href,"User-Agent":"",COOKIE:"",show_voiceUI:"1",voiceSource:"baike"},plugin_options={package_name:"com.baidu.speechbundle",params:JSON.stringify(voice_params),website_url:"https://m.baidu.com",method_name:"startRecognition",from:"web:search",use_new_window:"1"};var o={callback:"bkBdboxVioceEcho",listeners:["bkBdboxVioceEcho"]};u?Box.android.invokeApp("Bdbox_android_utils","startVoice",[JSON.stringify(voice_params),"bkBdboxVioceEcho"]):p&&Box.android.invokeApp("Bdbox_android_plugin","invokePlugin",[JSON.stringify(plugin_options),JSON.stringify(o)])}else args=["source_app=6|6.8","referer="+window.location.href,"show_voiceUI=1","method_name=startRecognition","voiceSource=baike"].join("&"),voice_params={plugin_id:"box.plugin.voicesearch",url:"args="+encodeURIComponent(args)},plugin_options={action:"open",params:encodeURIComponent(JSON.stringify(voice_params)),minver:"6.5.0.0",func:"bkBoxVSearchComplete"},Box.ios.invokeApp("invokePlug",plugin_options,"")}).on("touchstart",function(o){o.preventDefault()}),i("#J-logo").click(function(){s.q("logoClick")}),i("#J-more-feedback").click(function(){s.q("feedbackTopClick");var o=r.getUrl();window.location.href=o}),i(".topbar #J-more-login").length>0&&o.isLogin&&i(".topbar #J-more-login").on("tap",function(){s.qAll(20013087)}),i(".topbar #J-more-login").length>0&&!o.isLogin&&i(".topbar #J-more-login").on("tap",function(){s.qAll(20013085)}),i(".topbar").length>0&&s.qAll(20013001),i(".topbar .topbar-tashuo").length>0&&i(".topbar .topbar-tashuo").on("tap",function(){s.qAll(20013002)}),i(".topbar #J-logo").length>0&&i(".topbar #J-logo").on("tap",function(){s.qAll(20013003)}),i(".topbar #J-search-icon").length>0&&i(".topbar #J-search-icon").on("tap",function(){s.qAll(20013004)}),i(".topbar #J-more-icon").length>0&&i(".topbar #J-more-icon").on("tap",function(){s.qAll(20013005)}),i(".topbar .more").length>0&&(s.qAll(20013006),i(".topbar .more").on("tap",function(){s.qAll(20013007)})),i(".topbar #J-share-icon").length>0&&i(".topbar #J-share-icon").on("tap",function(){s.qAll(20013091)})}});
;/*!wiki-m-lemma:widget/header-n/spTopbar/spTopbar.js*/
define("wiki-m-lemma:widget/header-n/spTopbar/spTopbar",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog","wiki-m-lemma:widget/additionalContent-n/promotion/mix","wiki-m-common:widget/lib/sug/suggestion","wiki-m-common:widget/lib/iscroll/iscroll.min","wiki-m-lemma:widget/tools/help/help","wiki-m-common:widget/lib/quickdel/quickdelete","wiki-m-common:widget/util/baidubox","wiki-m-common:widget/component/ufoFeedback/ufoFeedback","wiki-m-common:widget/component/swan/swanUtil"],function(e,o){function i(e,o){var i,t,n,s,a=0,c=function(){a=new Date,n=null,s=e.apply(i,t)};return function(){var r=new Date,l=o-(r-a);return i=this,t=arguments,0>=l?(clearTimeout(n),n=null,a=r,s=e.apply(i,t)):n||(n=setTimeout(c,l)),s}}var t=e("wiki-m-common:widget/lib/zepto/zepto"),n=e("wiki-m-common:widget/util/nslog"),s=e("wiki-m-lemma:widget/additionalContent-n/promotion/mix"),a=e("wiki-m-common:widget/lib/sug/suggestion"),c=e("wiki-m-common:widget/lib/iscroll/iscroll.min"),r=e("wiki-m-lemma:widget/tools/help/help");e("wiki-m-common:widget/lib/quickdel/quickdelete"),e("wiki-m-common:widget/util/baidubox");var l=e("wiki-m-common:widget/component/ufoFeedback/ufoFeedback"),p=e("wiki-m-common:widget/component/swan/swanUtil");o.init=function(e){function o(){b.hide(),f.hide()}function u(){B=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,t(".personal-wrapper").length>0?(t(".content-tab").css("display","none"),t(".personal-wrapper").hasClass("hide")?(t(".BK-body-wrapper").addClass("hide"),U=!1):(t(".personal-wrapper").addClass("hide"),U=!0)):t(".BK-body-wrapper").hide(),D.hide(),A.hide(),t("#J-h5-icon").css("display","none"),t("#J-h5-tips").css("display","none");var e=t("#ar_caller");e.length>0&&e.hide(),t("#tashuo_float_view_el").hide();var o=t("#"+s.getKey("J-floatAd"));o&&("none"!==o.css("display")?o.hide():q=!1);var i=t("#"+s.getKey("J-topAd"));i&&("none"!==i.css("display")?i.hide():I=!1),window.scrollTo(0,0),v.show(),t("#J-sp-ipt-search").focus(),n.q("serachIconClick"),(_||x)&&n.qAll("20005001")}function d(e){t("#J-sp-ipt-search").blur(),t(".personal-wrapper").length>0?(t(".content-tab").css("display","block"),U?t(".personal-wrapper").removeClass("hide"):t(".BK-body-wrapper").removeClass("hide")):t(".BK-body-wrapper").css("display","block"),D.show(),A.show(),t("#J-h5-icon").css("display",""),t("#tashuo_float_view_el").show(),!e&&window.scrollTo(0,B);var o=t("#ar_caller");o.length>0&&o.show(),q&&t("#"+s.getKey("J-floatAd")).show(),I&&t("#"+s.getKey("J-topAd")).show(),v.hide()}r.storage.set("BASEINFO",{lemmaDesc:e.lemmaDesc,lemmaId:e.lemmaId,lemmaTitle:e.lemmaTitle,versionId:e.versionId});var m=t(window),g=t("#J-lemma"),h=t("#spTopbar"),w=t("#J-sp-more-icon"),f=t("#J-sp-layer"),b=t("#spTopbar_more"),k=t("#J-sp-search-cancel"),v=t("#spSearchCon"),_=!1,x=!1;a.init({historyAjaxHost:page.baseUrl});var y=200,J=m.scrollTop(),C=function(){h.css("position","fixed"),g.trigger("spTopbarStateChange","fixed")},T=function(){var e=m.scrollTop();e>=J?(h.css("position","absolute"),g.trigger("spTopbarStateChange","absolute")):C(),J=e},S=i(T,y);m.on("scroll",function(){S()}),e.isLogin&&t.get(page.baseUrl+"/api/usercenter/login?msg=1&_="+Math.random(),function(e){e&&e.msgStatus&&e.msgStatus.passedVersion.num+e.msgStatus.failedVersion.num+e.msgStatus.deletedVersion.num>0&&(h.find(".sp-user-img").addClass("hasMsg"),w.addClass("hasMsg"))}),g.on("click","#J-login",function(e){n.q("loginBtnClick"),p.inSmartprogram&&(e.preventDefault(),e.stopPropagation()),location.href=t(this).data("href")}),w.click(function(){d(!0),t("#J-sp-ipt-search").val(""),v.find(".ui-suggestion").hide(),t(this).removeClass("hasMsg"),b.toggle(),f.css({display:"block",background:"none",top:m.scrollTop()+"px",height:m.height()+"px"})}),l({el:"#sfTopbar_feedback"}),f.on("touchstart",function(e){e.preventDefault(),o()});var B,D=t("#J-catalog-button-fixed"),A=t("#J-tashuo-button-fixed"),q=!0,I=!0,U=!1;t("#spSearchConMin").on("click",function(){u()}),k.on("tap",function(){d(),t("#J-sp-ipt-search").val(""),v.find(".ui-suggestion").hide(),setTimeout(function(){C()},y+1)}).on("touchstart",function(e){e.preventDefault()});var O=t(document.topForm),V=!1;O.on("submit",function(e){var o=page.baseUrl||"";V||(t.ajax({type:"GET",url:o+"/api/searchui/searchword?"+O.serialize(),data:{ajax:1},cache:!1,success:function(e){var e=e,o=e.url.replace(/.+?baidu\.com/g,"");d(),"lemma"===e.page?(o+=o.indexOf("?")>-1?"&timestamp="+(new Date).getTime():"?timestamp="+(new Date).getTime(),p.navigateTo("/pages/white/white",o)):location.href=e.url},error:function(){V=!0,O.submit()}}),e.preventDefault(),e.stopPropagation())}),t("#J-sp-ipt-search").focus(function(){var e=t(this),i=(e.val(),t(".ui-suggestion-button")),n=t(".ui-suggestion-content"),s=t("#J-voice-search");o(),u(),t(".ui-quickdelete-button").css("visibility","hidden"),t("#J-sp-ipt-search").on("input",function(){""===t.trim(e.val())?((_||x)&&s.css("display","block"),i.show(),n.css("border-bottom","none")):((_||x)&&s.css("display","none"),i.hide(),n.css("border-bottom","1px solid #cccccc"))}),t(".ui-quickdelete-button").on("tap",function(){(_||x)&&s.css("display","block"),i.show(),n.css("border-bottom","none")}).on("touchstart",function(e){e.preventDefault()})}).suggestion({source:"https://gsp0.baidu.com/8qUZeT8a2gU2pMbgoY3K/su",param:"prod=baike&ie=utf-8",offset:{x:-20},shareName:"ui-suggestion-2",isSharing:!0,width:v.width()+93,usePlus:!0,submit:function(){O.submit(),d()},open:function(){var e="#spSearchConDiv .ui-suggestion-content";new c(e,{scrollX:!1,scrollY:!0,preventDefault:!1})},leave:function(){d()}}).quickdelete(),g.on("tap",".ui-suggestion-plus",function(){t(".ui-suggestion-button").hide(),t(".ui-suggestion-content").css("border-bottom","1px solid #cccccc")}),g.on("touchstart",".ui-suggestion-content",function(e){t(e.target).hasClass("ui-suggestion-plus")||t("#J-ipt-search").blur(),e.preventDefault()}),window.bkBoxVSearchComplete=function(e,o,i){"1"===e&&"1"===o&&(window.location.href="/search?word="+encodeURIComponent(i)+"&bk_fr=lemma")},window.bkBdboxVioceEcho=function(e){e.data.indexOf("result=")>-1&&(n.qAll("20005003"),window.location.href="/search?word="+encodeURIComponent(e.data.split("result=")[1])+"&bk_fr=lemma")},t("#J-sp-voice-search").on("tap",function(){if(_||x)if(n.qAll("20005002"),t("#J-sp-ipt-search").blur(),Box.isAndroid){voice_params={source_app:"6|6.8",referer:window.location.href,"User-Agent":"",COOKIE:"",show_voiceUI:"1",voiceSource:"baike"},plugin_options={package_name:"com.baidu.speechbundle",params:JSON.stringify(voice_params),website_url:"https://m.baidu.com",method_name:"startRecognition",from:"web:search",use_new_window:"1"};var e={callback:"bkBdboxVioceEcho",listeners:["bkBdboxVioceEcho"]};x?Box.android.invokeApp("Bdbox_android_utils","startVoice",[JSON.stringify(voice_params),"bkBdboxVioceEcho"]):_&&Box.android.invokeApp("Bdbox_android_plugin","invokePlugin",[JSON.stringify(plugin_options),JSON.stringify(e)])}else args=["source_app=6|6.8","referer="+window.location.href,"show_voiceUI=1","method_name=startRecognition","voiceSource=baike"].join("&"),voice_params={plugin_id:"box.plugin.voicesearch",url:"args="+encodeURIComponent(args)},plugin_options={action:"open",params:encodeURIComponent(JSON.stringify(voice_params)),minver:"6.5.0.0",func:"bkBoxVSearchComplete"},Box.ios.invokeApp("invokePlug",plugin_options,"")}).on("touchstart",function(e){e.preventDefault()})}});
;/*!wiki-m-lemma:widget/header-n/topbar/topbar.js*/
define("wiki-m-lemma:widget/header-n/topbar/topbar",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog"],function(t,o){var i=t("wiki-m-common:widget/lib/zepto/zepto"),n=t("wiki-m-common:widget/util/nslog");o.init=function(){var t=i("#J-catalog-button-fixed"),o=i("#J-tashuo-button-fixed");o.length>0&&(n.qAll("20013604"),o.on("tap",function(){n.qAll("20013605")}),t.on("tap",function(){n.qAll("20013606")})),i(".catalog-button-fixed").length>0&&i(".catalog-button-fixed").on("tap",function(){n.qAll(20013015)})}});
;/*!wiki-m-lemma:widget/afterContent-n/baijiahao/baijiahao.js*/
define("wiki-m-lemma:widget/afterContent-n/baijiahao/baijiahao",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog","wiki-m-common:widget/component/swan/swanUtil"],function(i,o){var n=i("wiki-m-common:widget/lib/zepto/zepto"),t=i("wiki-m-common:widget/util/nslog"),e=i("wiki-m-common:widget/component/swan/swanUtil");o.init=function(){n(".BK-after-content-wrapper").on("toggleShow",function(){t.qAll("20013701")}),n(".star-baijiahao").on("click",function(){t.qAll("20013702"),e.inSmartprogram||(window.location.href=n(this).data("href"))})}});
;/*!wiki-m-lemma:widget/afterContent-n/bottomAd/bottomAdStyle.js*/
define("wiki-m-lemma:widget/afterContent-n/bottomAd/bottomAdStyle",["require","exports","module"],function(e,t,i){var o={".pdirect-txt":{height:"100%",overflow:"hidden","padding-top":"0.08rem",background:"#f5f5f5"},".pdirect-txt li":{"line-height":"0.45rem",position:"relative",height:"0.45rem","background-color":"#fff","border-bottom":"1px solid #eee","font-size":"0.12rem"},".pdirect-txt li a":{width:"100%",height:"0.45rem","line-height":"0.45rem",display:"none","text-align":"center","-webkit-transition":"-webkit-transform 3s ease-out","box-sizing":"border-box",padding:"0 0.1rem","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"},".pdirect-txt li a .icon":{width:"0.35rem",height:"0.2rem","line-height":"0.2rem",display:"inline-block",color:"#ff6600","font-size":"11px","text-align":"center",overflow:"hidden",border:"1px solid #ff6600","border-radius":"2px","margin-top":"0.12rem","white-space":"nowrap"},".pdirect-txt li a:first-child":{display:"block",position:"absolute",left:"0",top:"0"},".pdirect-txt li a .text":{"margin-left":"0.08rem","font-size":"0.13rem","margin-top":"-0.12rem",color:"#333333",height:"0.2rem","line-height":"0.2rem",display:"inline-block","text-align":"center",overflow:"hidden","border-radius":"2px","margin-top":"0.12rem"},".bottom-image":{overflow:"hidden","max-height":"0.8rem",position:"relative","padding-top":"0.08rem",background:"#f5f5f5"},".yx-bottom-image":{"padding-top":"0"}};i.exports=o});
;/*!wiki-m-lemma:widget/afterContent-n/bottomAd/bottomAd.js*/
define("wiki-m-lemma:widget/afterContent-n/bottomAd/bottomAd",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog","wiki-m-lemma:widget/afterContent-n/bottomAd/bottomAdStyle","wiki-m-lemma:widget/additionalContent-n/promotion/mix","wiki-m-common:widget/component/testElem/testElem","wiki-m-common:widget/component/swan/swanUtil"],function(t,e,a){var i=t("wiki-m-common:widget/lib/zepto/zepto"),n=t("wiki-m-common:widget/util/nslog"),o=t("wiki-m-lemma:widget/afterContent-n/bottomAd/bottomAdStyle"),m=t("wiki-m-lemma:widget/additionalContent-n/promotion/mix"),d=t("wiki-m-common:widget/component/testElem/testElem"),r=t("wiki-m-common:widget/component/swan/swanUtil"),l=function(t){var e=0,a=i("#J-vars").attr("data-newLemmaId");if(t.textAd){var l=t.textAd,c='<ul class="pdirect-txt" id="J-textAd">';c+="<li>";for(var s in l)c+='<a href="'+l[s].url+'" target="_blank" data-num="'+l[s].adId+'">',l[s].tag&&""!==l[s].tag&&(c+='<span class="icon">'+l[s].tag+"</span>"),c+='<span class="text">'+l[s].text+"</span></a>";c+="</li></ul>",m.mixedStyle(o),i("#J-attach-bottom-text").after(m.mixedHtml(c)),i("#J-attach-bottom-text").remove();var g=i(window).width(),w=function(t){i("a",t).each(function(){var t=i(this).index();i(this).css({"-webkit-transform":"translate3d("+(t-1)*g+"px,0,0)"})}),setTimeout(function(){var e=i("a",t).length;i(i("a",t)[0]).each(function(){i(this).remove(),i(this).css({"-webkit-transform":"translate3d("+(e-1)*g+"px,0,0)"}),t.append(i(this))})},2e3)},p=function(){i(".BK-after-content-wrapper").on("toggleShow",function(){var t=i("."+m.getKey("pdirect-txt")).eq(e).find("li");t.find("a").each(function(){var t=i(this).index(),e=t*g+"px,0,0";i(this).css({"-webkit-transform":"translate3d("+e+")",display:"block"}),i(this).on("click",function(){n.qAll("30000602",["newLemmaId="+a,"adId="+i(this).attr("data-num")])}),n.qAll("30000601",["newLemmaId="+a,"adId="+i(this).attr("data-num")])}),t.each(function(){var t=i(this);i("a",t).length>1&&setTimeout(function(){w(t),setInterval(function(){w(t)},5e3)},3e3)}),r.inSmartprogram&&t.find("a").each(function(t){i(this).removeAttr("onclick").on("click",function(e){e.preventDefault(),e.stopPropagation(),r.navigateTo("/pages/dark/dark",l[t].url)})}),e++})};p(),setTimeout(function(){var t={};t["mobile-lemma-text-ad"]=i("#"+m.getKey("J-textAd"))[0],d.log(t,"adPrevent","mobile-lemma")},1e3)}if(t.imageAd){var f=t.imageAd,c='<div class="bottom-image" id="J-imageAd"><a data-num="'+f.adId+'" ';c+='href="'+f.url+'" target="_blank"></a></div>',o&&(o[".bottom-image a"]=o[".bottom-image a"]||{},o[".bottom-image a"]["adapt-img"]=f.picUrl),m.mixedStyle(o),i("#J-attach-bottom-image").after(m.mixedHtml(c)),i("#J-attach-bottom-image").remove(),i(".BK-after-content-wrapper").on("toggleShow",function(){n.qAll("30000603",["newLemmaId="+a,"adId="+f.adId])}),i("#"+m.getKey("J-imageAd")+" a").on("click",function(){n.qAll("30000604",["newLemmaId="+a,"adId="+i(this).attr("data-num")])}),setTimeout(function(){var t={};t["mobile-lemma-image-ad"]=i("#"+m.getKey("J-imageAd"))[0],d.log(t,"adPrevent","mobile-lemma");var e=i("#"+m.getKey("J-imageAd")+" a");(e.length<=0||"none"===e.css("display"))&&i("#"+m.getKey("J-imageAd")).css("padding-top","0")},1e3),r.inSmartprogram&&i("#"+m.getKey("J-imageAd")+" a").removeAttr("onclick").on("click",function(t){t.preventDefault(),t.stopPropagation(),r.navigateTo("/pages/dark/dark",f.url)})}};a.exports=l});
;/*!wiki-m-lemma:widget/afterContent-n/relativeShop/relativeShop.js*/
define("wiki-m-lemma:widget/afterContent-n/relativeShop/relativeShop",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/cookie","wiki-m-common:widget/lib/jsmart/jsmart","wiki-m-common:widget/util/nslog","wiki-m-lemma:widget/tools/bkclick/bkclick.es"],function(e,i){var t=e("wiki-m-common:widget/lib/zepto/zepto"),a=(e("wiki-m-common:widget/util/cookie"),e("wiki-m-common:widget/lib/jsmart/jsmart")),n=e("wiki-m-common:widget/util/nslog"),s=e("wiki-m-lemma:widget/tools/bkclick/bkclick.es"),o=new a('{%foreach $items as $index=>$item%}\n<div class="item">\n<a href="{%$item.link|f_escape_xml%}" class="J-name">\n<div class="name">\n{%if $item.title%}{%$item.title|f_escape_xml%}{%/if%}\n</div>\n</a>\n<div class="shop-content">\n<div class="shop-desc {%if $item.STATIC_DOWNLOAD_APP || $item.STATIC_TELEPHONE%} shop-desc-size-limit{%/if%}">\n<div>\n{%if $item.desc%}<a href="{%$item.link|f_escape_xml%}" class="J-link">{%$item.desc|f_escape_xml%}</a>{%/if%}\n</div>\n</div>\n{%if $item.STATIC_DOWNLOAD_APP%}\n<a href="{%$item.STATIC_DOWNLOAD_APP.link|f_escape_xml%}" class="shop-action shop-action-download J-app" href="#"><i></i>下载</a>\n{%elseif $item.STATIC_TELEPHONE%}\n<a class="shop-action shop-action-phone J-phone" href="{%$item.STATIC_TELEPHONE.link|f_escape_xml%}"><i></i>拨打</a>\n{%/if%}\n</div>\n<div class="company-name">{%if $item.company_name%}<strong><a href="{%$item.link|f_escape_xml%}" class="J-link">{%$item.company_name|f_escape_xml%}</a></strong>{%/if%}{%if $item.vIcon%}<i class="v-icons v-icons-{%$item.vIcon|f_escape_xml%}"></i>{%/if%}{%if $item.authTimeStr%}<span><i></i>{%$item.authTimeStr|f_escape_xml%}</span>{%/if%}</div>\n</div>\n{%/foreach%}\n');i.init=function(e){var i={init:function(e){var i=this;this.config=e,this.$el=t("#relative_shop_flow"),this.$items=this.$el.find(".J-items");var a=e.adManager||{};return location.search.indexOf("fcescapecapture=1")>-1?t(".BK-after-content-wrapper").on("toggleShow",function(){i.getData()}):void("undefined"!=typeof a.wapRelatedBusiness&&t(".BK-after-content-wrapper").on("toggleShow",function(){i.getData()}))},getData:function(){var e=this,i="201";s.bklog("wap_relatedbusiness_request"),t.ajax({url:page.baseUrl+"/api/wapui/getrelatedbusiness",type:"GET",dataType:"json",data:{word:this.config.lemmaTitle,platform:this.getPlatformType(),url:[location.protocol,"//",location.host,location.pathname].join(""),eid:i},success:function(i){s.bklog("wap_relatedbusiness_success");var t=i||{},a=t.relatedBusiness||{};0===a.err_no&&a.ad_place_list&&a.ad_place_list.length>0&&a.ad_place_list[0].ad_num>0&&e.processData(a.ad_place_list[0])},error:function(){s.bklog("wap_relatedbusiness_fail")}})},getPlatformType:function(){var e=navigator.userAgent;return/android/i.test(e)?2:/iPhone|iPad|iPod|iOS/i.test(e)?1:3},processData:function(e){var i='<script type="text/javascript">'+e.ad_place_js+"</script>",a="";try{a=t.parseJSON(e.ad_place_data)}catch(o){}var e=a?a.json||{}:{};e.item&&e.item.length>0&&(t(i).appendTo("body"),this.buildViewData(e.item),this.processView(),n.q2("20016000"),s.bklog("wap_relatedbusiness_view"))},buildViewData:function(e){var i=[],a=[],n=35;t.each(e,function(e,t){if(3===e)return!1;if(t.desc&&t.desc.length>n&&(t.desc=t.desc.slice(0,n)+"..."),t.value0?t.vIcon="vp":t.value2&&(t.vIcon="vp"+t.value2),t.authTime){var s=new Date("January 1, 2012").getTime(),o=new Date(t.authTime).getTime(),c=((new Date).getTime()-Math.max(s,o))/864e5/365,l=Math.floor(c);l>0&&(t.authTimeStr=l+"年认证")}t[2001]||t[2027]?(t.STATIC_TELEPHONE=t[2001]||t[2027],i.push(t)):t[2028]||t[2002]?(t.STATIC_DOWNLOAD_APP=t[2028]||t[2002],i.push(t)):t[2009]?(t.STATIC_DOWNLOAD_URL=t[2009],i.push(t)):a.push(t)}),this.data=i.concat(a)},processView:function(){this.$items.html(o.fetch({items:this.data})),this.$el.show(),this.bindEvents()},bindEvents:function(){var e=this;this.$items.on("click",".J-name,.J-app,.J-link,.J-phone",function(){n.q2("20016100"),s.bklog("wap_relatedbusiness_click"),t(this).prop("href",e.processLink(t(this).prop("href")))})},processLink:function(e){return window.ecom&&window.ecom.wise&&window.ecom.wise.ck&&window.ecom.wise.ck.addCkOnUrl?window.ecom.wise.ck.addCkOnUrl(e):e}};i.init(e||{})}});
;/*!wiki-m-lemma:widget/beforeContent-n/flower/flower.js*/
define("wiki-m-lemma:widget/beforeContent-n/flower/flower",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog","wiki-m-common:widget/component/baikeAppLetter/letter","wiki-m-common:widget/util/baidubox"],function(e,o,l){var t=e("wiki-m-common:widget/lib/zepto/zepto"),i=e("wiki-m-common:widget/util/nslog"),n=e("wiki-m-common:widget/component/baikeAppLetter/letter");e("wiki-m-common:widget/util/baidubox");var r=function(e){function o(){var o=page.baseUrl||"",n=o+"/api/starflower/wapstarflowerrank?lemmaid="+e.lemmaid,r=null,a="",s=!1;t.ajax({type:"get",url:n,dataType:"json",success:function(o){r=o,t("#J-flower #J-rank").text("NO."+r.rank),t("#J-flower #J-flower-num").text(r.score),t("#J-flower #J-flower-num2").text(r.score),1===r.user.isLogin?(0===r.leftFlowers?t("#J-flower #J-send").addClass("gray"):r.leftFlowers>0&&r.leftFlowers<=999?(t("#J-flower #J-rest-num").text(r.leftFlowers),t("#J-flower #J-rest-num").show()):r.leftFlowers>999&&(t("#J-flower #J-rest-num").text("999+"),t("#J-flower #J-rest-num").show()),t("#J-flower #J-rankName").css("display","block")):(a=window.location.href.indexOf("?")>-1?window.location.href.substr(0,window.location.href.indexOf("?")):window.location.href,t("#J-flower #J-flower-login").css("display","inline-block"),t("#J-flower #J-send").addClass("gray")),t("#J-flower #J-flower-login #J-loginLink").click(function(){i.q("flowerLoginClick"),l(a,e.baikeAppData)});var n=page.baseUrl+"/api/starflower/wapstarflowervote?lemmaid="+e.lemmaid+"&tk="+r.tk;t("#J-flower #J-send").click(function(){return 0===r.user.isLogin?(i.q("sendFlowerToLoginClick"),void l(a,e.baikeAppData)):void(s||(s=!0,r.leftFlowers>0?t.ajax({type:"get",url:n,dataType:"json",success:function(e){return 6===e.errno?(t("#J-fast-tip").show(),void setTimeout(function(){t("#J-fast-tip").hide(),s=!1},3e3)):4===e.errno?(r.leftFlowers=0,t("#J-flower #J-send").addClass("gray"),t("#J-flower #J-rest-num").hide(),void(e.showWalletBindTips?(t("#J-goWallet-link").attr("href",e.walletBindUrl),t("#J-goWallet-tip").show(),t(".layer").css({display:"block",background:"none"})):(t("#J-noflower-tip").show(),setTimeout(function(){t("#J-noflower-tip").hide(),s=!1},3e3)))):void(e.errno>0||(i.q("sendFlowerSuccess"),r.leftFlowers=e.leftFlowers,t(".num-ani1").length>0?(t(".num-ani1").text(e.weekScore),t("#J-flower-num2").text(e.weekScore),t(".num-ani1").addClass("num-temp"),t(".num-ani2").attr("class","num-ani1"),t(".num-temp").attr("class","num-ani2")):(t("#J-flower-num1").text(e.weekScore),t("#J-flower-num2").text(e.weekScore),t("#J-flower-num").attr("class","num-ani1"),t("#J-flower-num1").attr("class","num-ani2")),t("#J-flower #J-rank").html("NO."+e.rank),0===e.leftFlowers?(t("#J-flower #J-send").addClass("gray"),t("#J-flower #J-rest-num").hide(),e.showWalletBindTips?(t("#J-goWallet-link").attr("href",e.walletBindUrl),t("#J-goWallet-tip").show(),t(".layer").css({display:"block",background:"none"})):(t("#J-noflower-tip").show(),setTimeout(function(){t("#J-noflower-tip").hide(),s=!1},3e3))):(e.leftFlowers>0&&e.leftFlowers<=999?(t("#J-flower #J-rest-num").text(e.leftFlowers),t("#J-flower #J-rest-num").show()):e.leftFlowers>999&&(t("#J-flower #J-rest-num").text("999+"),t("#J-flower #J-rest-num").show()),s=!1)))}}):r.showWalletBindTips||(t("#J-noflower-tip").show(),setTimeout(function(){t("#J-noflower-tip").hide(),s=!1},3e3)),r.showWalletBindTips&&(t("#J-goWallet-link").attr("href",r.walletBindUrl),t("#J-goWallet-tip").show(),t(".layer").css({display:"block",background:"none"}),s=!1)))})}})}function l(e,o){var o=o||{};if(o.webkit)return void n.trigger("login");if(Box.isBox&&Box.version_compare(Box.version,"8.0")>=0&&Box.isAndroid)Box.android.invokeApp("Bdbox_android_account","loginDialog",[JSON.stringify({third_login:1,tpl:""}),"callbackLogin"]);else if(Box.isBox&&Box.version_compare(Box.version,"8.0")>=0&&Box.isIOS){var l={tpl:"bdbox",func:"callbackLogin",third_login:"1"};Box.ios.invokeApp("account",{action:"logindialog",params:JSON.stringify(l),minver:"5.5.0.0"})}else e="https://wappass.baidu.com/passport/login?tpl=wk&authsite=1&u="+e,window.location.href=e}t("#J-goWallet-tip-close").tap(function(){t("#J-goWallet-tip").hide(),t(".layer").hide()}).on("touchstart",function(e){e.preventDefault()}),window.callbackLogin=function(e){0===e&&window.location.reload()},o(),t(".flower").length>0&&i.qAll(20013026),t(".flower #J-send").length>0&&t(".flower #J-send").tap(function(){i.qAll(20013027)})};l.exports=r});
;/*!wiki-m-lemma:widget/beforeContent-n/lemmaAudio/lemmaAudio.js*/
define("wiki-m-lemma:widget/beforeContent-n/lemmaAudio/lemmaAudio",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog","wiki-m-common:widget/component/baikeAppLetter/letter","wiki-m-common:widget/component/sf/sf","wiki-m-common:widget/component/swan/swanUtil","wiki-m-common:widget/util/baidubox"],function(o,a){var t=o("wiki-m-common:widget/lib/zepto/zepto"),i=o("wiki-m-common:widget/util/nslog"),e=o("wiki-m-common:widget/component/baikeAppLetter/letter"),n=o("wiki-m-common:widget/component/sf/sf"),l=o("wiki-m-common:widget/component/swan/swanUtil"),s="current-voice-play-item";o("wiki-m-common:widget/util/baidubox"),a.init=function(o){function a(){t.each(O,function(o,a){var i=L[a],e=i.arrVoice;e&&e.length>0&&t.each(e,function(o,t){t.voice&&t.voice.length>0&&W.push({module:"content",title:i.name,headerName:a,pid:t.pid,voice:t.voice})})})}function u(){var a=o.tashuo||[];t.each(a,function(o,a){a.arrVoice&&a.arrVoice.length>0&&W.push({module:"tashuo",title:a.name,headerName:"TA说-"+o,pid:"ta-"+o,voice:[a.arrVoice]})})}function d(){K=0;var o=W[V];v(),t("#J-audio-sound").attr("src",c(o.voice[K])),t("#J-audio-sound")[0].play(),t("#J-audio-stop").removeClass("layout-icons_audio-play").addClass("layout-icons_audio-stop"),q(),g(),"none"===H.css("display")&&(i.qAll("20004420"),i.qAll("20013024"),H.css("display","block"),I=!0),C(o.title),_()}function c(o){return"https://tts.baidu.com/text2audio?tex="+encodeURIComponent(o)+"&cuid=baike&lan=ZH&ctp=1&pdt=301&vol=9&rate=32&per=106"}function r(o){var a=0;if(o)a=V===W.length-1?0:V+1;else{var t=0,i=W[V].headerName;for(t=V;t<W.length;t++){var e=W[t].headerName;if(-1===e.indexOf("module-common")&&e!==i){a=t;break}}t===W.length&&(a=0)}return a}function m(o){if(o)return 0===V?W.length-1:V-1;var a=W[V].headerName,t=0,i="";for(t=V;t>-1;t--){var e=W[t].headerName;if(-1===e.indexOf("module-common")&&e!==a){i=W[t].headerName;break}}return p(i?i:W[W.length-1].headerName)}function p(o){for(var a=0;a<W.length;a++)if(W[a].headerName===o)return a;return-1}function f(o){for(var a=0;a<W.length;a++)if(W[a].pid===o)return a;return-1}function h(){t("#J-audio-sound").attr("id","J-old-sound"),t("#J-next-sound").attr("id","J-audio-sound"),t("#J-old-sound").attr("id","J-next-sound");var o=W[V];K<o.voice.length-1?K++:(V===W.length-1?V=0:V++,K=0),o=W[V],setTimeout(function(){t("#J-audio-sound")[0].play()},0),C(o.title),v(),z||(M=!1),_()}function v(){var o=V,a=K,i=W[V];K<i.voice.length-1?a++:(V===W.length-1?o=0:o++,a=0);var e=W[o];t("#J-next-sound").attr("src",c(e.voice[a])),t("#J-next-sound")[0].load()}function y(o){o.removeClass("layout-icons_new-sound1").addClass("layout-icons_new-sound0"),setTimeout(function(){o.removeClass("layout-icons_new-sound0").addClass("layout-icons_new-sound2")},600),setTimeout(function(){o.removeClass("layout-icons_new-sound2").addClass("layout-icons_new-sound1")},1e3)}function g(){P||(e.trigger("lemmaAudioStatusChanged",["play"]),y(H.find(".audio-icon").find("em")),P=setInterval(function(){y(H.find(".audio-icon").find("em"))},1400))}function w(){P&&(clearInterval(P),P=void 0)}function C(o){function a(){e.offsetWidth-n.scrollLeft<=0?n.scrollLeft-=i.offsetWidth:n.scrollLeft+=1}var i=t(".scroll-begin")[0],e=t(".scroll-end")[0],n=t("#J-audio-name")[0];i.innerHTML=o,e.innerHTML="",clearInterval(R),t(".scroll-begin").width()>t("#J-audio-name").width()&&(R=setInterval(a,50),e.innerHTML=i.innerHTML)}function _(){var o=W[V];T.find("."+s).removeClass(s);var a=null;("summary"===o.module||"card"===o.module)&&(a=N.find('[data-pid="'+o.pid+'"]')),"content"===o.module&&(a=B.find('[data-pid="'+o.pid+'"]')),"tashuo"===o.module&&(a=S.find('[data-pid="'+o.pid+'"]')),"timeLine"===o.module&&(a=D.find('[data-pid="'+o.pid+'"]')),a&&a.length>0&&(a.addClass(s),M&&(M=!1,setTimeout(function(){var o=a.offset().top;J(o-100)})))}function J(o){window.scrollTo&&window.scrollTo(0,o)}function A(){T.find("."+s).removeClass(s)}function q(){"block"===t("#J-music-playing").css("display")&&t("#J-music-close").trigger("tap")}function b(o){var a=f(o);a>-1&&a!==V&&(V=a,M=!1,d(),i.qAll("20004435"))}function k(){t("#J-audio-close").trigger("tap")}{var o=o||{},L=o.content||{},x=new n,T=t("#J-lemma"),N=(t("#header_wrapper"),t("#BK_before_content_wrapper")),B=t("#BK_content_wrapper"),S=t("#tashuo_list"),D=t("#J-other-content"),H=t("#J-audio-control"),I=!1,M=!1,z=!1,V=0,K=0,U=t("#voicePlus_module_names").val().split(","),O=t("#voicePlus_content_module_names").val().split(",");t(window).height()}i.qAll("20004406");var P,R,W=[];t.each(U,function(i,e){"summary"===e?t.each(o.summary,function(o,a){a.voice&&a.voice.length>0&&W.push({module:e,title:"百科名片",headerName:"lemma_title"===a.pid?"lemmaTitle":e,pid:a.pid,voice:a.voice})}):"card"===e?o.card&&o.card.length>0&&W.push({module:e,title:"百科名片",headerName:e,pid:"p-"+e,voice:o.card}):"content"===e?a():"tashuo"===e?u():"timeLine"===e&&o.timeLine&&o.timeLine.length>0&&W.push({module:e,title:o.timeLine?o.timeLine[0]:"时间轴",headerName:e,pid:"p-"+e,voice:o.timeLine})});var Y,j;T.on("touchstart",".audio-play",function(o){Y=o.touches[0].pageY,j=0}),T.on("touchmove",".audio-play",function(o){j=o.touches[0].pageY-Y}),T.on("touchend",".audio-play",function(){if(!(Math.abs(j)>0)){i.qAll("20004407");var o=t(this);y(o.find("em")),o.hasClass("lemma-audio-play")?(i.qAll("20004419"),V=0):V=p(o.data("index")),d(),Box&&Box.isBox&&(location.href="baiduboxapp://v18/tts/end")}}),T.on("tap",".part-audio-play",function(){var o=t(this),a=o.data("title");"主要作品"===a?i.qAll("20004413"):"角色介绍"===a?i.qAll("20004415"):"分集剧情"===a?i.qAll("20004417"):o.hasClass("series-part-audio")?i.qAll("20004418"):"综艺节目"===a?i.qAll("20004421"):"杂志写真"===a?i.qAll("20004422"):"获奖记录"===a?i.qAll("20004423"):o.hasClass("rongyujilu-part-audio")?i.qAll("20004424"):"参演电影"===a?i.qAll("20004425"):"参演电视剧"===a&&i.qAll("20004426")}),T.on("tap",".module-audio-play",function(){var o=t(this);o.hasClass("time-line-audio")?i.qAll("20004428"):o.hasClass("single-image-audio")?i.qAll("20004430"):o.hasClass("multi-image-audio")?i.qAll("20004432"):o.hasClass("tashuo-audio")&&i.qAll("20004434")});var E=!1,Z=null;t(".audio-sound").on("ended",function(){E=!0,h()}),t(".audio-sound").on("pause",function(){clearTimeout(Z),Z=setTimeout(function(){if(E)E=!1;else{var o=t("#J-audio-stop");o.hasClass("layout-icons_audio-stop")&&(o.removeClass("layout-icons_audio-stop").addClass("layout-icons_audio-play"),w())}},100)}),t(".audio-sound").on("play",function(){var o=t("#J-audio-stop");o.hasClass("layout-icons_audio-play")&&(o.removeClass("layout-icons_audio-play").addClass("layout-icons_audio-stop"),g())}),t("#J-audio-stop").tap(function(){i.qAll("20004410");var o=t(this);o.hasClass("layout-icons_audio-stop")?(o.removeClass("layout-icons_audio-stop").addClass("layout-icons_audio-play"),t("#J-audio-sound")[0].pause(),w(),e.trigger("lemmaAudioStatusChanged",["stop"])):o.hasClass("layout-icons_audio-play")&&(o.removeClass("layout-icons_audio-play").addClass("layout-icons_audio-stop"),t("#J-audio-sound")[0].play(),g())}).on("touchstart",function(o){o.preventDefault()}),t("#J-audio-next").tap(function(){i.qAll("20004409");var o=r();V=o,K=0;var a=W[V];t("#J-audio-sound").attr("src",c(a.voice[0])),t("#J-audio-sound")[0].play(),t("#J-audio-stop").removeClass("layout-icons_audio-play").addClass("layout-icons_audio-stop"),C(a.title),v(),g(),M=!1,_()}).on("touchstart",function(o){o.preventDefault()}),t("#J-audio-prev").tap(function(){i.qAll("20004408");var o=m();V=o,K=0;var a=W[V];t("#J-audio-sound").attr("src",c(a.voice[0])),t("#J-audio-sound")[0].play(),t("#J-audio-stop").removeClass("layout-icons_audio-play").addClass("layout-icons_audio-stop"),C(a.title),v(),g(),M=!1,_()}).on("touchstart",function(o){o.preventDefault()}),t("#J-audio-close").tap(function(){I&&(i.qAll("20004411"),i.qAll("20013025"),H.hide(),I=!1,t("#J-audio-stop").removeClass("layout-icons_audio-stop").addClass("layout-icons_audio-play"),t("#J-audio-sound")[0].pause(),w(),e.trigger("lemmaAudioStatusChanged",["stop"]),A())}).on("touchstart",function(o){o.preventDefault()});B.children(".BK-main-content").on("mainContentLoadedAndRendered",function(){z=!1,I&&_()});var $=t("#J-audio-stop");if(e.on("switchLemmaAudioStatus",function(o){o?($.removeClass("layout-icons_audio-play").addClass("layout-icons_audio-stop"),t("#J-audio-sound")[0].play(),g()):($.removeClass("layout-icons_audio-stop").addClass("layout-icons_audio-play"),t("#J-audio-sound")[0].pause(),w())}),T.on("click",function(o){var a=o.target,i=t(a);if(I)if(i.attr("data-pid"))b(i.attr("data-pid"));else for(;"a"!==a.nodeName.toLowerCase()&&a.parentNode&&!i.hasClass("J-lemma")&&!i.hasClass("layout-icons");)a=a.parentNode,i=t(a),i.attr("data-pid")&&b(i.attr("data-pid"))}),t(".audio-play").length>0&&t(".audio-play").tap(function(){i.qAll(20013023)}),x.$view[0].addEventListener("rt.willDetach",function(){k()}),T.on("tap",".J-inlink-img",function(o){var a=t(o.target).closest(".J-inlink-img");a.find(".chain-con-play-icon").length>0&&a.find(".chain-con-logo").length>0&&k()}),l.inSmartprogram){var F=t("#spTopbar_wrapper").height();T.on("spTopbarStateChange",function(o,a){var t=0;"fixed"===a&&(t=F),H.css("top",t+"px")})}}});
;/*!wiki-m-lemma:widget/beforeContent-n/medicine/medicine.js*/
define("wiki-m-lemma:widget/beforeContent-n/medicine/medicine",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog"],function(e,i){var n=e("wiki-m-common:widget/lib/zepto/zepto"),t=e("wiki-m-common:widget/util/nslog");i.init=function(e){var i=n("#J-vars").attr("data-newLemmaId"),e=e||{},m=n("#J-medicine"),o=n("#J-medicine-btn"),d=navigator.userAgent;e.btnUrl?(m.show(),t.qArray("medicineShow",["newLemmaId="+i])):e.btnIOSUrl&&/(iPhone|iPad|iPod|iOS)/i.test(d)?(o.attr("href",decodeURIComponent(e.btnIOSUrl)),m.show(),t.qArray("medicineShow",["newLemmaId="+i])):e.btnAndroidUrl&&/(Android)/i.test(d)&&(o.attr("href",decodeURIComponent(e.btnAndroidUrl)),m.show(),t.qArray("medicineShow",["newLemmaId="+i])),o.click(function(){t.qArray("medicineBtnClick",["newLemmaId="+i]),t.qAll(20005601,["newLemmaId="+i])}),n(".medicine").length>0&&t.qAll(20013038),n(".medicine .medicine-btn").length>0&&n(".medicine .medicine-btn").tap(function(){t.qAll(20013039)})}});
;/*!wiki-m-lemma:widget/beforeContent-n/news/news.js*/
define("wiki-m-lemma:widget/beforeContent-n/news/news",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog","wiki-m-common:widget/lib/iscroll/iscroll.min"],function(i,t,s){var e=i("wiki-m-common:widget/lib/zepto/zepto"),h=i("wiki-m-common:widget/util/nslog"),n=i("wiki-m-common:widget/lib/iscroll/iscroll.min"),a={init:function(i,t){var s=this;this.param=t||{},this.$el=e("#news_card"),this.$items=this.$el.find(".J-items"),this.$itemsEl=this.$el.find(".J-items-el"),this.$item=this.$el.find(".J-item"),this.$shushuoImg=this.$el.find(".shushuo-img"),this.$newsInner=this.$el.find(".news-card-item-inner"),this.items=i||[],this.initView(),this.setTitleAndContentHeight(),this.param.wapStar&&this.$el.find(".J-spliter").show(),this.$el.css("visibility","visible"),this.$el.find(".J-ellipsis").addClass("news-text-ellipsis"),this.$items.on("click","a",function(){s.param.isHotTitle?(h.q2("20001308"),e(this).hasClass("shushuo-news-link")&&h.q2("20001310")):(h.q("newsDetailClick"),e(this).hasClass("shushuo-news-link")&&h.q2("20001309"))}),this.param.isHotTitle?(h.q2("20001306"),h.q2("20001307"),this.$item.eq(0).hasClass("shushuo-news")&&h.q2("20001312")):(h.q2("20001301"),h.q2("20001305"),this.$item.eq(0).hasClass("shushuo-news")&&h.q2("20001311"))},initView:function(){var i=this;if(this.winWidth=e(window).width(),this.itemMarginRight=parseInt(this.$item.css("margin-right"),10),this.itemsMarginLeft=parseInt(this.$items.css("margin-left"),10),this.shareDistance=68,1===this.items.length){var t=this.winWidth-2*this.itemsMarginLeft;this.$item.width(t),this.$item.hasClass("shushuo-news")?(this.$shushuoImg.height(27*t/47),this.$newsInner.height(27*t/47+26)):this.$newsInner.height(27*t/47)}else if(this.items.length>1){var s=this.itemsMarginLeft-this.itemMarginRight;this.itemWidth=282*(this.winWidth-this.itemsMarginLeft-this.itemMarginRight)/391,this.$itemsEl.width((this.itemWidth+this.itemMarginRight)*this.items.length+s),this.$item.width(this.itemWidth),this.$item.last().css("margin-right",this.itemsMarginLeft),this.itemsWidth=this.winWidth-this.itemsMarginLeft,this.$items.width(this.itemsWidth),this.$shushuoImg.height(27*this.itemWidth/47),this.$newsInner.height(27*this.itemWidth/47+26);var a=new n("#news_card_items",{scrollX:!0,scrollY:!1,preventDefault:!1}),m=0,l=0;this.$item.on("touchstart",function(i){m=i.touches[0].pageX,l=i.touches[0].pageY}),this.$item.on("touchmove",function(i){var t=i.touches[0].pageX-m,s=i.touches[0].pageY-l;Math.abs(t)>Math.abs(s)&&i.preventDefault()});var r=0;a.on("scrollEnd",function(){var t=i.getNewsIndex(this.x);t!==r&&(r=t,i.param.isHotTitle?(h.q2("20001307"),i.$item.eq(t).hasClass("shushuo-news")&&h.q2("20001312")):(h.q2("20001305"),i.$item.eq(t).hasClass("shushuo-news")&&h.q2("20001311")))})}},setTitleAndContentHeight:function(){var i=this;this.$item.each(function(){var t=e(this),s=t.find(".J-title"),h=t.find(".J-title-inner"),n=t.find(".J-brief"),a=s.height(),m=n.height();h.height()>a?s.height(2*a):h.addClass("news-card-item-title-one"),m=i.$newsInner.height()-s.height()-60,42>m?(m=28,n.addClass("news-card-brief-one")):m>=42&&68>m?(m=42,n.addClass("news-card-brief-two")):m>=68&&90>m?(m=68,n.addClass("news-card-brief-three")):m>=90&&120>m?m=94:m>=115&&(m=115,n.addClass("news-card-brief-five")),n.height(m)})},getNewsIndex:function(i){var t=Math.abs(i)+this.itemsWidth,s=this.itemWidth,e=parseInt(t/s,10);return e-1}};s.exports={init:function(i,t){a.init(i,t)}}});
;/*!wiki-m-lemma:widget/beforeContent-n/pinzhuanAd/pinzhuanAd.js*/
define("wiki-m-lemma:widget/beforeContent-n/pinzhuanAd/pinzhuanAd",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/component/videoPlayer/videoPlayer","wiki-m-common:widget/component/sf/sf"],function(i,n){var o=i("wiki-m-common:widget/lib/zepto/zepto"),e=i("wiki-m-common:widget/component/videoPlayer/videoPlayer"),t=i("wiki-m-common:widget/component/sf/sf");n.init=function(){function i(){s.hide(),e.stop(),f.hide()}function n(){window.location.hash="pinzhuanAd-"+a,s.show(),f.show(),e.init("pinzhuanAd_video_player",a),f.css("top",Math.round(.5*(o(window).height()-.75*o(window).width()))).css("display","block")}var c=new t,d=o("#J-layer"),a=o("#pinzhuanAd_el").data("mediaid"),h=o("#pinzhuanAd_net_tip"),s=o("#pinzhuanAd_mask_layer"),f=o("#pinzhuanAd_video");h.find(".J-cancel-video").click(function(){d.hide(),h.hide()}),h.find(".J-go-video").click(function(){d.hide(),h.hide(),n()}),d.off("touchstart").on("touchstart",function(i){i.preventDefault(),h.hide(),d.hide()}),o("#pinzhuanAd_player_button").off("click").on("click",function(){o.ajax({type:"get",url:page.baseUrl+"/api/common/getadaptinfo",dataType:"json",success:function(i){0===i.net||1===i.net?n():(d.css("display","block").css("background","#000"),h.show())},error:function(){n()}})}),s.find(".J-close").off("click").on("click",function(){i()}),o(window).on("orientationchange",function(){(!c.inSf||c.isActive())&&e.fullScreen(90===Math.abs(window.orientation)?!0:!1)}),o(window).on("hashchange",function(){if(!c.inSf||c.isActive()){var n=window.location.hash;n&&"#"!==n&&/#pinzhuanAd/.test(n)||i()}})}});
;/*!wiki-m-lemma:widget/beforeContent-n/singleVideo/singleVideo.js*/
define("wiki-m-lemma:widget/beforeContent-n/singleVideo/singleVideo",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog"],function(e,a){var i=e("wiki-m-common:widget/lib/zepto/zepto"),o=e("wiki-m-common:widget/util/nslog");a.init=function(){o.qArray("singleVideoShow",["newLemmaId="+i("#J-vars").attr("data-newLemmaId")]),i("#J-single-video-fold").on("tap",function(){i("#J-single-video-des").hasClass("ellipsis")?(o.qArray("singleVideoUnfold",["newLemmaId="+i("#J-vars").attr("data-newLemmaId")]),i("#J-single-video-des").removeClass("ellipsis"),i("#J-single-video-fold em").removeClass("layout-icons_down-arrow").addClass("layout-icons_up-arrow")):(o.qArray("singleVideoFold",["newLemmaId="+i("#J-vars").attr("data-newLemmaId")]),i("#J-single-video-des").addClass("ellipsis"),i("#J-single-video-fold em").removeClass("layout-icons_up-arrow").addClass("layout-icons_down-arrow"))}).on("touchstart",function(e){e.preventDefault()}),i("#J-relate-video").on("tap",function(){i("#J-relate-video-list").hasClass("hide")?(o.qArray("relateVideoUnfold",["newLemmaId="+i("#J-vars").attr("data-newLemmaId")]),i("#J-relate-video-list").removeClass("hide"),i("#J-relate-video em").removeClass("layout-icons_down-arrow").addClass("layout-icons_up-arrow"),i("#J-first-item-link").addClass("bottom-line")):(o.qArray("relateVideoFold",["newLemmaId="+i("#J-vars").attr("data-newLemmaId")]),i("#J-relate-video-list").addClass("hide"),i("#J-relate-video em").removeClass("layout-icons_up-arrow").addClass("layout-icons_down-arrow"),i("#J-first-item-link").removeClass("bottom-line"))}).on("touchstart",function(e){e.preventDefault()}),i("#J-single-video").click(function(){o.qArray("singleVideoClick",["newLemmaId="+i("#J-vars").attr("data-newLemmaId")]),o.qAll(20005602,["newLemmaId="+i("#J-vars").attr("data-newLemmaId")])}),i("#J-first-item-link").click(function(){o.qAll(20005603,["newLemmaId="+i("#J-vars").attr("data-newLemmaId")])}),i(".item-link").click(function(){var e=i(this).attr("data-index");o.qArray("relateVideoClick",["newLemmaId="+i("#J-vars").attr("data-newLemmaId"),"index="+e])})}});
;/*!wiki-m-lemma:widget/beforeContent-n/topAttach/topAttachStyle.js*/
define("wiki-m-lemma:widget/beforeContent-n/topAttach/topAttachStyle",["require","exports","module"],function(t,e,o){var i={".top-all":{overflow:"hidden","max-height":"0.8rem","margin-bottom":"0.02rem",position:"relative"},".top-all img":{width:"100%"},".top-all .close-con":{width:"0.4rem",height:"0.4rem",position:"absolute",top:"50%","margin-top":"-0.2rem",right:"4px",display:"block","text-align":"center"},".top-all .layout-icons_close":{display:"block","font-size":"0.12rem",color:"rgba(0,0,0,0.6)","margin-right":"0.06rem","font-family":"baikeFont_layout","font-weight":"normal","font-style":"normal",width:"0.24rem",height:"0.24rem",margin:"0.08rem","line-height":"0.24rem",background:"rgba(255,255,255,0.4)","border-radius":"50%"},".top-all .layout-icons_close:before":{content:"'\\e603'"}};o.exports=i});
;/*!wiki-m-lemma:widget/beforeContent-n/topAttach/topAttach.js*/
define("wiki-m-lemma:widget/beforeContent-n/topAttach/topAttach",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog","wiki-m-lemma:widget/beforeContent-n/topAttach/topAttachStyle","wiki-m-lemma:widget/additionalContent-n/promotion/mix","wiki-m-common:widget/component/testElem/testElem","wiki-m-common:widget/util/cookie","wiki-m-common:widget/component/crossdomain/crossdomain"],function(e,t,o){var a=e("wiki-m-common:widget/lib/zepto/zepto"),i=e("wiki-m-common:widget/util/nslog"),m=e("wiki-m-lemma:widget/beforeContent-n/topAttach/topAttachStyle"),n=e("wiki-m-lemma:widget/additionalContent-n/promotion/mix"),d=e("wiki-m-common:widget/component/testElem/testElem"),l=e("wiki-m-common:widget/util/cookie"),c=e("wiki-m-common:widget/component/crossdomain/crossdomain"),p=function(e){var t=e.data,o='<div class="top-all" id="J-topAd"><a data-num="'+t.adId+'" ';o+='href="'+t.url+'" target="_blank"></a>',o+='<span class="close-con"><em class="layout-icons_close">',o+="</em></span></div>",window._SF_&&(m[".top-all"].top="0"),m&&(m[".top-all a"]=m[".top-all a"]||{},m[".top-all a"]["adapt-img"]=t.picUrl),n.mixedStyle(m);var p=a(".BK-before-content-wrapper");a("#J-declare").length>0?a("#J-declare").after(n.mixedHtml(o)):p.prepend(n.mixedHtml(o)),i.qAll("30000501",["newLemmaId="+a("#J-vars").attr("data-newLemmaId"),"adId="+t.adId]),a("."+n.getKey("top-all")+" a").on("click",function(){i.qAll("30000502",["newLemmaId="+a("#J-vars").attr("data-newLemmaId"),"adId="+a(this).attr("data-num")])}),a("."+n.getKey("top-all")+" ."+n.getKey("close-con")).on("click",function(){if(i.qAll("30000503",["newLemmaId="+a("#J-vars").attr("data-newLemmaId"),"adId="+t.adId]),a("."+n.getKey("top-all")).remove(),a("#J-attach-top").remove(),window._SF_)try{var e=new c(page.baseUrl.replace("//","")||"wapbaike.baidu.com",page.baseUrl+"/sfproxy.html");e.cookie.set("wapbaiketopad"+t.adId,"closed",{expires:6336e5})}catch(o){l.write("wapbaiketopad"+t.adId,"closed",176,location.host)}else l.write("wapbaiketopad"+t.adId,"closed",176,location.host)}),setTimeout(function(){var e={};e["mobile-lemma-top-ad"]=a("#"+n.getKey("J-topAd"))[0],d.log(e,"adPrevent","mobile-lemma")},1e3)};o.exports=p});
;/*!wiki-m-lemma:widget/component-n/extraInfo/extraInfo.js*/
define("wiki-m-lemma:widget/component-n/extraInfo/extraInfo",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog"],function(o,e){var n=o("wiki-m-common:widget/lib/zepto/zepto"),t=o("wiki-m-common:widget/util/nslog");e.init=function(){n("#J-polysemant-content").length>0&&t.q("polysemantShow");var o=!1;n("#J-more-means").tap(function(e){o?(n("#J-polysemant-content").hide(),n("#J-more-means-icon").removeClass("on"),o=!1):(n("#J-polysemant-content").width(n(window).width()).show(),n("#J-more-means-icon").addClass("on"),o=!0,t.q("polysemantUnfold")),e.preventDefault()}),n("#J-fold").tap(function(e){n("#J-polysemant-content").hide(),n("#J-more-means-icon").removeClass("on"),o=!1;var t=n("#J-polysemant").offset().top-40;n(window).scrollTop()>t&&window.scrollTo(0,t),e.preventDefault()}),n(".J-subLemma-item").click(function(){t.q("polysemantUse"),page.inSf&&n(this).attr("data-sf-href",n(this).attr("data-sf-href")+"?timestamp="+(new Date).getTime())}),window.location.href.indexOf("showopts=1")>-1&&(n("#J-polysemant-content").show(),n("#J-more-means-icon").addClass("on"),o=!0)}});
;/*!wiki-m-lemma:widget/shushuo/shushuoTitle/shushuoTitle.js*/
define("wiki-m-lemma:widget/shushuo/shushuoTitle/shushuoTitle",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto"],function(t,e){var o=t("wiki-m-common:widget/lib/zepto/zepto");e.init=function(t){var e={init:function(t){this.$btn=o("#J-shushuo-"+t+"-btn"),this.$layer=o("#J-"+t+"-tooltip-wrapper"),this.$tooltip=o("#J-"+t+"-tooltip"),this.$btn&&this.bindEvent()},bindEvent:function(){var t=this,e=function(t){t.preventDefault()};t.$btn.on("tap",function(){var i=.5*o(window).height(),n=o(this).offset().top-o(window).scrollTop();n>i?t.$tooltip.removeClass("invert"):t.$tooltip.removeClass("invert").addClass("invert"),t.$layer.removeClass("hide"),t.$tooltip.removeClass("hide"),document.body.style.overflow="hidden",document.addEventListener("touchmove",e,!1)}),t.$layer.on("touchstart",function(){t.$layer.removeClass("hide").addClass("hide"),t.$tooltip.removeClass("hide").addClass("hide"),document.body.style.overflow="",document.removeEventListener("touchmove",e,!1)})}};e.init(t)}});
;/*!wiki-m-lemma:widget/teleplay/actor/actor.js*/
define("wiki-m-lemma:widget/teleplay/actor/actor",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog"],function(i,o,t){var e=i("wiki-m-common:widget/lib/zepto/zepto"),l=i("wiki-m-common:widget/util/nslog");t.exports=function(){l.qAll("20016201"),e("#J-actor-all-btn").on("tap",function(){l.qAll("20016202")})}});
;/*!wiki-m-lemma:widget/teleplay/comment/comment.js*/
define("wiki-m-lemma:widget/teleplay/comment/comment",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog"],function(m,o,t){var e=m("wiki-m-common:widget/lib/zepto/zepto"),i=m("wiki-m-common:widget/util/nslog");t.exports=function(){i.qAll("20016501"),e("#J-tv-comment .comment-item a").on("tap",function(){i.qAll("20016502")}),e("#J-more-tv-comment").length>0&&(i.qAll("20016503"),e("#J-more-tv-comment a").on("tap",function(){i.qAll("20016504")}))}});
;/*!wiki-m-lemma:widget/teleplay/series/series.js*/
define("wiki-m-lemma:widget/teleplay/series/series",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog","ralltiir","wiki-m-common:widget/component/sf/sf"],function(e,i){var s=e("wiki-m-common:widget/lib/zepto/zepto"),o=e("wiki-m-common:widget/util/nslog"),t=e("ralltiir"),l=e("wiki-m-common:widget/component/sf/sf");i.init=function(e){var i=(page.baseUrl||"",new l);o.qAll("20016101"),s("#J-more-series").length>0&&o.qAll("20016103"),s(".series-list .series-item").on("tap",function(){var l=s(this);if(l.hasClass("more-series"))o.qAll("20016104"),s(".series-item-hide").show(),l.remove(),s(".for-hide-has-mr").removeClass("for-hide-has-mr"),s(".for-hide-no-mr").removeClass("for-hide-no-mr");else{o.qAll("20016102");var r="/series/"+s("#J-vars").data("lemmatitle")+"/"+s("#J-vars").data("newlemmaid")+"?part="+l.data("part")+"&anchor="+e.anchor;t.action.redirect(i.inWise?i.wiseBasePath+r:r)}}).on("touchstart",function(e){e.preventDefault()}),s("#J-series-content").length>0&&o.qAll("20016105"),s(".series-section-colpase").live("tap",function(){var e=s(this).prev();if(e.hasClass("ellipsis"))o.qAll("20016106"),e.removeClass("ellipsis"),s(s(this).children("em")[0]).removeClass("layout-icons_down-arrow").addClass("layout-icons_up-arrow");else{o.qAll("20016107"),e.addClass("ellipsis"),s(s(this).children("em")[0]).removeClass("layout-icons_up-arrow").addClass("layout-icons_down-arrow");var i=s(this).parent().offset().top-46;s(window).scrollTop()>i&&window.scrollTo(0,i)}}).on("touchstart",function(e){e.preventDefault()})}});
;/*!wiki-m-lemma:widget/teleplay/video/video.js*/
define("wiki-m-lemma:widget/teleplay/video/video",["require","exports","module","wiki-m-common:widget/lib/zepto/zepto","wiki-m-common:widget/util/nslog"],function(o,i,e){var l=o("wiki-m-common:widget/lib/zepto/zepto"),n=o("wiki-m-common:widget/util/nslog");e.exports=function(){n.qAll("20016401"),l(".video-long").length>0&&(n.qAll("20016402"),l(".video-long .video-link").on("tap",function(){n.qAll("20016403")})),l(".video-short").length>0&&(n.qAll("20016404"),l(".video-short .video-link").on("tap",function(){n.qAll("20016405")})),l("#J-video-all-btn").on("tap",function(){n.qAll("20016406")})}});